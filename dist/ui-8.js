LavaPack.loadBundle([[6708,{"../../../shared/lib/accounts":5612,"../../../shared/lib/accounts/bitcoin-wallet-snap":5611,"../../../shared/lib/accounts/solana-wallet-snap":5615,"../../store/actions":7436,"@metamask/keyring-controller":1943,"@metamask/snaps-utils":2707,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletClientType=n.MultichainWalletSnapSender=n.MultichainWalletSnapClient=void 0,n.useMultichainWalletSnapClient=function(e){return(0,r.useMemo)((()=>new T(e)),[e])},n.useMultichainWalletSnapSender=function(e){return(0,r.useMemo)((()=>new k(e)),[e])};var s=e("@metamask/snaps-utils"),r=e("react"),a=e("@metamask/keyring-controller"),o=e("../../store/actions"),i=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),l=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../../shared/lib/accounts");function c(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function d(e,t){return e.get(p(e,t))}function m(e,t,n){return e.set(p(e,t),n),n}function p(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=n.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e}({});const g={[h.Bitcoin]:{id:i.BITCOIN_WALLET_SNAP_ID,name:i.BITCOIN_WALLET_NAME},[h.Solana]:{id:l.SOLANA_WALLET_SNAP_ID,name:l.SOLANA_WALLET_NAME}};class k{constructor(e){f(this,"snapId",void 0),f(this,"send",(async e=>await(0,o.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:s.HandlerType.OnKeyringRequest,request:e}))),this.snapId=e}}n.MultichainWalletSnapSender=k;var y=new WeakMap,v=new WeakMap;class T{constructor(e){c(this,y,void 0),c(this,v,void 0);const{id:t,name:n}=g[e];if(m(y,this,t),m(v,this,n),!d(y,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return d(y,this)}getSnapName(){return d(v,this)}async createAccount(e,t){const n=await(0,o.createSnapAccount)(d(y,this),e,t);return await(0,o.multichainUpdateBalance)(n.id),await(0,o.multichainUpdateTransactions)(n.id),n}async getNextAvailableAccountName(e){return(0,u.getNextAvailableSnapAccountName)((async()=>(0,o.getNextAvailableAccountName)(a.KeyringTypes.snap)),d(y,this),e)}}n.MultichainWalletSnapClient=T}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[6710,{"../../../../shared/lib/bridge/metrics":5618,"../../../ducks/bridge/selectors":6632,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConvertedUsdAmounts=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),a=e("../../../../shared/lib/bridge/metrics");n.useConvertedUsdAmounts=()=>{const{activeQuote:e}=(0,s.useSelector)(r.getBridgeQuotes),{usd:t}=(0,s.useSelector)(r.getFromAmountInCurrency);return(0,a.getConvertedUsdAmounts)({activeQuote:e??undefined,fromAmountInputValueInUsd:t.toString()})}}}},{package:"$root$",file:"ui/hooks/bridge/events/useConvertedUsdAmounts.ts"}],[6711,{"../../../../shared/constants/time":5605,"../../../ducks/bridge/selectors":6632,"../../../pages/bridge/utils/quote":6853,"../useIsTxSubmittable":6721,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteProperties=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),a=e("../../../pages/bridge/utils/quote"),o=e("../useIsTxSubmittable"),i=e("../../../../shared/constants/time");n.useQuoteProperties=()=>{const{recommendedQuote:e,sortedQuotes:t,quotesInitialLoadTimeMs:n}=(0,s.useSelector)(r.getBridgeQuotes),l=(0,o.useIsTxSubmittable)(),u=n?n/i.SECOND:0;return{can_submit:l,best_quote_provider:(0,a.formatProviderLabel)(null==e?void 0:e.quote),quotes_count:t.length,quotes_list:t.map((e=>(0,a.formatProviderLabel)(e.quote))),initial_load_time_all_quotes:u}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useQuoteProperties.ts"}],[6712,{"../../../../shared/modules/selectors":5662,"../../../ducks/bridge/selectors":6632,"../../../helpers/utils/hardware":6685,"../../../selectors":7418,"../../../selectors/multichain":7422,"./types":6709,"./useConvertedUsdAmounts":6710,"@metamask/bridge-controller":1372,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRequestMetadataProperties=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../../ducks/bridge/selectors"),o=e("../../../helpers/utils/hardware"),i=e("../../../selectors"),l=e("../../../../shared/modules/selectors"),u=e("../../../selectors/multichain"),c=e("./types"),d=e("./useConvertedUsdAmounts");n.useRequestMetadataProperties=()=>{const{slippage:e}=(0,s.useSelector)(a.getQuoteRequest),t=(0,s.useSelector)(a.getIsBridgeTx),n=(0,s.useSelector)(u.getMultichainCurrentChainId),m=(0,s.useSelector)((e=>(0,l.getIsSmartTransaction)(e,n))),{usd_amount_source:p}=(0,d.useConvertedUsdAmounts)(),f=(0,s.useSelector)(i.getCurrentKeyring),h=(0,o.isHardwareKeyring)(f.type)??!1,g=e,k=t?c.ActionType.CROSSCHAIN_V1:c.ActionType.SWAPBRIDGE_V1,y=g!==r.BRIDGE_DEFAULT_SLIPPAGE;return{slippage_limit:e??r.BRIDGE_DEFAULT_SLIPPAGE,custom_slippage:y,is_hardware_wallet:h,swap_type:k,stx_enabled:m,usd_amount_source:p}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestMetadataProperties.ts"}],[6713,{"../../../ducks/bridge/selectors":6632,"@metamask/bridge-controller":1372,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRequestProperties=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../../ducks/bridge/selectors");n.useRequestProperties=()=>{const{srcChainId:e,destChainId:t,srcTokenAddress:n,destTokenAddress:o}=(0,s.useSelector)(a.getQuoteRequest),i=(0,s.useSelector)(a.getFromToken),l=(0,s.useSelector)(a.getToToken),u=null==i?void 0:i.symbol,c=null==l?void 0:l.symbol,d=n,m=o;return e&&t&&d&&m&&u&&c?{quoteRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(e),chain_id_destination:(0,r.formatChainIdToCaip)(t),token_symbol_source:u,token_symbol_destination:c,token_address_source:d,token_address_destination:m},flippedRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(t),chain_id_destination:(0,r.formatChainIdToCaip)(e),token_symbol_source:c,token_symbol_destination:u,token_address_source:m,token_address_destination:d}}:{}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestProperties.ts"}],[6714,{"../../../ducks/bridge/selectors":6632,"../../../pages/bridge/utils/quote":6853,"./useConvertedUsdAmounts":6710,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTradeProperties=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),a=e("../../../pages/bridge/utils/quote"),o=e("./useConvertedUsdAmounts");n.useTradeProperties=()=>{const{activeQuote:e}=(0,s.useSelector)(r.getBridgeQuotes),{usd_amount_source:t,usd_quoted_gas:n,usd_quoted_return:i}=(0,o.useConvertedUsdAmounts)();return{gas_included:!1,quoted_time_minutes:null!=e&&e.estimatedProcessingTimeInSeconds?e.estimatedProcessingTimeInSeconds/60:0,provider:(0,a.formatProviderLabel)(null==e?void 0:e.quote),usd_amount_source:t,usd_quoted_gas:n,usd_quoted_return:i}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useTradeProperties.ts"}],[6715,{"../../../shared/constants/bridge":5579,"../../../shared/constants/common":5580,"@metamask/bridge-controller":1372,"@metamask/transaction-controller":2763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcTxMeta:t}){var n,l,u,c;if((null==t?void 0:t.type)!==s.TransactionType.bridge)return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:d,destChainId:m}=i({bridgeHistoryItem:e});if(!d||!m)return{srcNetwork:undefined,destNetwork:undefined};const p=(0,r.formatChainIdToCaip)(d),f=(0,r.isSolanaChainId)(d)?p:(0,r.formatChainIdToHex)(d),h={chainId:p,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[f],...(0,r.isSolanaChainId)(p)?{isEvm:!1,nativeCurrency:null===(n=(0,r.getNativeAssetForChainId)(d))||void 0===n?void 0:n.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[f]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=(0,r.getNativeAssetForChainId)(d))||void 0===l?void 0:l.symbol,isEvm:!0}},g=(0,r.formatChainIdToCaip)(m),k=(0,r.isSolanaChainId)(m)?g:(0,r.formatChainIdToHex)(m),y={chainId:g,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[k],...(0,r.isSolanaChainId)(g)?{isEvm:!1,nativeCurrency:null===(u=(0,r.getNativeAssetForChainId)(m))||void 0===u?void 0:u.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[k]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(c=(0,r.getNativeAssetForChainId)(m))||void 0===c?void 0:c.symbol,isEvm:!0}};return{srcNetwork:h,destNetwork:y}};var s=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),a=e("../../../shared/constants/common"),o=e("../../../shared/constants/bridge");const i=({bridgeHistoryItem:e})=>({srcChainId:e?e.quote.srcChainId:undefined,destChainId:e?e.quote.destChainId:undefined})}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[6716,{"../../ducks/bridge/bridge":6631,"../../ducks/bridge/selectors":6632,"../../ducks/bridge/utils":6633,"../../ducks/metamask/metamask":6642,"../../selectors":7418,"../../selectors/multichain":7422,"../useMultichainSelector":6775,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeExchangeRates=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors"),o=e("../../selectors"),i=e("../../ducks/metamask/metamask"),l=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),c=e("../useMultichainSelector"),d=e("../../selectors/multichain");n.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(a.getQuoteRequest),{activeQuote:n}=(0,r.useSelector)(a.getBridgeQuotes),m=(0,c.useMultichainSelector)(d.getMultichainCurrentChainId),p=(0,r.useSelector)(a.getToChain),f=null==p?void 0:p.chainId,h=(0,r.useSelector)(o.getParticipateInMetaMetrics),g=(0,r.useDispatch)(),k=(0,r.useSelector)(i.getCurrentCurrency),y=n?n.quote.srcAsset.address:e,v=(0,r.useSelector)(a.getFromToken),T=(null==v?void 0:v.address)??y,b=n?n.quote.destAsset.address:t,S=(0,r.useSelector)(a.getToToken),C=(null==S?void 0:S.address)??b,w=(0,r.useSelector)(o.getMarketData);(0,s.useEffect)((()=>{if(m&&T){(0,u.exchangeRateFromMarketData)(m,T,w)||g((0,l.setSrcTokenExchangeRates)({chainId:m,tokenAddress:T,currency:k}))}}),[k,g,m,T,w]),(0,s.useEffect)((()=>{if(f&&C){(0,u.exchangeRateFromMarketData)(f,C,w)||(g((0,l.setDestTokenExchangeRates)({chainId:f,tokenAddress:C,currency:k})),h&&"usd"!==k&&g((0,l.setDestTokenUsdExchangeRates)({chainId:f,tokenAddress:C,currency:"usd"})))}}),[k,g,h,w,f,C])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[6717,{"../../ducks/bridge-status/selectors":6629,"../../helpers/constants/routes":6660,"@metamask/transaction-controller":2763,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FINAL_NON_CONFIRMED_STATUSES=void 0,n.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){var n;const r=(0,a.useHistory)(),u=(0,s.useSelector)(o.selectBridgeHistoryForAccount),c=e.initialTransaction,d=c.id,m=u[d],p=m?Boolean((null==m?void 0:m.status.srcChain.txHash)&&(null===(n=m.status.destChain)||void 0===n?void 0:n.txHash)):null,f=l.includes(c.status)?undefined:()=>{r.push({pathname:`${i.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:m,isBridgeComplete:p,showBridgeTxDetails:f}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("react-router-dom"),o=e("../../ducks/bridge-status/selectors"),i=e("../../helpers/constants/routes");const l=n.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[6718,{"../../../shared/constants/metametrics":5589,"../../../shared/modules/selectors/networks":5663,"../../contexts/metametrics":6618,"../../ducks/bridge/actions":6630,"../../helpers/constants/routes":6660,"../../helpers/utils/portfolio":6696,"../../selectors":7418,"./useCrossChainSwapsEventTracker":6720,"@metamask/bridge-controller":1372,"@metamask/utils":2807,"ethereumjs-util":4183,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("ethereumjs-util"),i=e("@metamask/utils"),l=e("@metamask/bridge-controller"),u=e("../../ducks/bridge/actions"),c=e("../../selectors"),d=e("../../contexts/metametrics"),m=e("../../../shared/constants/metametrics"),p=e("../../helpers/constants/routes"),f=e("../../helpers/utils/portfolio"),h=e("../../../shared/modules/selectors/networks"),g=e("./useCrossChainSwapsEventTracker");n.default=()=>{const e=(0,r.useDispatch)(),t=(0,a.useHistory)(),n=(0,s.useContext)(d.MetaMetricsContext),k=(0,g.useCrossChainSwapsEventTracker)(),y=(0,r.useSelector)(c.getMetaMetricsId),v=(0,r.useSelector)(c.getParticipateInMetaMetrics),T=(0,r.useSelector)(c.getDataCollectionForMarketing),b=(0,r.useSelector)(h.getProviderConfig),S=(0,r.useSelector)(c.getUseExternalServices),C=(0,r.useSelector)(c.getIsBridgeEnabled),w=(0,r.useSelector)(c.getIsBridgeChain);(0,s.useEffect)((()=>{S&&e((0,u.setBridgeFeatureFlags)())}),[e,u.setBridgeFeatureFlags]);return{openBridgeExperience:(0,s.useCallback)(((e,s,r,a=!1)=>{if(w&&b)if(C){k({event:m.MetaMetricsEventName.ActionOpened,category:m.MetaMetricsEventCategory.Navigation,properties:{location:"Home"===e?m.MetaMetricsSwapsEventSource.MainView:m.MetaMetricsSwapsEventSource.TokenView,chain_id_source:(0,l.formatChainIdToCaip)(b.chainId),token_symbol_source:s.symbol,token_address_source:s.address}}),n({event:m.MetaMetricsEventName.BridgeLinkClicked,category:m.MetaMetricsEventCategory.Navigation,properties:{token_symbol:s.symbol,location:e,text:"Bridge",chain_id:b.chainId}});let r=`${p.CROSS_CHAIN_SWAP_ROUTE}${p.PREPARE_SWAP_ROUTE}`;r+=`?token=${(0,i.isStrictHexString)(s.address)?(0,o.toChecksumAddress)(s.address):s.address}`,a&&(r+="&swaps=true"),t.push(r)}else{const t=(0,f.getPortfolioUrl)("bridge","ext_bridge_button",y,v,T);global.platform.openTab({url:`${t}${r??`&token=${s.address}`}`}),n({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.BridgeLinkClicked,properties:{location:e,text:"Bridge",url:t,chain_id:b.chainId,token_symbol:s.symbol}})}}),[C,w,e,t,y,n,k,v,T,b])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[6719,{"../../ducks/bridge/selectors":6632,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCountdownTimer=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors");const o=1e3;n.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(a.getBridgeQuotes),t=(0,r.useSelector)(a.getQuoteRefreshRate),[n,i]=(0,s.useState)(t);return(0,s.useEffect)((()=>{e&&i(t-(Date.now()-e)+o)}),[e]),(0,s.useEffect)((()=>{const e=setInterval((()=>{i(Math.max(0,n-o))}),o);return()=>clearInterval(e)}),[n]),n}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[6720,{"../../../shared/constants/metametrics":5589,"../../contexts/metametrics":6618,"./events/types":6709,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCrossChainSwapsEventTracker=void 0;var s=e("react"),r=e("../../contexts/metametrics"),a=e("../../../shared/constants/metametrics"),o=e("./events/types");n.useCrossChainSwapsEventTracker=()=>{const e=(0,s.useContext)(r.MetaMetricsContext);return(0,s.useCallback)((({event:t,category:n,properties:s})=>{e({category:n??a.MetaMetricsEventCategory.CrossChainSwaps,event:t,properties:{action_type:o.ActionType.CROSSCHAIN_V1,...s},value:"value"in s?s.value:undefined})}),[e])}}}},{package:"$root$",file:"ui/hooks/bridge/useCrossChainSwapsEventTracker.ts"}],[6721,{"../../ducks/bridge/selectors":6632,"../../pages/bridge/hooks/useIsMultichainSwap":6823,"../../selectors/multichain":7422,"../useMultichainSelector":6775,"./useLatestBalance":6722,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTxSubmittable=void 0;var s,r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("react"),i=e("../../ducks/bridge/selectors"),l=e("../../selectors/multichain"),u=e("../useMultichainSelector"),c=e("../../pages/bridge/hooks/useIsMultichainSwap"),d=(s=e("./useLatestBalance"))&&s.__esModule?s:{default:s};n.useIsTxSubmittable=()=>{const e=(0,r.useSelector)(i.getFromToken),t=(0,r.useSelector)(i.getToToken),n=(0,u.useMultichainSelector)(l.getMultichainCurrentChainId),s=(0,r.useSelector)(i.getToChain),m=(0,r.useSelector)(i.getFromAmount),{activeQuote:p}=(0,r.useSelector)(i.getBridgeQuotes),f=(0,c.useIsMultichainSwap)(),{isInsufficientBalance:h,isInsufficientGasBalance:g,isInsufficientGasForQuote:k}=(0,r.useSelector)(i.getValidationErrors),y=(0,d.default)(e),v=(0,o.useMemo)((()=>(0,a.getNativeAssetForChainId)(n)),[n]),T=(0,d.default)(v);return Boolean(e&&t&&n&&(f||s)&&m&&p&&!h(y)&&!g(T)&&!k(T))}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[6722,{"../../../shared/constants/multichain/assets":5590,"../../../shared/lib/transactions-controller-utils":5638,"../../../shared/modules/Numeric":5641,"../../selectors":7418,"../../selectors/multichain":7422,"../useAsync":6751,"../useMultichainSelector":6775,"@metamask/bridge-controller":1372,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("@metamask/bridge-controller"),a=e("../../selectors"),o=e("../useAsync"),i=e("../../../shared/modules/Numeric"),l=e("../../../shared/lib/transactions-controller-utils"),u=e("../useMultichainSelector"),c=e("../../selectors/multichain"),d=e("../../../shared/constants/multichain/assets");n.default=e=>{const{address:t,id:n}=(0,u.useMultichainSelector)(a.getSelectedInternalAccount),m=(0,u.useMultichainSelector)(c.getMultichainCurrentChainId),p=(0,u.useMultichainSelector)(c.getMultichainBalances),f=null==p?void 0:p[n],h=(0,o.useAsyncResult)((async()=>{if(null==e||!e.chainId||!e)return undefined;const{chainId:n}=e;if((0,r.isSolanaChainId)(n)&&e.decimals){var s;const t=(0,r.isNativeAddress)(e.address)?d.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:e.assetId??e.address;return i.Numeric.from((null==f||null===(s=f[t])||void 0===s?void 0:s.amount)??(null==e?void 0:e.string),10).shiftedBy(-1*e.decimals).toString()}var a;return e.address&&(0,r.formatChainIdToCaip)(m)===(0,r.formatChainIdToCaip)(n)?null===(a=await(0,r.calcLatestSrcBalance)(global.ethereumProvider,t,e.address,(0,r.formatChainIdToHex)(n)))||void 0===a?void 0:a.toString():undefined}),[m,e,t,f]);if(e&&"number"!=typeof e.decimals)throw new Error(`Failed to calculate latest balance - ${e.symbol} token is missing "decimals" value`);return(0,s.useMemo)((()=>null!=h&&h.value?(0,l.calcTokenAmount)(h.value,null==e?void 0:e.decimals):undefined),[null==h?void 0:h.value,null==e?void 0:e.decimals])}}}},{package:"$root$",file:"ui/hooks/bridge/useLatestBalance.ts"}],[6723,{"../../../shared/constants/metametrics":5589,"../../ducks/bridge/selectors":6632,"./events/useConvertedUsdAmounts":6710,"./events/useQuoteProperties":6711,"./events/useRequestMetadataProperties":6712,"./events/useRequestProperties":6713,"./events/useTradeProperties":6714,"./useCrossChainSwapsEventTracker":6720,"./useLatestBalance":6722,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteFetchEvents=void 0;var s,r=e("react"),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../shared/constants/metametrics"),l=e("../../ducks/bridge/selectors"),u=e("./useCrossChainSwapsEventTracker"),c=(s=e("./useLatestBalance"))&&s.__esModule?s:{default:s},d=e("./events/useRequestMetadataProperties"),m=e("./events/useRequestProperties"),p=e("./events/useTradeProperties"),f=e("./events/useConvertedUsdAmounts"),h=e("./events/useQuoteProperties");n.useQuoteFetchEvents=()=>{const e=(0,u.useCrossChainSwapsEventTracker)(),{isLoading:t,quotesRefreshCount:n,quoteFetchError:s,quotesInitialLoadTimeMs:g}=(0,a.useSelector)(l.getBridgeQuotes),{insufficientBal:k,srcTokenAddress:y}=(0,a.useSelector)(l.getQuoteRequest),v=(0,a.useSelector)(l.getFromAmount),T=(0,a.useSelector)(l.getValidationErrors),{quoteRequestProperties:b}=(0,m.useRequestProperties)(),S=(0,d.useRequestMetadataProperties)(),{usd_amount_source:C}=(0,f.useConvertedUsdAmounts)(),w=!k,E=(0,h.useQuoteProperties)(),x=(0,p.useTradeProperties)(),I=(0,a.useSelector)(l.getFromToken),_=(0,a.useSelector)(l.getFromChain),A=(0,c.default)(I),M=(0,r.useMemo)((()=>null!=_&&_.chainId?(0,o.getNativeAssetForChainId)(_.chainId):null),[null==_?void 0:_.chainId]),P=(0,c.default)(M),D=(0,r.useMemo)((()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:n,isInsufficientGasForQuote:s,isInsufficientBalance:r}=T,a=[];return e&&a.push("low_return"),t&&a.push("no_quotes"),n(P)&&a.push("insufficient_gas_balance"),s(P)&&a.push("insufficient_gas_for_selected_quote"),r(A)&&a.push("insufficient_balance"),a}),[T]);(0,r.useEffect)((()=>{const s=t&&0===n&&g===undefined;b&&v&&y&&s&&e({event:i.MetaMetricsEventName.CrossChainSwapsQuotesRequested,properties:{...b,...S,has_sufficient_funds:w,usd_amount_source:C}})}),[t,g]),(0,r.useEffect)((()=>{b&&v&&y&&s&&e({event:i.MetaMetricsEventName.CrossChainSwapsQuoteError,properties:{...b,...S,has_sufficient_funds:w,usd_amount_source:C,error_message:s}})}),[s]),(0,r.useEffect)((()=>{v&&y&&!t&&n>=0&&E.initial_load_time_all_quotes>0&&b&&!s&&x&&e({event:i.MetaMetricsEventName.CrossChainSwapsQuotesReceived,properties:{...b,...S,...E,...x,refresh_count:n-1,warnings:D}})}),[n])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[6724,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5642,"../../ducks/bridge/selectors":6632,"../useAsync":6751,"@metamask/bridge-controller":1372,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenAlerts=n.default=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../ducks/bridge/selectors"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../useAsync");const l=()=>{const e=(0,s.useSelector)(a.getFromToken),t=(0,s.useSelector)(a.getFromChain),n=(0,s.useSelector)(a.getToToken),l=(0,s.useSelector)(a.getToChain),{value:u}=(0,i.useAsyncResult)((async()=>{if(e&&t&&n&&l&&!(0,r.isNativeAddress)(n.address)){const e=(0,o.convertChainIdToBlockAidChainName)(null==l?void 0:l.chainId);if(e)return await(0,o.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(n.address))}return null}),[n,l]);return{tokenAlert:u}};n.useTokenAlerts=l;n.default=l}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[6725,{"../../../shared/constants/bridge":5579,"../../../shared/constants/multichain/networks":5591,"../../../shared/constants/network":5592,"../../../shared/constants/time":5605,"../../../shared/constants/transaction":5607,"../../../shared/lib/asset-utils":5616,"../../../shared/lib/fetch-with-cache":5621,"../../ducks/bridge/selectors":6632,"../../pages/swaps/swaps.util":7400,"../useAsync":6751,"../useMultichainBalances":6774,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var s,r=e("react"),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../shared/constants/transaction"),l=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),c=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),m=e("../../../shared/constants/time"),p=e("../../ducks/bridge/selectors"),f=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},h=e("../../../shared/constants/bridge"),g=e("../../../shared/lib/asset-utils"),k=e("../../../shared/constants/multichain/networks");n.useTokensWithFiltering=(e,t,n)=>{const s=(0,a.useSelector)((t=>(0,p.getTopAssetsFromFeatureFlags)(t,e))),{assetsWithBalance:y}=(0,u.useMultichainBalances)(n),v=(0,a.useSelector)((e=>e.metamask.tokensChainsCache)),{value:T,pending:b}=(0,c.useAsyncResult)((async()=>{if(e){if(!(0,o.isSolanaChainId)(e)){var t,n;const s=(0,o.formatChainIdToHex)(e),r=null===(t=v[s])||void 0===t?void 0:t.timestamp,a=null===(n=v[s])||void 0===n?void 0:n.data;if(r&&Date.now()-r<=10*m.MINUTE&&Object.values(a).length>0)return a}return await(0,o.fetchBridgeTokens)(e,o.BridgeClientId.EXTENSION,(async(e,t)=>{const{headers:n,...s}=t??{};return await(0,f.default)({url:e,...s,fetchOptions:{method:"GET",headers:n},functionName:"fetchBridgeTokens"})}),h.BRIDGE_API_BASE_URL)}return{}}),[e,v]),{value:S,pending:C}=(0,c.useAsyncResult)((async()=>e?s?s.map((e=>({address:e}))):await(0,d.fetchTopAssetsList)(e):[]),[e,s]),w=(0,r.useCallback)((t=>{if(!e||!t)return undefined;const n={...t,chainId:(0,o.isSolanaChainId)(e)?(0,o.formatChainIdToCaip)(e):(0,o.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,g.toAssetId)(t.address,(0,o.formatChainIdToCaip)(e))};return(0,o.isNativeAddress)(t.address)?{...n,type:i.AssetType.native,address:"",image:l.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId]??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}:{...n,type:i.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}}),[e]);return{filteredTokenListGenerator:(0,r.useCallback)((n=>function*(){const s=(e,s,r)=>n(e,s,r)&&(!t||!r||!(t.symbol===e&&t.address===s&&t.chainId===(0,o.formatChainIdToCaip)(r)));if(e&&S&&T&&0!==Object.keys(T).length){for(const e of y){var r,a,u;if(s(e.symbol,e.address??undefined,e.chainId))if((0,o.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:i.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:l.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??k.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(a=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===a?void 0:a.iconUrl)||(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId)))};else yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:i.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||(null==T||null===(u=T[e.address.toLowerCase()])||void 0===u?void 0:u.iconUrl))??(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))??""}}for(const t of S){const n=null==T?void 0:T[t.address],r=w(n);r&&s(r.symbol,r.address??undefined,e)&&r&&(yield r)}for(const t of Object.values(T)){const n=w(t);n&&!n.symbol.includes("$")&&s(n.symbol,n.address??undefined,e)&&n&&(yield n)}}}()),[w,y,S,e,T,t]),isLoading:b||C}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[6726,{"./useAccountSyncing":6727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return s.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return s.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchAccountSyncing}});var s=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[6727,{"../../../ducks/metamask/metamask":6642,"../../../selectors":7418,"../../../selectors/identity/authentication":7416,"../../../selectors/identity/profile-syncing":7417,"../../../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),l=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(l.selectIsAccountSyncingReadyToBeDispatched),t=(0,o.useSelector)(l.selectIsProfileSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),s=(0,o.useSelector)(c.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(c.getCompletedOnboarding);return Boolean(n&&t&&s&&r&&a&&e)};n.useShouldDispatchAccountSyncing=m;n.useAccountSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,a.useCallback)((()=>{try{if(!t)return;e((0,i.syncInternalAccountsWithUserStorage)())}catch(e){r.default.error(e)}}),[e,t]);return{dispatchAccountSyncing:n,shouldDispatchAccountSyncing:t}};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,o.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,a.useCallback)((async()=>{try{await e((0,i.deleteAccountSyncingDataFromUserStorage)())}catch{}}),[])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[6728,{"./useAutoSignIn":6729,"./useAutoSignOut":6730,"./useSignIn":6731,"./useSignOut":6732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return a.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return o.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return s.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var s=e("./useSignIn"),r=e("./useSignOut"),a=e("./useAutoSignIn"),o=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[6729,{"../../../ducks/metamask/metamask":6642,"../../../selectors":7418,"../../../selectors/identity/authentication":7416,"../../../selectors/identity/profile-syncing":7417,"../../../selectors/metamask-notifications/metamask-notifications":7419,"./useSignIn":6731,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const{signIn:e}=(0,c.useSignIn)(),t=Boolean((0,r.useSelector)(a.getIsUnlocked)),n=Boolean((0,r.useSelector)(o.getUseExternalServices)),d=Boolean((0,r.useSelector)(a.getCompletedOnboarding)),m=(0,r.useSelector)(i.selectIsSignedIn),p=(0,s.useMemo)((()=>!m&&t&&n&&d),[m,t,n,d]),f=(0,r.useSelector)(l.selectIsProfileSyncingEnabled),h=(0,r.useSelector)(o.getParticipateInMetaMetrics),g=(0,r.useSelector)(u.selectIsMetamaskNotificationsEnabled),k=(0,s.useMemo)((()=>f||h||g),[f,h,g]),y=(0,s.useMemo)((()=>p&&k),[p,k]);return{autoSignIn:(0,s.useCallback)((async()=>{y&&await e()}),[y,e]),shouldAutoSignIn:y}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),l=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors/metamask-notifications/metamask-notifications"),c=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[6730,{"../../../ducks/metamask/metamask":6642,"../../../selectors":7418,"../../../selectors/identity/authentication":7416,"./useSignOut":6732,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const{signOut:e}=(0,l.useSignOut)(),t=Boolean((0,r.useSelector)(a.getIsUnlocked)),n=Boolean((0,r.useSelector)(o.getUseExternalServices)),u=(0,r.useSelector)(i.selectIsSignedIn),c=(0,s.useMemo)((()=>u&&t&&!n),[u,t,n]),d=(0,s.useMemo)((()=>c),[c]);return{autoSignOut:(0,s.useCallback)((async()=>{d&&await e()}),[d,e]),shouldAutoSignOut:d}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),l=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[6731,{"../../../selectors/identity/authentication":7416,"../../../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)((()=>!t),[t]);return{signIn:(0,r.useCallback)((async()=>{if(n)try{await e((0,l.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}}),[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),l=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[6732,{"../../../selectors/identity/authentication":7416,"../../../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)((()=>Boolean(t)),[t]);return{signOut:(0,r.useCallback)((async()=>{if(n)try{await e((0,l.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}}),[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),l=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[6733,{"./useProfileSyncing":6734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useDisableProfileSyncing",{enumerable:!0,get:function(){return s.useDisableProfileSyncing}}),Object.defineProperty(n,"useEnableProfileSyncing",{enumerable:!0,get:function(){return s.useEnableProfileSyncing}});var s=e("./useProfileSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/index.ts"}],[6734,{"../../../store/actions":7436,"@metamask/profile-sync-controller/user-storage":2304,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableProfileSyncing=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableProfileSyncing:(0,r.useCallback)((async()=>{n(null);try{await e((0,l.setIsBackupAndSyncFeatureEnabled)(i.BACKUPANDSYNC_FEATURES.main,!1))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t),o.default.error(t)}finally{e((0,l.hideLoadingIndication)())}}),[e]),error:t}},n.useEnableProfileSyncing=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableProfileSyncing:(0,r.useCallback)((async()=>{n(null);try{await e((0,l.setIsBackupAndSyncFeatureEnabled)(i.BACKUPANDSYNC_FEATURES.main,!0))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}}),[e]),error:t}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("@metamask/profile-sync-controller/user-storage"),l=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/useProfileSyncing.ts"}],[6735,{"../../selectors/metamask-notifications/metamask-notifications":7419,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=a(),{featureAnnouncementsReadCount:t}=o(),{onChainMetamaskNotificationsReadCount:n}=i();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=a(),{featureAnnouncementsUnreadCount:t}=o(),{onChainMetamaskNotificationsUnreadCount:n}=i();return{notificationsUnreadCount:e+t+n}};var s=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const a=()=>({unreadSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsReadCount)}),o=()=>{const e=(0,s.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,s.useSelector)(r.getFeatureAnnouncementsUnreadCount),n=(0,s.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,s.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,s.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),n=(0,s.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6736,{"../../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.createOnChainTriggers)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useDisableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useEnableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useListNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[u,c]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)((async()=>{n(!0),l(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return c(n),n}catch(e){throw o.default.error(e),l(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}}),[e]),notificationsData:u,isLoading:t,error:s}},n.useMarkNotificationAsRead=function(){const e=(0,a.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)((async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw o.default.error(e),e}}),[e])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6737,{"../../selectors/metamask-notifications/metamask-notifications":7419,"../../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,a.useSelector)(l.getIsUpdatingMetamaskNotificationsAccount),n=(0,a.useSelector)(l.selectIsMetamaskNotificationsEnabled),s=function(){const e=(0,a.useDispatch)(),t=(0,r.useCallback)((async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[o,u]=(0,r.useState)({}),[c,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),f=(0,r.useMemo)((()=>JSON.stringify(e)),[e]),h=(0,r.useCallback)((async e=>{try{d(!0),p(null);const t=await s(e);u(t)}catch{p("Failed to get account settings")}finally{d(!1)}}),[]);return(0,r.useEffect)((()=>{if(!n)return;const e=JSON.parse(f);h(e)}),[f,s,n]),{data:o,initialLoading:c,error:m,accountsBeingUpdated:t,update:h}},n.useSwitchAccountNotificationsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async(t,s)=>{n(null);try{s?await e((0,i.updateOnChainTriggersByAccount)(t)):await e((0,i.deleteOnChainTriggersByAccount)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}e((0,i.hideLoadingIndication)())}),[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}}),[e]),error:t}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),l=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6738,{"../../selectors":7418,"../../selectors/accounts":7409,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var s=e("react"),r=e("react-redux"),a=e("../../selectors/accounts"),o=e("../../selectors");n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(o.getMetaMaskHdKeyrings),t=(0,r.useSelector)(a.getInternalAccounts);return(0,s.useMemo)((()=>e.map((e=>{const n=t.filter((t=>{var n;return(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id})).map((e=>e.address));return{...e,accounts:[...e.accounts,...n]}}))),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[6739,{"../../../../shared/modules/selectors/networks":5663,"../../../selectors":7418,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../shared/modules/selectors/networks"),o=e("../../../selectors");let i=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=i.BuySellButton)=>{const t=(0,r.useSelector)(a.getCurrentChainId),n=(0,r.useSelector)(o.getMetaMetricsId),l=(0,r.useSelector)(o.getParticipateInMetaMetrics),u=(0,r.useSelector)(o.getDataCollectionForMarketing),c=(0,s.useCallback)((t=>{try{const s=new URLSearchParams;s.set("metamaskEntry",e),s.set("chainId",t),n&&s.set("metametricsId",n),s.set("metricsEnabled",String(l)),u&&s.set("marketingEnabled",String(u));const r=new URL("https://portfolio.metamask.io");return r.pathname="buy",r.search=s.toString(),r.toString()}catch{return"https://portfolio.metamask.io/buy"}}),[n]);return{openBuyCryptoInPdapp:(0,s.useCallback)((e=>{const n=c(e||t);global.platform.openTab({url:n})}),[t]),getBuyURI:c}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[6740,{"../../../shared/modules/conversion.utils":5646,"../../../shared/modules/hexstring-utils":5652,"../../selectors/snaps":7433,"@metamask/utils":2807,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var s=e("@metamask/utils"),r=e("react-redux"),a=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils");n.useDisplayName=e=>{const{address:t,chain:{namespace:n,reference:l}}=e,u=n===s.KnownCaipNamespace.Eip155,c=u?(0,o.toChecksumHexAddress)(t):t,d=(0,r.useSelector)((e=>(0,a.getMemoizedAccountName)(e,c))),m=(0,r.useSelector)((e=>(0,a.getAddressBookEntryByNetwork)(e,c,`0x${(0,i.decimalToHex)(u?l:"0")}`)));return d||u&&(null==m?void 0:m.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[6741,{"../../selectors":7418,"@metamask/snaps-sdk":2596,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,s.useSelector)((t=>(0,a.getSnapInsights)(t,e))),n=t?Object.values(t):[],o=n.filter((e=>e.severity===r.SeverityLevel.Critical));return{data:n,warnings:o}};var s=e("react-redux"),r=e("@metamask/snaps-sdk"),a=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[6742,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=()=>{const e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[6743,{"../../store/actions":7436,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var s=e("react"),r=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,s.useState)();return(0,s.useEffect)((()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||n(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[6744,{"../../helpers/utils/util":6704,"@metamask/snaps-utils":2707,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-router-dom"),r=e("@metamask/snaps-utils"),a=e("../../helpers/utils/util");n.default=()=>{const e=(0,s.useHistory)();return{navigate:t=>{let n;const s=(0,r.parseMetaMaskUrl)(t);n=s.snapId?(0,a.getSnapRoute)(s.snapId):s.path,e.push(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[6745,{"../../store/actions":7436,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,o]=(0,s.useState)(!0),[i,l]=(0,s.useState)(undefined),[u,c]=(0,s.useState)(undefined);return(0,s.useEffect)((()=>{let n=!1;return e&&async function(e){try{c(undefined),o(!0);const s=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(l(s),(0,a.forceUpdateMetamaskState)(t))}catch(e){n||c(e)}finally{n||o(!1)}}(e),()=>{n=!0}}),[e]),{data:i,error:u,loading:n}};var s=e("react"),r=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[6746,{"../../../shared/constants/swaps":5603,"../../../shared/modules/selectors/networks":5663,"../../ducks/swaps/swaps":6650,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../../../shared/modules/selectors/networks"),i=e("../../../shared/constants/swaps"),l=e("../../ducks/swaps/swaps");n.default=function(){const e=(0,r.useSelector)(o.getCurrentChainId),t=(0,r.useSelector)(l.getFromToken,a.isEqual),n=(0,s.useMemo)((()=>{if(!t)return null;const n=i.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return n?n.address===(null==t?void 0:t.address)?i.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:n:null}),[e,null==t?void 0:t.address]);return n||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:n}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[6747,{"../../shared/modules/conversion.utils":5646,"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../helpers/utils/token-util":6701,"../selectors":7418,"ethereumjs-util":4183,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),c=e("../../shared/modules/selectors/networks");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,s.useSelector)(c.getNetworkConfigurationsByChainId),d=(0,s.useSelector)(o.getCurrencyRates),m=(0,s.useSelector)(o.getCurrentCurrency),p=(0,s.useSelector)(i.getCrossChainTokenExchangeRates,s.shallowEqual),f=(0,s.useSelector)(i.getCrossChainMetaMaskCachedBalances),h=(0,a.useMemo)((()=>({...p})),[p]),g=(0,a.useMemo)((()=>t.map((t=>{var s,a;const{tokensWithBalances:o}=t,i=n[t.chainId].nativeCurrency,c=null==d||null===(s=d[i])||void 0===s?void 0:s.conversionRate,p=o.map((e=>{var n;const s=null==h||null===(n=h[t.chainId])||void 0===n?void 0:n[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(s,c,m,e.string,e.symbol,!1,!1)})),g=(null==f||null===(a=f[t.chainId])||void 0===a?void 0:a[null==e?void 0:e.address])??0,k=(0,l.getValueFromWeiHex)({value:g,toCurrency:m,conversionRate:c,numberOfDecimals:2});return{...t,tokenFiatBalances:p,nativeFiatValue:k}}))),[t,n,d,h,f,null==e?void 0:e.address,m]);return{totalFiatBalance:(0,a.useMemo)((()=>g.reduce(((e,t)=>{const n=t.tokenFiatBalances.filter((e=>e!==undefined)),s=(0,l.sumDecimals)(t.nativeFiatValue,...n);return e+(s.toNumber?s.toNumber():Number(s))}),0)),[g]).toString(10),tokenFiatBalancesCrossChains:g}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[6748,{"../../shared/modules/conversion.utils":5646,"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../helpers/utils/confirm-tx.util":6681,"../helpers/utils/token-util":6701,"../helpers/utils/util":6704,"../selectors":7418,"./useTokenBalances":6791,"ethereumjs-util":4183,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../../shared/modules/selectors/networks"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),c=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,s.useSelector)(o.getCurrentChainId),f=(0,s.useSelector)(u.getConversionRate),h=(0,s.useSelector)(u.getCurrentCurrency),g=(0,s.useSelector)(i.getTokenExchangeRates,s.shallowEqual),k=(0,s.useSelector)(i.getConfirmationExchangeRates),y=(0,s.useSelector)(i.getMetaMaskCachedBalances),v=(null==y?void 0:y[null==e?void 0:e.address])??0,T=(0,l.getValueFromWeiHex)({value:v,toCurrency:h,conversionRate:f,numberOfDecimals:2}),b=(0,s.useSelector)(i.getAllTokens),S=(0,a.useMemo)((()=>{var t;return(null==b||null===(t=b[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,n,b]),C=(0,s.useSelector)(i.getTokenList),w=(0,s.useSelector)(i.getNativeCurrencyImage),E=(0,s.useSelector)(u.getNativeCurrency),{tokensWithBalances:x}=(0,p.useTokenTracker)({chainId:n,tokens:S,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),I=(0,a.useMemo)((()=>({...g,...k})),[k,g]),_=(0,a.useMemo)((()=>x.map((e=>{const t=I[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,f,h,e.string,e.symbol,!1,!1)}))),[x,I,f,h]),A=(0,a.useMemo)((()=>((e,t)=>{const n=[];return t.forEach((t=>{const s=null==e?void 0:e[t.address.toLowerCase()];s&&n.push({...s,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(C,x)),[C,x]),M=(0,a.useMemo)((()=>[{iconUrl:w,symbol:E,fiatBalance:T},...A.map(((e,t)=>({...e,fiatBalance:_[t]})))]),[A,_,w,E,T]),P=(0,a.useMemo)((()=>M.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[M]),D=(0,l.sumDecimals)(T,..._).toString(10),N=(0,a.useMemo)((()=>(x.forEach((e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=I[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,f,h,e.string,e.symbol,!1,!1)||"0"})),x)),[x,I,f,h]),O=(0,c.formatCurrency)(D,h);let B=(0,l.getWeiHexFromDecimalValue)({value:D,fromCurrency:h,conversionRate:f,invertConversionRate:!0});return"NaN"===B&&(B="0x0"),{formattedFiat:O,totalWeiBalance:B,totalFiatBalance:D,tokensWithBalances:N,loading:!1,orderedTokenList:P,mergedRates:I}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[6749,{"../ducks/metamask/metamask":6642,"../selectors":7418,"../store/actions":7436,"./useMultiPolling":6772,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getNetworkClientIdsToPoll),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),s=t&&n;(0,l.default)({startPolling:o.accountTrackerStartPolling,stopPollingByPollingToken:o.accountTrackerStopPollingByPollingToken,input:s?e:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[6750,{"../ducks/confirm-alerts/confirm-alerts":6634,"../helpers/constants/design-system":6654,"../selectors/alerts":7410,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-redux"),r=e("react"),a=e("../selectors/alerts"),o=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function l(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1};return e.sort(((e,n)=>t[n.severity]-t[e.severity]))}n.default=e=>{const t=(0,s.useDispatch)(),n=l((0,s.useSelector)((t=>(0,a.selectAlerts)(t,e)))),u=(0,s.useSelector)((t=>(0,a.selectConfirmedAlertKeys)(t,e))),c=l((0,s.useSelector)((t=>(0,a.selectGeneralAlerts)(t,e)))),d=l((0,s.useSelector)((t=>(0,a.selectFieldAlerts)(t,e)))),m=(0,r.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),p=(0,r.useCallback)(((n,s)=>{t((0,o.setAlertConfirmed)(e,n,s))}),[t,o.setAlertConfirmed,e]),f=(0,r.useCallback)((e=>u.includes(e)),[u]),h=n.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger)),g=n.length>0,k=n.filter((e=>e.severity===i.Severity.Danger)),y=h.length>0,v=d.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger));return{alerts:n,fieldAlerts:d,generalAlerts:c,getFieldAlerts:m,hasAlerts:g,dangerAlerts:k,hasDangerAlerts:(null==k?void 0:k.length)>0,hasUnconfirmedDangerAlerts:y,isAlertConfirmed:f,setAlertConfirmed:p,unconfirmedDangerAlerts:h,unconfirmedFieldDangerAlerts:v,hasUnconfirmedFieldDangerAlerts:v.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[6751,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=l,n.createSuccessResult=i,n.useAsyncCallback=u,n.useAsyncResult=c,n.useAsyncResultOrThrow=function(e,t=[]){const n=c(e,t);if("error"===n.status)throw n.error;return n};var s=e("react");const r=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=n.RESULT_IDLE={...r,status:"idle",idle:!0},o=n.RESULT_PENDING={...r,status:"pending",pending:!0};function i(e){return{...r,status:"success",value:e}}function l(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[n,r]=(0,s.useState)(a),u=(0,s.useRef)(!0);(0,s.useEffect)((()=>()=>{u.current=!1}),[]);return[(0,s.useCallback)((async()=>{if(u.current){r(o);try{const t=await e();u.current&&r(i(t))}catch(e){u.current&&r(l(e))}}}),t),n]}function c(e,t=[]){const[n,r]=u(e,t);return(0,s.useEffect)((()=>{n()}),[n]),"idle"===r.status?o:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[6752,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ZERO_BALANCE=n.SWEEPSTAKES_START=n.SWEEPSTAKES_SLIDE=n.SWEEPSTAKES_END=n.SMART_ACCOUNT_UPGRADE_SLIDE=n.REMOTE_MODE_SLIDE=n.MULTI_SRP_SLIDE=n.FUND_SLIDE=n.CASH_SLIDE=n.CARD_SLIDE=n.BRIDGE_SLIDE=void 0;n.REMOTE_MODE_SLIDE={id:"remoteMode",title:"slideRemoteModeTitle",description:"slideRemoteModeDescription",image:"./images/slide-fund-icon.svg",href:"/home.html#remote"},n.SMART_ACCOUNT_UPGRADE_SLIDE={id:"smartAccountUpgrade",title:"slideSmartAccountUpgradeTitle",description:"slideSmartAccountUpgradeDescription",image:"./images/smart-account-upgrade.png"},n.SWEEPSTAKES_SLIDE={id:"sweepStake",title:"slideSweepStakeTitle",description:"slideSweepStakeDescription",image:"./images/sweepstakes.png",href:"https://portfolio.metamask.io/explore/nfts?event=012e19e2"},n.FUND_SLIDE={id:"fund",title:"slideFundWalletTitle",description:"slideFundWalletDescription",image:"./images/slide-fund-icon.svg",href:"https://portfolio.metamask.io/buy/build-quote"},n.BRIDGE_SLIDE={id:"bridge",title:"slideBridgeTitle",description:"slideBridgeDescription",image:"./images/slide-bridge-icon.svg"},n.CARD_SLIDE={id:"card",title:"slideDebitCardTitle",description:"slideDebitCardDescription",image:"./images/slide-card-icon.svg",href:"https://portfolio.metamask.io/card"},n.CASH_SLIDE={id:"cash",title:"slideCashOutTitle",description:"slideCashOutDescription",image:"./images/slide-sell-icon.svg",href:"https://portfolio.metamask.io/sell"},n.MULTI_SRP_SLIDE={id:"multiSrp",title:"slideMultiSrpTitle",description:"slideMultiSrpDescription",image:"./images/slide-multi-srp-icon.svg"},n.ZERO_BALANCE="0x0",n.SWEEPSTAKES_START=new Date("2025-04-09T00:00:00Z"),n.SWEEPSTAKES_END=new Date("2025-04-28T23:59:59Z")}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/constants.ts"}],[6753,{"./constants":6752,"./useCarouselManagement":6754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./useCarouselManagement");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var r=e("./constants");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[6754,{"../../selectors":7418,"../../selectors/remote-mode":7427,"../../store/actions":7436,"./constants":6752,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSweepstakesCampaignActive=u,n.useCarouselManagement=void 0;var s=e("react"),r=e("react-redux"),a=e("../../store/actions"),o=e("../../selectors"),i=e("../../selectors/remote-mode"),l=e("./constants");function u(e){return e>=l.SWEEPSTAKES_START&&e<=l.SWEEPSTAKES_END}n.useCarouselManagement=({testDate:e}={})=>{const t=Boolean(!1),n=(0,r.useDispatch)(),c=(0,r.useSelector)(o.getSlides),d=(0,r.useSelector)(o.getSelectedAccountCachedBalance),m=(0,r.useSelector)(i.getIsRemoteModeEnabled),p=d===l.ZERO_BALANCE;return(0,s.useEffect)((()=>{const s=[],r=c.find((e=>e.id===l.SWEEPSTAKES_SLIDE.id)),o=(null==r?void 0:r.dismissed)??!1,i={...l.FUND_SLIDE,undismissable:p};s.push(l.SMART_ACCOUNT_UPGRADE_SLIDE),s.push(l.BRIDGE_SLIDE),s.push(l.CARD_SLIDE),s.push(l.CASH_SLIDE),s.push(l.MULTI_SRP_SLIDE),s.splice(p?0:2,0,i),m&&s.unshift(l.REMOTE_MODE_SLIDE);const d=u(e?new Date(e):new Date((new Date).toISOString()));if(t||!d||o){if(null!=r&&r.dismissed){const e={...l.SWEEPSTAKES_SLIDE,dismissed:!0};s.push(e)}}else{const e={...l.SWEEPSTAKES_SLIDE,dismissed:!1};s.unshift(e)}n((0,a.updateSlides)(s))}),[n,p,m,c,e,t]),{slides:c}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[6755,{"../../shared/constants/copy":5581,"../../shared/constants/time":5605,"./useTimeout":6790,"copy-to-clipboard":3993,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u){const[t,n]=(0,r.useState)(!1),s=(0,l.useTimeout)((()=>{(0,a.default)(" ",i.COPY_OPTIONS),n(!1)}),e,!1),o=(0,r.useCallback)((e=>{n(!0),s(),(0,a.default)(e,i.COPY_OPTIONS)}),[s]);return[t,o]};var s,r=e("react"),a=(s=e("copy-to-clipboard"))&&s.__esModule?s:{default:s},o=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),l=e("./useTimeout");const u=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6757,{"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../selectors":7418,"../store/actions":7436,"./usePolling":6782,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseCurrencyRateCheck),t=(0,r.useSelector)(l.getCompletedOnboarding),n=(0,r.useSelector)(l.getIsUnlocked),s=(0,r.useSelector)(o.getNetworkConfigurationsByChainId),c=t&&n&&e,d=[...new Set(Object.values(s).map((e=>e.nativeCurrency)))];(0,u.default)({startPolling:i.currencyRateStartPolling,stopPollingByPollingToken:i.currencyRateStopPollingByPollingToken,input:d,enabled:c})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6758,{"../../shared/constants/swaps":5603,"../../shared/modules/selectors/networks":5663,"../../shared/modules/string-utils":5666,"../ducks/metamask/metamask":6642,"../helpers/constants/routes":6660,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,c=(0,s.useSelector)(a.getTokens),d=n&&c.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),m=(0,s.useSelector)(o.getCurrentChainId);return d??(l.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||l.ETH_SWAPS_TOKEN_OBJECT)};var s=e("react-redux"),r=e("react-router-dom"),a=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),l=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6759,{"../../shared/constants/first-party-contracts":5583,"../../shared/modules/hexstring-utils":5652,"../ducks/domains":6636,"../selectors":7418,"../selectors/nft":7424,"./useName":6776,"./useNftCollectionsMetadata":6777,"@metamask/name-controller":2113,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return m([e])[0]},n.useDisplayNames=m;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("../../shared/constants/first-party-contracts"),o=e("../../shared/modules/hexstring-utils"),i=e("../ducks/domains"),l=e("../selectors"),u=e("../selectors/nft"),c=e("./useName"),d=e("./useNftCollectionsMetadata");function m(e){const t=(0,c.useNames)(e),n=e.map((({type:e,value:t,variation:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(a.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const s=null===(t=a.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==s?void 0:s.toLowerCase())===r}))}));const m=function(e){const t=(0,r.useSelector)(l.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:n,value:r,variation:a})=>{var o;if(n!==s.NameType.ETHEREUM_ADDRESS)return undefined;const i=r.toLowerCase(),{iconUrl:l,name:u,symbol:c}=(null==t||null===(o=t[a])||void 0===o||null===(o=o.data)||void 0===o?void 0:o[i])??{};return{name:e&&c?c:u,image:l}}))}(e),p=function(e){const t=(0,r.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:n,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=n.toLowerCase(),i=t[r];return null==i||null===(a=i[o])||void 0===a?void 0:a.name}))}(e),f=function(e){const t=e.filter((({type:e})=>e===s.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),n=(0,d.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=null===(a=n[r])||void 0===a?void 0:a[t.toLowerCase()],i=!1!==(null==o?void 0:o.isSpam);if(!o||i)return undefined;const{name:l,image:u}=o;return{name:l,image:u}}))}(e),h=function(e){const t=(0,r.useSelector)(i.getDomainResolutions);return e.map((({type:e,value:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find((e=>(0,o.toChecksumHexAddress)(e.resolvedAddress)===(0,o.toChecksumHexAddress)(n)));return null==r?void 0:r.domainName}))}(e);return e.map(((e,s)=>{const r=t[s],a=n[s],o=m[s],i=p[s],l=f[s],u=h[s],c=(null==r?void 0:r.name)||a||(null==l?void 0:l.name)||(null==o?void 0:o.name)||i||u||null,d=(null==l?void 0:l.image)||(null==o?void 0:o.image);return{name:c,hasPetname:Boolean(null==r?void 0:r.name),contractDisplayName:null==o?void 0:o.name,image:d}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6760,{lodash:4711,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,a]=(0,s.useState)(e);return(0,s.useLayoutEffect)((()=>{t(e,n)||a(e)}),[e,t,n]),n};var s=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[6761,{"../../shared/modules/conversion.utils":5646,"../ducks/metamask/metamask":6642,"../helpers/utils/confirm-tx.util":6681,"../selectors":7418,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const u=(0,r.useSelector)(i.getConversionRate),c=(0,r.useSelector)(i.getCurrentCurrency),d=(0,r.useSelector)(a.getShouldShowFiat),m=t.showFiat??d,p=(0,s.useMemo)((()=>(0,l.decEthToConvertedCurrency)(e,c,u)),[u,c,e]);if(!m||"ETH"===c.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,o.formatCurrency)(p,c):`${(0,o.formatCurrency)(p,c)} ${c.toUpperCase()}`};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../helpers/utils/confirm-tx.util"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[6762,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const[t,n]=(0,s.useState)(""),[r,a]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{if(!e)return;const t=await fetch(e);if(t.ok)try{let e=await t.text();e=e.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const s=JSON.parse(e);n(s.image),a(s.name)}catch{}})()}),[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[6763,{"../ducks/locale/locale":6641,"../ducks/metamask/metamask":6642,"../helpers/utils/util":6704,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var s=e("react-redux"),r=e("../ducks/locale/locale"),a=e("../ducks/metamask/metamask"),o=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,s.useSelector)(r.getIntlLocale),t=(0,s.useSelector)(a.getCurrentCurrency);return(n,s={})=>{const{shorten:r}=s;try{const s=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return s.format(n);const a=s.formatToParts(n);let i="",l="";a.forEach((e=>{"currency"===e.type?i+=e.value:l+=e.value}));const u=(0,o.shortenString)(l,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return a.findIndex((e=>"currency"===e.type))<a.findIndex((e=>"integer"===e.type))?`${i}${u}`:`${u}${i}`}catch(s){const a=new Intl.NumberFormat(e).format(n),i=(0,o.shortenString)(a,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${a} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6764,{"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../store/actions":7436,"./usePolling":6782,"lodash/isEqual":4698,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(l.getSelectedNetworkClientId),n=e??t,[c,d]=(0,a.useState)(""),m=(0,r.useSelector)((e=>(0,o.getGasEstimateTypeByChainId)(e,c))),p=(0,r.useSelector)((e=>(0,o.getGasFeeEstimatesByChainId)(e,c)),s.default),f=(0,r.useSelector)((e=>(0,o.getIsGasEstimatesLoadingByChainId)(e,{chainId:c,networkClientId:n}))),h=(0,r.useSelector)((e=>(0,o.getIsNetworkBusyByChainId)(e,c)));return(0,a.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:n}}),{gasFeeEstimates:p,gasEstimateType:m,isGasEstimatesLoading:f,isNetworkBusy:h}};var s=c(e("lodash/isEqual")),r=e("react-redux"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../store/actions"),l=e("../../shared/modules/selectors/networks"),u=c(e("./usePolling"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6765,{"../helpers/utils/util":6704,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("../helpers/utils/util");n.default=(e,t)=>{const[n,a]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{const n=await(0,r.getAssetImageURL)(e,t);a(n)})()}),[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[6766,{"../../shared/modules/conversion.utils":5646,"../../shared/modules/selectors/networks":5663,"../selectors":7418,"./useTokenBalances":6791,"bn.js":3858,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var s=e("react-redux"),r=e("bn.js"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),l=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const c=(0,s.useSelector)(o.getCurrentChainId),d=(0,s.useSelector)(a.getAllTokens),m=(0,l.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[c]:u).map((n=>{var s;const a=((null==d||null===(s=d[n])||void 0===s?void 0:s[null==e?void 0:e.address])??[]).reduce(((s,a)=>{var o;const u=(null===(o=m.tokenBalances[e.address])||void 0===o||null===(o=o[n])||void 0===o?void 0:o[a.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);s.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,string:(0,l.stringifyBalance)(new r.BN(e),new r.BN(a.decimals))})}return s}),[]);return{chainId:n,tokensWithBalances:a}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[6768,{"../../app/scripts/lib/util":203,"../../shared/constants/network":5592,"../../shared/constants/time":5605,"../../shared/lib/fetch-with-cache":5621,"../selectors":7418,"../selectors/multichain":7422,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,s=""){const[m,p]=(0,r.useState)(!1),f=(0,a.useSelector)(u.useSafeChainsListValidationSelector),h=(0,a.useSelector)(c.getMultichainIsEvm),g=(0,a.useSelector)(c.getMultichainCurrentNetwork);return(0,r.useEffect)((()=>{!async function(n){if(h)try{var r;if(!f)return void p(!0);if((e=>{const t=(0,d.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(s))return void p(!0);const a=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(a)return void p(a===t);const u=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(u&&u.some((e=>e.currencySymbol===t)))return void p(!0);const c=(await(0,o.default)({url:i.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:l.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(n,16))),m=(null==c||null===(r=c.nativeCurrency)||void 0===r?void 0:r.symbol)??null;p(m===t)}catch(e){p(!1)}else p(t===(null==g?void 0:g.ticker))}(e)}),[m,e,t,n,s,f]),m};var s,r=e("react"),a=e("react-redux"),o=(s=e("../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},i=e("../../shared/constants/network"),l=e("../../shared/constants/time"),u=e("../selectors"),c=e("../selectors/multichain"),d=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[6769,{"../selectors":7418,"../store/actions":7436,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,s.useState)(null),l=(0,r.useSelector)(o.getTokenList);return(0,s.useEffect)((()=>{!async function(e){var n,s;let r=null===(n=l[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,a.getTokenSymbol)(e)),i((null===(s=r)||void 0===s?void 0:s.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var s=e("react"),r=e("react-redux"),a=e("../store/actions"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6770,{"../store/actions":7436,loglevel:4719,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),o(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw o(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:s}},n.useEnableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),l(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw l(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:s}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[6771,{"../store/actions":7436,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,s.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,s.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var s=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6772,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(new Map);(0,s.useEffect)((()=>{for(const n of e.input){const s=JSON.stringify(n);t.current.has(s)||e.startPolling(n).then((e=>t.current.set(s,e)))}for(const[n,s]of t.current.entries()){e.input.some((e=>n===JSON.stringify(e)))||(e.stopPollingByPollingToken(s),t.current.delete(n))}}),[e.input&&JSON.stringify(e.input)]),(0,s.useEffect)((()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[6773,{"../../shared/constants/multichain/assets":5590,"../helpers/utils/confirm-tx.util":6681,"../helpers/utils/token-util":6701,"../selectors/multichain":7422,"./useAccountTotalFiatBalance":6748,"./useMultichainSelector":6775,"@metamask/keyring-api":1936,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var s=e("react-redux"),r=e("@metamask/keyring-api"),a=e("../selectors/multichain"),o=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),l=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),c=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,c.useAccountTotalFiatBalance)(e,t);const m=(0,u.useMultichainSelector)(a.getMultichainCurrentCurrency,e),{network:p}=(0,u.useMultichainSelector)(a.getMultichainNetwork,e),{ticker:f}=p,h=(0,u.useMultichainSelector)(a.getMultichainConversionRate,e),g=(0,u.useMultichainSelector)(a.getMultichainCurrencyImage,e),k=(0,s.useSelector)(a.getMultichainBalances),y=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[f];if(null==k||null===(n=k[e.id])||void 0===n||!n[y])return d;const{amount:v}=k[e.id][y],T=(0,l.getTokenFiatAmount)(1,Number(h),m,v,f,!1,!1)??"0",b={iconUrl:g,symbol:f,fiatBalance:T};return{formattedFiat:(0,o.formatCurrency)(T,m),totalFiatBalance:T,totalBalance:v,tokensWithBalances:[],loading:!1,orderedTokenList:[b]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6774,{"../../shared/constants/transaction":5607,"../selectors/assets":7412,"../selectors/multichain":7422,"../selectors/selectors":7428,"./useMultichainSelector":6775,"@metamask/utils":2807,"bignumber.js":3810,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("bignumber.js"),i=e("../selectors/assets"),l=e("../selectors/multichain"),u=e("../../shared/constants/transaction"),c=e("../selectors/selectors"),d=e("./useMultichainSelector");n.useMultichainBalances=e=>{const t=(0,r.useSelector)(c.getSelectedEvmInternalAccount),n=(0,r.useSelector)((t=>(0,c.getInternalAccount)(t,e??""))),m=e?n:t,p=(0,r.useSelector)((e=>(0,i.getTokenBalancesEvm)(e,null==m?void 0:m.address))),f=(0,r.useSelector)(l.getLastSelectedNonEvmAccount),h=(e=>{const t=(0,r.useSelector)(i.getAccountAssets),n=(0,r.useSelector)(i.getAssetsMetadata),c=(0,d.useMultichainSelector)(l.getMultichainBalances),m=(0,r.useSelector)(i.getAssetsRates);return(0,s.useMemo)((()=>{if(!e)return[];const s=null==t?void 0:t[e],r=null==c?void 0:c[e];return r&&s?s.filter((e=>n[e])).map((e=>{var t,s,i,l,c,d,p;const{chainId:f,assetReference:h,assetNamespace:g}=(0,a.parseCaipAssetType)(e);return{chainId:f,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:h,string:(null===(s=r[e])||void 0===s?void 0:s.amount)??"0",balance:(null===(i=r[e])||void 0===i?void 0:i.amount)??"0",decimals:null===(l=n[e])||void 0===l||null===(l=l.units[0])||void 0===l?void 0:l.decimals,image:(null===(c=n[e])||void 0===c?void 0:c.iconUrl)??"",type:"token"===g?u.AssetType.token:u.AssetType.native,tokenFiatAmount:new o.BigNumber((null===(d=r[e])||void 0===d?void 0:d.amount)??"1").times((null==m||null===(p=m[e])||void 0===p?void 0:p.rate)??"1").toNumber()}})).filter(Boolean):[]}),[n,m,t,e,c])})(e??(null==f?void 0:f.id));return{assetsWithBalance:(0,s.useMemo)((()=>[...p,...h].map((e=>({...e,type:e.isNative?u.AssetType.native:u.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[p,h]),balanceByChainId:(0,s.useMemo)((()=>[...p,...h].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[p,h])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[6776,{"../selectors":7418,"@metamask/name-controller":2113,lodash:4711,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("lodash"),o=e("../selectors");function i(e){const t=(0,r.useSelector)(o.getNames,a.isEqual);return e.map((({value:e,type:n,variation:r})=>{var a;const o=function(e,t){if(t===s.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(a=t[n])||void 0===a?void 0:a[o])??{},l=i[r],u=i[s.FALLBACK_VARIATION],c=null!=l&&l.name||!u?l??{}:u,{name:d=null,sourceId:m=null,origin:p=null,proposedNames:f={}}=c;return{name:d,sourceId:m,proposedNames:f,origin:p}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6777,{"../../shared/constants/transaction":5607,"../store/actions":7436,"./useAsync":6751},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,a.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e)),{}),n=Object.keys(t),s=await Promise.all(n.map((e=>async function(e,t){const n=await Promise.all(e.map((e=>(0,r.getTokenStandardAndDetails)(e,t)))),s=e.filter(((e,t)=>o.includes(n[t].standard)));if(0===s.length)return{};const a=await(0,r.getNFTContractInfo)(s,t);return a.collections.reduce(((e,t,n)=>(e[s[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return n.reduce(((e,t,n)=>(e[t]=s[n],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var s=e("../../shared/constants/transaction"),r=e("../store/actions"),a=e("./useAsync");const o=[s.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[6778,{"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../selectors":7418,"./useI18nContext":6767,"./usePrevious":6783,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,c.useI18nContext)(),n=(0,r.useSelector)(o.getAllNfts),{address:d}=(0,r.useSelector)(i.getSelectedInternalAccount),m=(0,r.useSelector)(l.getCurrentChainId),p=(0,r.useSelector)(i.getAllChainsToPoll),f=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),h=(0,s.useMemo)((()=>f||e?(null==n?void 0:n[m])??[]:n),[f,n,m,e]),g=(0,r.useSelector)(o.getNftContracts),k=t("nftsPreviouslyOwned"),y=t("unknownCollection"),[v,T]=(0,s.useState)([]),[b,S]=(0,s.useState)([]),[C,w]=(0,s.useState)((()=>(null==h?void 0:h.length)>=0)),E=(0,u.usePrevious)(h),x=(0,u.usePrevious)(p),I=(0,u.usePrevious)(d);return(0,s.useEffect)((()=>{(0,a.isEqual)(E,h)&&(0,a.isEqual)(I,d)&&(0,a.isEqual)(x,m)||(()=>{if(w(!0),d===undefined||p===undefined)return;const e=[],t=[];Object.values(h).flat().forEach((n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)})),S(e),T(t),w(!1)})()}),[h,E,g,w,m,x,d,I,k,y,p]),{loading:C,currentlyOwnedNfts:v,previouslyOwnedNfts:b}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[6779,{"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../helpers/utils/nfts":6692,"../selectors":7418,"./useI18nContext":6767,"./usePrevious":6783,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,d.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[m,p]=(0,s.useState)({}),[f,h]=(0,s.useState)({collectionName:t,nfts:[]}),g=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),k=(0,r.useSelector)(o.getAllNfts),{address:y}=(0,r.useSelector)(i.getSelectedInternalAccount),v=(0,r.useSelector)(l.getCurrentChainId),T=(0,s.useMemo)((()=>g?(null==k?void 0:k[v])??[]:k),[g,k,v]),[b,S]=(0,s.useState)((()=>(null==T?void 0:T.length)>=0)),C=(0,r.useSelector)(o.getNftContracts),w=(0,c.usePrevious)(T),E=(0,c.usePrevious)(v),x=(0,c.usePrevious)(y);return(0,s.useEffect)((()=>{(0,a.isEqual)(w,T)&&(0,a.isEqual)(x,y)&&(0,a.isEqual)(E,v)||(()=>{if(S(!0),y===undefined||v===undefined)return;const e={},s={collectionName:t,nfts:[]};Object.values(T).flat().forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))s.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const s=C.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==s?void 0:s.name)||n,collectionImage:(null==s?void 0:s.logo)||(0,u.getNftImage)(t.image),nfts:[t]}}})),p(e),h(s),S(!1)})()}),[T,w,C,S,v,E,y,x,t,n]),{nftsLoading:b,collections:m,previouslyOwnedCollection:f}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("../helpers/utils/nfts"),c=e("./usePrevious"),d=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[6780,{"../helpers/constants/notifications":6658,"../store/actions":7436,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var s=e("react-redux"),r=e("../store/actions"),a=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,s.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,r.deleteNotificationsById)([t]))}),a.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[6781,{"../selectors":7418,"@metamask/permission-controller":2253,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,a.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:s.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var s=e("@metamask/permission-controller"),r=e("react-redux"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6782,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(null),n=(0,s.useRef)(null);let r=!1;(0,s.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const s=()=>{var s;t.current&&(e.stopPollingByPollingToken(t.current),null===(s=n.current)||void 0===s||s.call(n,t.current))};return e.startPolling(e.input).then((a=>{var o;t.current=a,n.current=(null===(o=e.callback)||void 0===o?void 0:o.call(e,a))||null,r||s()})),()=>{r=!1,s()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6783,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,s.useRef)();return(0,s.useEffect)((()=>{t.current=e}),[e]),t.current};var s=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6784,{"./usePrevious":6783,lodash:4711,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var s=e("react"),r=e("lodash"),a=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,o;const i=(0,s.useRef)(null),l=(0,a.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),h=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(c(!1),m(e)),f(!e||n),e&&!n||c(!0)};(0,s.useEffect)(h,[i,...e]),(0,s.useEffect)((()=>{var e;l!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&h()}),[null===(o=i.current)||void 0===o?void 0:o.offsetHeight]);return{isScrollable:d,isScrolledToBottom:p,hasScrolledToBottom:u,scrollToBottom:()=>{f(!0),c(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:c,ref:i,onScroll:(0,r.debounce)(h,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6785,{"../helpers/constants/routes":6660,"../selectors":7418,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,s.useSelector)(o.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:a.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var s=e("react-redux"),r=e("react-router-dom"),a=e("../helpers/constants/routes"),o=e("../selectors");const i=Object.keys(a.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6786,{"../ducks/app/app":6627,"./useGasFeeEstimates":6764,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),l=(0,r.useSelector)(o.getGasLoadingAnimationIsShowing),u=(0,s.useRef)(t),c=!(0,a.isEqual)(u.current,t),d=(0,a.isEqual)(u.current,{});c&&(u.current=t);const m=e||c&&!d;(0,s.useEffect)((()=>{!1===l&&!0===m&&n((0,o.toggleGasLoadingAnimation)(!0))}),[n,l,m]),(0,s.useEffect)((()=>{let e;return l&&!m&&(e=setTimeout((()=>{n((0,o.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,m])};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6787,{"../../shared/constants/time":5605,"../../shared/modules/selectors/networks":5663,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:i}=e,l=(0,r.useSelector)(o.getCurrentChainId),[u={}]=n,c=u.chainId===l,{submittedTime:d}=u,[m,p]=(0,s.useState)((()=>Date.now()-d>5e3&&t&&!i&&c));return(0,s.useEffect)((()=>{let e;return i||!t||m||(Date.now()-d>5*a.SECOND?p(!0):e=setTimeout((()=>{p(!0),clearTimeout(e)}),5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}}),[d,m,i,t]),m};var s=e("react"),r=e("react-redux"),a=e("../../shared/constants/time"),o=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6788,{"../../shared/lib/transactions-controller-utils":5638,"../../shared/modules/selectors/networks":5663,"../../shared/modules/swaps.utils":5667,"./useTokenFiatAmount":6795,"@metamask/transaction-controller":2763,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:c}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:p}=m,{from:f}=m.txParams||{},h=(0,s.useSelector)(i.getCurrentChainId),g=p===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,h)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,h)),k=[r.TransactionType.swap].includes(p)&&g?(0,a.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,c,f,u,null,h):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(p)&&d.swapTokenValue,y="string"==typeof k&&-1===Math.sign(k),v=(0,l.useTokenFiatAmount)(c,k||"",n),T=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,k,d.sourceTokenSymbol);let b;k&&(g?b=v:p===r.TransactionType.swapAndSend&&(b=T));return{swapTokenValue:k,swapTokenFiatAmount:b,isViewingReceivedTokenFromSwap:g,isNegative:y}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6789,{"../../shared/constants/preferences":5597,"../selectors":7418,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(a.getTheme),[t,n]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const t=e&&e!==o.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${o.ThemeType.light}".`),n(o.ThemeType.light)),n(t)}),[e]),t};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../../shared/constants/preferences");const i=Object.values(o.ThemeType).filter((e=>e!==o.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[6790,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,s.useRef)(),[a,o]=(0,s.useState)(null);(0,s.useEffect)((()=>{r.current=e}),[e]),(0,s.useEffect)((()=>{if("start"!==a)return undefined;const e=setTimeout((()=>{r.current()}),t);return o(e),()=>{clearTimeout(a)}}),[t,a]);const i=(0,s.useCallback)((()=>{clearTimeout(a),o("start")}),[a]);n&&i();return i};var s=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6791,{"../../shared/modules/conversion.utils":5646,"../../shared/modules/selectors/networks":5663,"../ducks/metamask/metamask":6642,"../store/actions":7436,"./useMultiPolling":6772,"bn.js":3858,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=m,n.useTokenTracker=n.useTokenBalances=void 0;var s=e("react-redux"),r=c(e("bn.js")),a=e("../../shared/modules/selectors/networks"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils"),u=c(e("./useMultiPolling"));function c(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,s.useSelector)(i.getTokenBalances),n=(0,s.useSelector)(a.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:o.tokenBalancesStartPolling,stopPollingByPollingToken:o.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(n)}),{tokenBalances:t}};n.useTokenBalances=d;function m(e,t,n=5){if(e.eq(new r.default(0)))return"0";const s=parseInt(t.toString(),10);if(0===s)return e.toString();let a=e.toString(),o=a.length,i=o-s,l="";if(i<=0){for(;l.length<=-1*i;)l+="0",o+=1;a=l+a,i=1}const u=a.substr(0,o-s);if(0===n)return u;const c=a.substr(i,n);if(/0+$/u.test(c)){let e=a.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${c}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:s})=>{const{tokenBalances:a}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,o)=>{var i;const u=(null===(i=a[n])||void 0===i||null===(i=i[e])||void 0===i?void 0:i[o.address])??"0x0";if("0x0"!==u||!s){const e=(0,l.hexToDecimal)(u);t.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,balanceError:null,string:m(new r.default(e),new r.default(o.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[6792,{"../../shared/modules/transaction.utils":5668,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,s.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var s=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6793,{"../ducks/metamask/metamask":6642,"../selectors":7418,"../store/actions":7436,"./useMultiPolling":6772,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),s=(0,r.useSelector)(a.getChainIdsToPoll),u=t&&n&&e;return(0,l.default)({startPolling:o.tokenDetectionStartPolling,stopPollingByPollingToken:o.tokenDetectionStopPollingByPollingToken,input:u?[s]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[6794,{"../../shared/lib/metamask-controller-utils":5625,"../../shared/lib/transactions-controller-utils":5638,"./useTokenData":6792,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,o.useTokenData)(e,n),l=(0,r.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,s.useMemo)((()=>u?(0,a.calcTokenAmount)(l,t.decimals).toString(10):null),[u,l,t])};var s=e("react"),r=e("../../shared/lib/metamask-controller-utils"),a=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6796,{"../ducks/metamask/metamask":6642,"../selectors":7418,"../store/actions":7436,"./useMultiPolling":6772,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(a.getUseTransactionSimulations),n=(0,r.useSelector)(i.getCompletedOnboarding),s=(0,r.useSelector)(i.getIsUnlocked),u=(0,r.useSelector)(a.getUseExternalServices),c=(0,r.useSelector)(a.getChainIdsToPoll),d=n&&s&&u&&(e||t);return(0,l.default)({startPolling:o.tokenListStartPolling,stopPollingByPollingToken:o.tokenListStopPollingByPollingToken,input:d?c:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[6797,{"../ducks/metamask/metamask":6642,"../selectors":7418,"../store/actions":7436,"./useMultiPolling":6772,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(i.getCompletedOnboarding),t=(0,r.useSelector)(i.getIsUnlocked),n=(0,r.useSelector)(a.getUseCurrencyRateCheck),s=(0,r.useSelector)(a.getChainIdsToPoll),u=(0,r.useSelector)(a.getTokenExchangeRates),c=(0,r.useSelector)(a.getTokensMarketData),d=(0,r.useSelector)(a.getMarketData),m=e&&t&&n;return(0,l.default)({startPolling:o.tokenRatesStartPolling,stopPollingByPollingToken:o.tokenRatesStopPollingByPollingToken,input:m?[s]:[]}),{tokenExchangeRates:u,tokensMarketData:c,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[6798,{"../../shared/constants/time":5605,"../../shared/modules/selectors/networks":5663,"../../shared/modules/string-utils":5666,"../selectors":7418,"./useEqualityCheck":6760,"@metamask/eth-token-tracker":1806,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:s=!1}){const{chainId:m,rpcUrl:p}=(0,o.useSelector)(l.getProviderConfig),{address:f}=(0,o.useSelector)(i.getSelectedInternalAccount,o.shallowEqual),h=t??f,[g,k]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[y,v]=(0,r.useState)([]),[T,b]=(0,r.useState)(null),S=(0,r.useRef)(null),C=(0,d.useEqualityCheck)(e),w=(0,r.useCallback)((e=>{const t=(s?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=C.find((t=>(0,c.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));v(t),k(!1),b(null)}),[s,C]),E=(0,r.useCallback)((e=>{b(e),k(!1)}),[]),x=(0,r.useCallback)((()=>{S.current&&(S.current.stop(),S.current.removeAllListeners("update"),S.current.removeAllListeners("error"),S.current=null)}),[]),I=(0,r.useCallback)(((e,t)=>{x(),S.current=new a.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),S.current.on("update",w),S.current.on("error",E),S.current.updateBalances()}),[w,n,E,x]);return(0,r.useEffect)((()=>x),[x]),(0,r.useEffect)((()=>{k(!0),h&&m!==undefined&&global.ethereumProvider?(0===C.length&&w([]),I(h,C)):x()}),[h,x,m,p,C,w,I]),{loading:g,tokensWithBalances:y,error:T}};var s,r=e("react"),a=(s=e("@metamask/eth-token-tracker"))&&s.__esModule?s:{default:s},o=e("react-redux"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),c=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6799,{"../../shared/constants/network":5592,"../../shared/constants/swaps":5603,"../../shared/modules/hexstring-utils":5652,"../../shared/modules/selectors/networks":5663,"../../shared/modules/swaps.utils":5667,"../ducks/metamask/metamask":6642,"../ducks/swaps/swaps":6650,"../helpers/utils/token-util":6701,"../selectors":7418,"./useEqualityCheck":6760,"@metamask/assets-controllers":1356,"bignumber.js":3810,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:s=g.TokenBucketPriority.owned}){const l=(0,a.useSelector)(d.getCurrentChainId),u=(0,a.useSelector)(c.getTokenExchangeRates,i.isEqual),h=(0,a.useSelector)(m.getConversionRate),k=(0,a.useSelector)(m.getCurrentCurrency),T=(0,a.useSelector)(c.getSwapsDefaultToken,a.shallowEqual),b=(0,a.useSelector)(c.getTokenList,i.isEqual),S=(0,y.useEqualityCheck)(t),C=(0,y.useEqualityCheck)(e),w=v(T,u,h,k,l,b),E=(0,y.useEqualityCheck)(w),x=(0,a.useSelector)(p.getSwapsTokens,i.isEqual)||[],I=x.length?x:[E,...n.filter((e=>e.symbol!==E.symbol))],_=(0,y.useEqualityCheck)(I);return(0,r.useMemo)((()=>{const e=C.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([E,..._,...C],(e=>e.address.toLowerCase())).forEach((n=>{const r=v({...e[n.address.toLowerCase()],...n},u,h,k,l,b);s===g.TokenBucketPriority.owned?(0,f.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=r:t.others.push(r):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=r:(0,f.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),s===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[_,C,S,u,h,k,E,l,b,s])};var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),c=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),h=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),k=e("../../shared/constants/network"),y=e("./useEqualityCheck");function v(e,t,n,s,r,a){var i,c;const{symbol:d,name:m,address:p,iconUrl:g,string:y,balance:v,decimals:T}=e;let b;(0,f.isSwapsDefaultTokenSymbol)(d,r)?b=1:y&&n>0&&(b=t[(0,h.toChecksumHexAddress)(p)]);const S=(0,u.getTokenFiatAmount)(b,n,s,y,d,!0)||"",C=S?(0,u.getTokenFiatAmount)(b,n,s,y,d,!1):"",w=r===k.CHAIN_IDS.SEPOLIA?k.CHAIN_IDS.MAINNET:r,E=(d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.SEPOLIA||d===k.CURRENCY_SYMBOLS.BNB&&r===k.CHAIN_IDS.BSC||d===k.CURRENCY_SYMBOLS.MATIC&&r===k.CHAIN_IDS.POLYGON||d===k.CURRENCY_SYMBOLS.AVALANCHE&&r===k.CHAIN_IDS.AVALANCHE||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.OPTIMISM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ARBITRUM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.LINEA_MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ZKSYNC_ERA||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.BASE?g:(0,l.formatIconUrlWithProxy)({chainId:w,tokenAddress:p||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=a[null==p?void 0:p.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:y&&`${new o.default(y).round(6).toString()} ${d}`,rightSecondaryLabel:S,iconUrl:E,identiconAddress:E?null:p,balance:v,decimals:T,name:m||(null===(c=a[null==p?void 0:p.toLowerCase()])||void 0===c?void 0:c.name),rawFiat:C,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[6800,{"../../shared/constants/bridge":5579,"../../shared/constants/transaction":5607,"../../shared/lib/metamask-controller-utils":5625,"../../shared/modules/string-utils":5666,"../ducks/bridge-status/selectors":6629,"../ducks/locale/locale":6641,"../ducks/metamask/metamask":6642,"../helpers/constants/common":6652,"../helpers/constants/transactions":6666,"../helpers/utils/common.util":6680,"../helpers/utils/token-util":6701,"../helpers/utils/transactions.util":6702,"../helpers/utils/util":6704,"../pages/bridge/hooks/useBridgeTokenDisplayData":6820,"../pages/confirmations/components/simulation-details/formatAmount":7024,"../selectors/selectors":7428,"../store/actions":7436,"./bridge/useBridgeChainInfo":6715,"./useCurrencyDisplay":6756,"./useCurrentAsset":6758,"./useI18nContext":6767,"./useSwappedTokenValue":6788,"./useTokenData":6792,"./useTokenDisplayValue":6794,"./useTokenFiatAmount":6795,"./useUserPreferencedCurrency":6801,"@metamask/transaction-controller":2763,"bignumber.js":3810,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,N,B,R,F,j,L,$,U,q;const W=(0,s.useDispatch)(),H=(0,s.useSelector)(S.getIntlLocale),V=(0,P.useCurrentAsset)(),z=(0,s.useSelector)(i.getAllTokens),G=(0,s.useSelector)(i.getSelectedAddress),Q=(0,s.useSelector)(f.getNfts),K=(0,s.useSelector)(i.getAllDetectedTokens),J=(0,s.useSelector)(i.selectERC20TokensByChain),Y=(0,w.useI18nContext)(),X=(0,s.useSelector)(v.selectBridgeHistoryForAccount),Z=e.initialTransaction.id,ee=X[Z],{destNetwork:te}=(0,D.default)({bridgeHistoryItem:ee,srcTxMeta:e.initialTransaction}),ne=C.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==te?void 0:te.chainId],{initialTransaction:se,primaryTransaction:re}=e,{type:ae}=se,{from:oe,to:ie}=se.txParams||{},le=(0,s.useSelector)((e=>{var t;return(0,i.getKnownMethodData)(e,null==se||null===(t=se.txParams)||void 0===t?void 0:t.data)}))||{},ue=(0,l.getStatusKey)(re),ce=ue in p.PENDING_STATUS_HASH,de=ue===a.TransactionStatus.submitted,me=(0,r.useRef)(!0),pe=null===(t=re.txParams)||void 0===t?void 0:t.value,fe=(0,m.formatDateWithYearContext)(se.time);let he,ge="-",ke=!1,ye=ie;const ve=p.TOKEN_CATEGORY_HASH[ae];let Te=null;const[be,Se]=(0,r.useState)(null);var Ce,we,Ee,xe,Ie,_e;ve&&(Te=(null==z||null===(Ce=z[null==e||null===(we=e.initialTransaction)||void 0===we?void 0:we.chainId])||void 0===Ce||null===(Ce=Ce[G])||void 0===Ce?void 0:Ce.find((({address:e})=>(0,k.isEqualCaseInsensitive)(e,ye))))||(null==K||null===(Ee=K[null==e||null===(xe=e.initialTransaction)||void 0===xe?void 0:xe.chainId])||void 0===Ee||null===(Ee=Ee[G])||void 0===Ee?void 0:Ee.find((({address:e})=>(0,k.isEqualCaseInsensitive)(e,ye))))||(null==J||null===(Ie=J[null==e||null===(_e=e.initialTransaction)||void 0===_e?void 0:_e.chainId])||void 0===Ie||null===(Ie=Ie.data)||void 0===Ie?void 0:Ie[ye.toLowerCase()]));(0,r.useEffect)((()=>()=>{me.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ve&&!Te){var e;const t=await(0,d.getAssetDetails)(ie,oe,null==se||null===(e=se.txParams)||void 0===e?void 0:e.data,Q);!0===me.current&&Se(t)}}()}),[ve,Te,ye,oe,null==se||null===(n=se.txParams)||void 0===n?void 0:n.data,Q,ie,me]),be&&(Te={address:be.toAddress,symbol:be.symbol,decimals:be.decimals});const Ae=(0,A.useTokenData)(null==se||null===(N=se.txParams)||void 0===N?void 0:N.data,ve),Me=(0,d.getTokenIdParam)(Ae)??(0,y.getTokenValueParam)(Ae),Pe=ve&&Q.find((({address:e,tokenId:t})=>(0,k.isEqualCaseInsensitive)(e,ye)&&t===Me)),De=(0,_.useTokenDisplayValue)(null==re||null===(B=re.txParams)||void 0===B?void 0:B.data,Te,ve),Ne=(0,E.useTokenFiatAmount)(null===(R=Te)||void 0===R?void 0:R.address,De,null===(F=Te)||void 0===F?void 0:F.symbol),Oe=(0,m.stripHttpSchemes)(se.origin||(null===(j=se.msgParams)||void 0===j?void 0:j.origin)||"");let Be,Re,Fe=ve?null===(L=Te)||void 0===L?void 0:L.symbol:undefined,je=ve?De:undefined,Le=ve?Ne:undefined;const{swapTokenValue:$e,isNegative:Ue,swapTokenFiatAmount:qe,isViewingReceivedTokenFromSwap:We}=(0,M.useSwappedTokenValue)(e,V),He=(0,T.useBridgeTokenDisplayData)(e);if(O.includes(ae))Be=h.TransactionGroupCategory.signatureRequest,Re=Y("signatureRequest"),he=Oe,ke=!0;else if(ae===a.TransactionType.swap)Be=h.TransactionGroupCategory.swap,Re=Y("swapTokenToToken",[se.sourceTokenSymbol,se.destinationTokenSymbol]),he=Oe,ke=!0,Fe=We?V.symbol:se.sourceTokenSymbol,je=$e,Le=qe,ge=Ue?"":We?"+":"-";else if(ae===a.TransactionType.swapAndSend){const e=se.swapAndSendRecipient===oe;ye=se.swapAndSendRecipient,Be=h.TransactionGroupCategory.swapAndSend,Re=Y("sendTokenAsToken",[se.sourceTokenSymbol,se.destinationTokenSymbol]),he=Oe,ke=!0,Fe=We&&e?V.symbol:se.sourceTokenSymbol,je=$e,Le=qe,ge=Ue?"":We&&e?"+":"-"}else if(ae===a.TransactionType.swapApproval)Be=h.TransactionGroupCategory.approval,Re=Y("swapApproval",[re.sourceTokenSymbol]),he=Oe,ke=!0,Fe=re.sourceTokenSymbol;else if(ae===a.TransactionType.tokenMethodApprove){var Ve;Be=h.TransactionGroupCategory.approval,ge="",Re=Y("approveSpendingCap",[(null===(Ve=Te)||void 0===Ve?void 0:Ve.symbol)||Y("token").toLowerCase()]),he=Oe,ke=!0}else if(ae===a.TransactionType.tokenMethodSetApprovalForAll){var ze,Ge,Qe;const e=!(null!=Ae&&null!==(ze=Ae.args)&&void 0!==ze&&ze[1]);Be=h.TransactionGroupCategory.approval,ge="",Re=e?Y("revokePermissionTitle",[(null===(Ge=Te)||void 0===Ge?void 0:Ge.symbol)||(null==Pe?void 0:Pe.name)||Y("token")]):Y("setApprovalForAllTitle",[(null===(Qe=Te)||void 0===Qe?void 0:Qe.symbol)||Y("token")]),he=Oe,ke=!0}else if(ae===a.TransactionType.tokenMethodIncreaseAllowance){var Ke;Be=h.TransactionGroupCategory.approval,ge="",Re=Y("approveIncreaseAllowance",[(null===(Ke=Te)||void 0===Ke?void 0:Ke.symbol)||Y("token")]),he=Oe,ke=!0}else if(ae===a.TransactionType.contractInteraction||ae===a.TransactionType.batch||ae===a.TransactionType.revokeDelegation){Be=h.TransactionGroupCategory.interaction;const e=(0,l.getTransactionTypeTitle)(Y,ae);Re=(null==le?void 0:le.name)&&(0,u.camelCaseToCapitalize)(le.name)||e,he=Oe,ke=!0}else if(ae===a.TransactionType.deployContract)Be=h.TransactionGroupCategory.interaction,Re=(0,l.getTransactionTypeTitle)(Y,ae),he=Oe,ke=!0;else if(ae===a.TransactionType.incoming)Be=h.TransactionGroupCategory.receive,Re=Y("receive"),ge="",he=Y("fromAddress",[(0,m.shortenAddress)(oe)]);else if(ae===a.TransactionType.tokenMethodTransferFrom||ae===a.TransactionType.tokenMethodTransfer){var Je;Be=h.TransactionGroupCategory.send,Re=Y("sendSpecifiedTokens",[(null===(Je=Te)||void 0===Je?void 0:Je.symbol)||(null==Pe?void 0:Pe.name)||Y("token")]),ye=(0,d.getTokenAddressParam)(Ae),he=Y("toAddress",[(0,m.shortenAddress)(ye)])}else ae===a.TransactionType.tokenMethodSafeTransferFrom?(Be=h.TransactionGroupCategory.send,Re=Y("safeTransferFrom"),ye=(0,d.getTokenAddressParam)(Ae),he=Y("toAddress",[(0,m.shortenAddress)(ye)])):ae===a.TransactionType.simpleSend?(Be=h.TransactionGroupCategory.send,Re=Y("send"),he=Y("toAddress",[(0,m.shortenAddress)(ye)])):ae===a.TransactionType.bridgeApproval?(Re=Y("bridgeApproval"),Be=h.TransactionGroupCategory.approval,Re=Y("bridgeApproval",[He.sourceTokenSymbol]),he=Oe,ke=!0,Fe=He.sourceTokenSymbol):ae===a.TransactionType.bridge?(Re=Y("bridgeToChain",[ne||""]),Be=He.category,Fe=He.sourceTokenSymbol,je=(0,b.formatAmount)(H,new o.default(He.sourceTokenAmountSent??0)),Le=He.displayCurrencyAmount):W((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${ae}`));const Ye=(0,x.useUserPreferencedCurrency)(c.PRIMARY,{},null==e||null===($=e.initialTransaction)||void 0===$?void 0:$.chainId),Xe=(0,x.useUserPreferencedCurrency)(c.SECONDARY),[Ze]=(0,I.useCurrencyDisplay)(pe,{prefix:ge,displayValue:je,suffix:Fe,...Ye},null==e||null===(U=e.initialTransaction)||void 0===U?void 0:U.chainId),[et]=(0,I.useCurrencyDisplay)(pe,{prefix:ge,displayValue:Le,hideLabel:ve||Boolean($e),...Xe},null==e||null===(q=e.initialTransaction)||void 0===q?void 0:q.chainId);return{title:Re,category:Be,date:fe,subtitle:he,subtitleContainsOrigin:ke,primaryCurrency:ae===a.TransactionType.swap&&ce?"":Ze,senderAddress:oe,recipientAddress:ye,secondaryCurrency:ve&&!Ne||[a.TransactionType.swap,a.TransactionType.swapAndSend].includes(ae)&&!qe?undefined:et,displayedStatusKey:ue,isPending:ce,isSubmitted:de}};var s=e("react-redux"),r=e("react"),a=e("@metamask/transaction-controller"),o=N(e("bignumber.js")),i=e("../selectors/selectors"),l=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),h=e("../../shared/constants/transaction"),g=e("../store/actions"),k=e("../../shared/modules/string-utils"),y=e("../../shared/lib/metamask-controller-utils"),v=e("../ducks/bridge-status/selectors"),T=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),b=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),C=e("../../shared/constants/bridge"),w=e("./useI18nContext"),E=e("./useTokenFiatAmount"),x=e("./useUserPreferencedCurrency"),I=e("./useCurrencyDisplay"),_=e("./useTokenDisplayValue"),A=e("./useTokenData"),M=e("./useSwappedTokenValue"),P=e("./useCurrentAsset"),D=N(e("./bridge/useBridgeChainInfo"));function N(e){return e&&e.__esModule?e:{default:e}}const O=[null,undefined,a.TransactionType.sign,a.TransactionType.personalSign,a.TransactionType.signTypedData,a.TransactionType.ethDecrypt,a.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6801,{"../../shared/constants/common":5580,"../../shared/constants/network":5592,"../constants":6611,"../helpers/constants/common":6652,"../selectors":7418,"../selectors/multichain":7422,"./useMultichainSelector":6775,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,s.useSelector)(r.getSelectedInternalAccount),m=t.account??d,p=(0,c.useMultichainSelector)(a.getMultichainNativeCurrency,m),{showNativeTokenAsMainBalance:f}=(0,s.useSelector)(r.getPreferences,s.shallowEqual),h=(0,c.useMultichainSelector)(a.getMultichainShouldShowFiat,m),g={currency:(0,c.useMultichainSelector)(a.getMultichainCurrentCurrency,m),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},k={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||p||i.EtherDenomination.ETH:p||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return k;if(t.showFiatOverride)return g;if(!h)return k;if(t.shouldCheckShowNativeToken&&f||!t.shouldCheckShowNativeToken)return e===o.PRIMARY?k:g;return e===o.PRIMARY?g:k};var s=e("react-redux"),r=e("../selectors"),a=e("../selectors/multichain"),o=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants"),u=e("../../shared/constants/network"),c=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6802,{react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var s=e("react");n.useWindowFocus=()=>{const[e,t]=(0,s.useState)(document.hasFocus());return(0,s.useEffect)((()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[6803,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":203,"../shared/constants/alerts":5576,"../shared/constants/app":5578,"../shared/constants/copy":5581,"../shared/lib/error-utils":5620,"../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5627,"../shared/lib/switch-direction":5634,"../shared/lib/trace":5636,"../shared/modules/object.utils":5657,"../shared/modules/selectors/networks":5663,"./ducks/alerts":6624,"./ducks/metamask/metamask":6642,"./helpers/utils/tags":6700,"./helpers/utils/tx-helper":6703,"./pages":7171,"./selectors":7418,"./store/actions":7436,"./store/background-connection":7437,"./store/store":7439,"copy-to-clipboard":3993,lodash:4711,loglevel:4719,react:5121,"react-dom":4950,util:5521,"webextension-polyfill":5555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,r=await(0,y.trace)({name:y.TraceName.GetState,parentContext:n},(()=>(0,s.promisify)(t.getState.bind(t))())),a=await async function(e,t,n){const{traceContext:s}=n,r=(0,A.getStartupTraceTags)({metamask:e}),a=await(0,y.trace)({name:y.TraceName.SetupStore,parentContext:s,tags:r},(()=>O(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{a.dispatch(b.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{a.dispatch(b.setFeatureFlag(e,t))}},await(0,y.trace)({name:y.TraceName.InitialActions,parentContext:s},(()=>async function(e){const t=e.getState(),n=(0,C.getNetworkToAutomaticallySwitchTo)(t);n?await e.dispatch(b.automaticallySwitchNetwork(n,(0,C.getOriginOfCurrentTab)(t))):(0,C.getSwitchedNetworkDetails)(t)&&await e.dispatch(b.clearSwitchedNetworkDetails());if((0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(b.setCurrentExtensionPopupId(t))}}(a))),(0,y.trace)({name:y.TraceName.FirstRender,parentContext:s},(()=>(0,l.render)(i.default.createElement(x.default,{store:a}),n.container))),a}(r,t,e);return await(0,s.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(a),a},n.setupInitialStore=O,n.updateBackgroundConnection=void 0;var s=e("util"),r=P(e("copy-to-clipboard")),a=P(e("loglevel")),o=e("lodash"),i=P(e("react")),l=e("react-dom"),u=P(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),p=e("../app/scripts/constants/sentry-state"),f=e("../shared/constants/app"),h=e("../shared/constants/copy"),g=P(e("../shared/lib/switch-direction")),k=e("../shared/lib/error-utils"),y=e("../shared/lib/trace"),v=e("../shared/modules/selectors/networks"),T=e("../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("./store/actions")),S=P(e("./store/store")),C=e("./selectors"),w=e("./ducks/alerts"),E=e("./ducks/metamask/metamask"),x=P(e("./pages")),I=P(e("./helpers/utils/tx-helper")),_=e("./store/background-connection"),A=e("./helpers/utils/tags");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}let D;a.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const N=e=>{(0,_.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);D.dispatch(b.updateMetamaskState(e.params[0]))}))};async function O(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:s,enLocaleMessages:r}=await(0,k.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const a={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:s,en:r}};if(N(t),(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const{origin:e}=a.activeTab,t=(0,C.getAllPermittedAccountsForCurrentTab)(a),n=(0,C.getSelectedInternalAccount)(a),s=(0,T.isInternalAccountInPermittedAccountIds)(n,t),r=(0,E.getUnconnectedAccountAlertShown)(a),o=(0,E.getUnconnectedAccountAlertEnabledness)(a);e&&o&&!r[e]&&t.length>0&&!s&&(a[d.AlertTypes.unconnectedAccount]={state:w.ALERT_STATE.OPEN},b.setUnconnectedAccountAlertShown(e))}const o=(0,S.default)(a);D=o;const i=(0,C.getUnapprovedTransactions)(e),l=(0,I.default)(i,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,v.getCurrentChainId)({metamask:e}));return l.length>0&&o.dispatch(b.showConfTxPage({id:l[0].id})),o}n.updateBackgroundConnection=N,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();u.default.runtime.getPlatformInfo().then((s=>{t.platform=s,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,r.default)(n,h.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[6804,{"../../../shared/modules/string-utils":5666,"../../components/app/assets/nfts/nft-details/nft-details":5729,"../../ducks/metamask/metamask":6642,"../../helpers/constants/routes":6660,"../../selectors/assets":7412,"./components/native-asset":6812,"./components/token-asset":6813,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/assets/nfts/nft-details/nft-details")),l=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),c=e("../../selectors/assets"),d=p(e("./components/native-asset")),m=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useParams)(),{chainId:t,asset:n,id:p}=e,f=n?decodeURIComponent(n):undefined,h=(0,r.useSelector)((e=>(0,l.getNFTsByChainId)(e,t))),g=(0,r.useSelector)((e=>(0,c.getTokenByAccountAndAddressAndChainId)(e,undefined,f,t))),k=h.find((({address:e,tokenId:t})=>(0,o.isEqualCaseInsensitive)(e,f)&&p===t.toString()));(0,s.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]);const y=(()=>{if(k)return s.default.createElement(i.default,{nft:k});if(!g||!t)return s.default.createElement(a.Redirect,{to:{pathname:u.DEFAULT_ROUTE}});return!g.isNative&&g.address?s.default.createElement(m.default,{chainId:t,token:g}):s.default.createElement(d.default,{chainId:t,token:g})})();return s.default.createElement("div",{className:"main-container asset__container"},y)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[6805,{"../../../../app/scripts/lib/util":203,"../../../../shared/constants/transaction":5607,"../../../components/component-library":6183,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../helpers/utils/confirm-tx.util":6681,"../../../hooks/useI18nContext":6767,"../../../hooks/useMultichainSelector":6775,"../../../selectors/assets":7412,"../../../selectors/multichain":7422,"../../../selectors/selectors":7428,"../util":6817,"bignumber.js":3810,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetMarketDetails=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-redux"),o=e("bignumber.js"),i=e("../../../helpers/utils/confirm-tx.util"),l=e("../util"),u=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),m=e("../../../ducks/metamask/metamask"),p=e("../../../hooks/useMultichainSelector"),f=e("../../../selectors/multichain"),h=e("../../../selectors/assets"),g=e("../../../selectors/selectors"),k=e("../../../../shared/constants/transaction"),y=e("../../../../app/scripts/lib/util");function v(e,t){return r.default.createElement(u.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},r.default.createElement(u.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},e),t)}n.AssetMarketDetails=({asset:e,address:t})=>{var n,s,T,b,S;const C=(0,d.useI18nContext)(),w=(0,a.useSelector)(m.getCurrentCurrency),E=(0,p.useMultichainSelector)(f.getMultichainConversionRate),x=(0,a.useSelector)(g.getMarketData),I=(0,a.useSelector)(g.getCurrencyRates),_=(0,a.useSelector)(h.getAssetsRates),A=(0,a.useSelector)(f.getMultichainIsEvm),M=(0,p.useMultichainSelector)(f.getMultichainNativeCurrency),{type:P,symbol:D,chainId:N}=e,O=P===k.AssetType.native?null===(n=I[D])||void 0===n?void 0:n.conversionRate:(null===(s=I[M])||void 0===s?void 0:s.conversionRate)||0,B=(null==_||null===(T=_[t])||void 0===T?void 0:T.rate)||0,R=A?O:B,F=(0,y.getConversionRatesForNativeAsset)({conversionRates:_,chainId:N}),j=P===k.AssetType.native?null==F?void 0:F.marketData:null==_||null===(b=_[t])||void 0===b?void 0:b.marketData,L=A?null===(S=x[N])||void 0===S?void 0:S[t]:j;if(!(E>0&&L&&(L.marketCap>0||L.totalVolume>0||L.circulatingSupply>0||L.allTimeHigh>0||L.allTimeLow>0)))return null;const $=e=>e?new o.BigNumber("string"==typeof e?e:e.toString()).toNumber():0;let U=$(L.marketCap),q=$(L.totalVolume),W=$(L.circulatingSupply),H=$(L.allTimeHigh),V=$(L.allTimeLow);return A&&(U*=R,q*=R,W*=R,H*=R,V*=R),r.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(u.Text,{variant:c.TextVariant.headingMd,paddingBottom:4},C("marketDetails")),r.default.createElement(u.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},U>0&&v(C("marketCap"),r.default.createElement(u.Text,{"data-testid":"asset-market-cap"},(0,l.localizeLargeNumber)(C,U))),q>0&&v(C("totalVolume"),r.default.createElement(u.Text,null,(0,l.localizeLargeNumber)(C,q))),W>0&&v(C("circulatingSupply"),r.default.createElement(u.Text,null,(0,l.localizeLargeNumber)(C,W))),H>0&&v(C("allTimeHigh"),r.default.createElement(u.Text,null,(0,i.formatCurrency)(`${H}`,w,(0,l.getPricePrecision)(H)))),V>0&&v(C("allTimeLow"),r.default.createElement(u.Text,null,(0,i.formatCurrency)(`${V}`,w,(0,l.getPricePrecision)(V))))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-market-details.tsx"}],[6806,{"../../../components/component-library":6183,"../../../components/ui/menu":6555,"../../../contexts/i18n":6614,"../../../helpers/constants/design-system":6654,"../../../helpers/constants/routes":6660,"../../../selectors":7418,"../../../selectors/multichain":7422,"prop-types":4875,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("prop-types"))&&s.__esModule?s:{default:s},o=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),c=e("../../../selectors"),d=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system"),f=e("../../../selectors/multichain");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:s,isNativeAsset:a})=>{const h=(0,r.useContext)(l.I18nContext),[g,k]=(0,r.useState)(!1),y=(0,o.useHistory)(),v=(0,i.useSelector)(c.getBlockExplorerLinkText),T=(0,r.useRef)(!1),b=(0,i.useSelector)(f.getMultichainIsEvm)&&!a;return r.default.createElement("div",{ref:T},r.default.createElement(m.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>k(!0),ariaLabel:h("assetOptions"),iconName:m.IconName.MoreVertical,color:p.Color.textDefault,size:m.ButtonIconSize.Sm}),g?r.default.createElement(u.Menu,{anchorElement:T.current,onHide:()=>k(!1)},r.default.createElement(u.MenuItem,{iconName:m.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{k(!1),t()}},h(v.firstPart,""===v.secondPart?null:[h("blockExplorerAssetAction")])),b&&r.default.createElement(u.MenuItem,{iconName:m.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{k(!1),e()}},h("hideTokenSymbol",[s])),a||!n?null:r.default.createElement(u.MenuItem,{iconName:m.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{k(!1),n()}},h("tokenDetails"))):null)};g.propTypes={isNativeAsset:a.default.bool,onClickBlockExplorer:a.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:a.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[6807,{"../../../../shared/constants/transaction":5607,"../../../../shared/lib/trace":5636,"../../../../shared/modules/conversion.utils":5646,"../../../../shared/modules/hexstring-utils":5652,"../../../components/app/assets/hooks/useMultichainAssets":5720,"../../../components/app/assets/token-cell":5745,"../../../components/app/assets/util/calculateTokenBalance":5749,"../../../components/app/transaction-list":6096,"../../../components/app/wallet-overview/coin-buttons":6103,"../../../components/component-library":6183,"../../../components/multichain":6356,"../../../ducks/metamask/metamask":6642,"../../../ducks/ramps":6644,"../../../helpers/constants/design-system":6654,"../../../helpers/constants/routes":6660,"../../../helpers/utils/portfolio":6696,"../../../hooks/useI18nContext":6767,"../../../hooks/useMultichainSelector":6775,"../../../hooks/useTokenBalances":6791,"../../../selectors":7418,"../../../selectors/multichain":7422,"./asset-market-details":6805,"./chart/asset-chart":6809,"./token-buttons":6814,"@metamask/assets-controllers":1356,"@metamask/keyring-api":1936,"@metamask/utils":2807,lodash:4711,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("@metamask/assets-controllers"),r=e("@metamask/keyring-api"),a=e("@metamask/utils"),o=e("lodash"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),l=e("react-redux"),u=e("react-router-dom"),c=e("../../../../shared/constants/transaction"),d=e("../../../../shared/modules/conversion.utils"),m=e("../../../../shared/modules/hexstring-utils"),p=O(e("../../../components/app/assets/hooks/useMultichainAssets")),f=O(e("../../../components/app/assets/token-cell")),h=e("../../../components/app/assets/util/calculateTokenBalance"),g=O(e("../../../components/app/transaction-list")),k=O(e("../../../components/app/wallet-overview/coin-buttons")),y=e("../../../components/component-library"),v=e("../../../components/multichain"),T=e("../../../ducks/metamask/metamask"),b=e("../../../ducks/ramps"),S=e("../../../helpers/constants/design-system"),C=e("../../../helpers/constants/routes"),w=e("../../../helpers/utils/portfolio"),E=e("../../../hooks/useI18nContext"),x=e("../../../hooks/useMultichainSelector"),I=e("../../../hooks/useTokenBalances"),_=e("../../../selectors"),A=e("../../../selectors/multichain"),M=e("../../../../shared/lib/trace"),P=O(e("./chart/asset-chart")),D=O(e("./token-buttons")),N=e("./asset-market-details");function O(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function R(e,t){return i.default.createElement(y.Box,{display:S.Display.Flex,justifyContent:S.JustifyContent.spaceBetween},i.default.createElement(y.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},e),t)}n.default=({asset:e,optionsButton:t})=>{var n,O,B,F,j,L;const $=(0,E.useI18nContext)(),U=(0,u.useHistory)(),q=(0,l.useSelector)(_.getSelectedAccount),W=(0,l.useSelector)(T.getCurrentCurrency),H=(0,l.useSelector)(b.getIsNativeTokenBuyable),V=(0,x.useMultichainSelector)(A.getMultichainIsEvm);(0,i.useEffect)((()=>{(0,M.endTrace)({name:M.TraceName.AssetDetails})}),[]);const{chainId:z,type:G,symbol:Q,name:K,image:J,decimals:Y}=e,X=G===c.AssetType.native,Z=(0,l.useSelector)((e=>(0,_.getSwapsDefaultToken)(e,z)),o.isEqual),ee=(0,l.useSelector)((e=>(0,_.getIsSwapsChain)(e,z))),te=(0,l.useSelector)((e=>(0,_.getIsBridgeChain)(e,z))),ne=(0,l.useSelector)(_.getSelectedInternalAccount,o.isEqual),se=ne.methods.includes(r.EthMethod.SignTransaction)||ne.methods.includes(r.EthMethod.SignUserOperation)||ne.methods.includes(r.SolMethod.SignTransaction),re=(0,l.useSelector)(_.getMarketData),ae=(0,l.useSelector)(_.getCurrencyRates),oe=(0,x.useMultichainSelector)(A.getMultichainIsTestnet),ie=(0,x.useMultichainSelector)(A.getMultichainShouldShowFiat),le=!oe,ue=(0,l.useSelector)(_.getShowFiatInTestnets),ce=ie&&(le||oe&&ue),de=(0,l.useSelector)(_.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:me}=(0,I.useTokenBalances)({chainIds:[z]}),pe=me[q.address],fe=(0,p.default)().filter((e=>e.chainId===z&&e.address!==undefined)).find((t=>{switch(G){case c.AssetType.native:return t.isNative;case c.AssetType.token:return t.address===e.address;default:return!1}})),he=(0,l.useSelector)(_.getParticipateInMetaMetrics),ge=(0,l.useSelector)(_.getDataCollectionForMarketing),ke=(0,l.useSelector)(_.getMetaMetricsId),ye=G===c.AssetType.token?V?(0,m.toChecksumHexAddress)(e.address):e.address:(0,s.getNativeTokenAddress)(z),ve=G===c.AssetType.token,Te=ve?V?(0,m.toChecksumHexAddress)(e.address):(0,a.parseCaipAssetType)(ye).assetReference:"",be=null==pe||null===(n=pe[z])||void 0===n?void 0:n[ye],Se=(0,h.calculateTokenBalance)({isNative:X,chainId:z,address:ye,decimals:Y,nativeBalances:de,selectedAccountTokenBalancesAcrossChains:pe}),Ce=null===(O=re[z])||void 0===O||null===(O=O[ye])||void 0===O?void 0:O.currency,we=(null===(B=re[z])||void 0===B||null===(B=B[ye])||void 0===B?void 0:B.price)||undefined,Ee=G===c.AssetType.native?null===(F=ae[Q])||void 0===F?void 0:F.conversionRate:(null===(j=ae[Ce])||void 0===j?void 0:j.conversionRate)||0,xe=we*Ee*parseFloat(String(Se)),Ie=Ee!==undefined&&we!==undefined?Ee*we:undefined;e.balance={value:(0,d.hexToDecimal)(be),display:String(Se),fiat:String(xe)};const _e=V,Ae=(0,i.useMemo)((()=>(0,w.getPortfolioUrl)("","asset_page",ke,he,ge,ne.address,"spending-caps")),[ne.address,ge,he,ke]),Me=null===(L=(0,l.useSelector)(A.getMultichainNetworkConfigurationsByChainId)[z])||void 0===L?void 0:L.name,Pe=(0,A.getImageForChainId)(z),De=V?{address:ye,chainId:z,symbol:Q,image:J,title:K??Q,tokenFiatAmount:ce&&we?xe:null,string:Se?Se.toString():"",decimals:e.decimals,aggregators:G===c.AssetType.token&&e.aggregators?e.aggregators:[],isNative:G===c.AssetType.native,primary:Se?Se.toString():"",secondary:Se?Number(Se):0}:fe;if(!De)throw new Error("Token with fiat amount not found");return i.default.createElement(y.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Row,justifyContent:S.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},i.default.createElement(y.Box,{display:S.Display.Flex},i.default.createElement(y.ButtonIcon,{color:S.IconColor.iconAlternative,marginRight:1,size:y.ButtonIconSize.Sm,ariaLabel:$("back"),iconName:y.IconName.ArrowLeft,onClick:()=>U.push(C.DEFAULT_ROUTE)}),i.default.createElement(y.Text,{"data-testid":"asset-name",color:S.TextColor.textAlternative},K&&Q&&K!==Q?`${K} (${Q})`:K??Q)),t),i.default.createElement(P.default,{chainId:z,address:ye,currentPrice:Ie,currency:W}),i.default.createElement(y.Box,{marginTop:4},G===c.AssetType.native?i.default.createElement(k.default,{account:ne,trackingLocation:"asset-page",isBuyableChain:H,isSigningEnabled:se,isSwapsChain:ee,isBridgeChain:te,chainId:z,defaultSwapsToken:Z}):i.default.createElement(D.default,{token:e})),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingTop:5},i.default.createElement(y.Text,{variant:S.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},$("yourBalance")),[c.AssetType.token,c.AssetType.native].includes(G)&&i.default.createElement(f.default,{key:`${Q}-${ye}`,token:De,disableHover:!0}),i.default.createElement(y.Box,{marginTop:2,display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:7},[c.AssetType.token,c.AssetType.native].includes(G)&&i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingLeft:4,paddingRight:4},i.default.createElement(y.Text,{variant:S.TextVariant.headingMd,paddingBottom:4},$("tokenDetails")),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},R($("network"),i.default.createElement(y.Text,{display:S.Display.Flex,alignItems:S.AlignItems.center,gap:1,"data-testid":"asset-network"},i.default.createElement(y.AvatarNetwork,{src:Pe,name:Me,size:y.AvatarNetworkSize.Sm}),Me)),ve&&i.default.createElement(y.Box,null,R($("contractAddress"),i.default.createElement(v.AddressCopyButton,{address:Te,shorten:!0})),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},e.decimals!==undefined&&R($("tokenDecimal"),i.default.createElement(y.Text,null,e.decimals)),e.aggregators&&e.aggregators.length>0&&i.default.createElement(y.Box,null,i.default.createElement(y.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},$("tokenList")),i.default.createElement(y.Text,null,e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),_e&&R($("spendingCaps"),i.default.createElement(y.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:Ae,target:"_blank",rel:"noopener noreferrer"},$("editInPortfolio"))))),i.default.createElement(N.AssetMarketDetails,{asset:e,address:ye}),i.default.createElement(y.Box,{marginBottom:8},i.default.createElement(y.Text,{paddingLeft:4,paddingRight:4,variant:S.TextVariant.headingMd},$("yourActivity")),G===c.AssetType.native?i.default.createElement(g.default,{hideNetworkFilter:!0}):i.default.createElement(g.default,{tokenAddress:ye,hideNetworkFilter:!0})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[6808,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"../../../helpers/utils/confirm-tx.util":6681,"../util":6817,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("../../../helpers/constants/design-system"),a=e("../../../components/component-library"),o=e("../../../helpers/utils/confirm-tx.util"),i=e("../util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=s.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),c=s.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),d=(0,s.forwardRef)(((e,t)=>{const[{price:n,date:l},d]=(0,s.useState)({price:e.price,date:e.date});(0,s.useImperativeHandle)(t,(()=>({setPrice:d})));const{loading:m,currency:p,comparePrice:f}=e,h=n!==undefined&&f!==undefined?n-f:undefined;return s.default.createElement(a.Box,{marginLeft:4,marginRight:4},s.default.createElement(a.Text,{"data-testid":"asset-hovered-price",style:{width:"100px"},variant:r.TextVariant.displayMd,fontWeight:r.FontWeight.Medium,borderRadius:r.BorderRadius.LG,marginBottom:1,backgroundColor:m&&!n?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent},n?(0,o.formatCurrency)(`${n}`,p,(0,i.getPricePrecision)(n)):""),s.default.createElement(a.Box,null,h!==undefined&&f!==undefined?s.default.createElement(a.Box,{style:{opacity:m?i.loadingOpacity:1}},h>=0?u:c,s.default.createElement(a.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:h>=0?r.TextColor.successDefault:r.TextColor.errorDefault},(0,o.formatCurrency)(`${Math.abs(h)}`,p,(0,i.getPricePrecision)(h))," ","(",h>=0?"+":"",(h/f*100).toFixed(2),"%)"),s.default.createElement(a.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,color:r.TextColor.textAlternative},(0,i.getShortDateFormatter)().format(l))):s.default.createElement(a.Text,{style:{width:"200px"},backgroundColor:m?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent,borderRadius:r.BorderRadius.LG,variant:r.TextVariant.bodyMdMedium},"")))}));n.default=d}}},{package:"$root$",file:"ui/pages/asset/components/asset-price.tsx"}],[6809,{"../../../../components/component-library":6183,"../../../../helpers/constants/design-system":6654,"../../../../hooks/useI18nContext":6767,"../../../../hooks/useTheme":6789,"../../useHistoricalPrices":6816,"../../util":6817,"../asset-price":6808,"./chart-tooltip":6810,"./crosshair-plugin":6811,"@metamask/design-tokens":1443,"chart.js":3944,classnames:3952,react:5121,"react-chartjs-2":4946},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("chart.js"),a=e("react-chartjs-2"),o=k(e("classnames")),i=e("@metamask/design-tokens"),l=e("../../../../hooks/useTheme"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),d=e("../../../../hooks/useI18nContext"),m=e("../../useHistoricalPrices"),p=e("../../util"),f=k(e("../asset-price")),h=k(e("./chart-tooltip")),g=e("./crosshair-plugin");function k(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v.apply(null,arguments)}r.Chart.register(r.LinearScale,r.PointElement,r.LineElement,r.Filler,r.Decimation,g.CrosshairPlugin);const T={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:r})=>{var g;const k=(0,d.useI18nContext)(),y=(0,l.useTheme)(),[b,S]=(0,s.useState)("1D"),C=(0,s.useRef)(),w=(0,s.useRef)(),{loading:E,data:{prices:x,edges:I}}=(0,m.useHistoricalPrices)({chainId:e,address:t,currency:r,timeRange:b}),{xMin:_,xMax:A,yMin:M,yMax:P}=I??{},D={...T,borderColor:"dark"===y?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:null==_?void 0:_.x,max:null==A?void 0:A.x,display:!1,type:"linear"},y:{min:null==M?void 0:M.y,max:null==P?void 0:P.y,display:!1}}};return n&&(E||x)?s.default.createElement(c.Box,{borderRadius:u.BorderRadius.LG},s.default.createElement(f.default,{ref:w,loading:E,currency:r,price:n,date:Date.now(),comparePrice:null==x||null===(g=x[0])||void 0===g?void 0:g.y}),s.default.createElement(c.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:u.BorderRadius.LG,backgroundColor:E&&!x?u.BackgroundColor.backgroundAlternative:u.BackgroundColor.transparent},s.default.createElement(c.Box,{style:{opacity:E&&x?p.loadingOpacity:1}},s.default.createElement(h.default,v({point:P},I,{currency:r})),s.default.createElement(c.Box,{style:{aspectRatio:`${D.aspectRatio}`},display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:n?u.JustifyContent.flexEnd:u.JustifyContent.flexStart},s.default.createElement(a.Line,{ref:C,data:{datasets:[{data:x}]},options:D,updateMode:"none",onMouseMove:e=>{var t;const n=null==C||null===(t=C.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,r=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var s;if(r)null==w||null===(s=w.current)||void 0===s||s.setPrice({price:r.y,date:r.x})}},onMouseOut:()=>{var e;null==w||null===(e=w.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),s.default.createElement(h.default,v({point:M},I,{currency:r}))),s.default.createElement(c.Box,{style:x?undefined:{visibility:"hidden"},display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},[[k("oneDayAbbreviation"),"1D"],[k("oneWeekAbbreviation"),"7D"],[k("oneMonthAbbreviation"),"1M"],[k("threeMonthsAbbreviation"),"3M"],[k("oneYearAbbreviation"),"1Y"],[k("all"),"1000Y"]].map((([e,t])=>s.default.createElement(c.ButtonBase,{key:t,className:(0,o.default)("time-range-button",{"time-range-button__selected":t===b}),onClick:()=>S(t),variant:u.TextVariant.bodySmMedium,size:c.ButtonBaseSize.Sm,backgroundColor:u.BackgroundColor.transparent,color:u.TextColor.textAlternative},e)))))):null}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[6810,{"../../../../components/component-library":6183,"../../../../helpers/constants/design-system":6654,"../../../../helpers/utils/confirm-tx.util":6681,"../../util":6817,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../../components/component-library"),o=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),l=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:s})=>{const u=e&&t&&n?(e.x-t.x)/(n.x-t.x):0;return r.default.createElement(a.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?a.TextDirection.LeftToRight:a.TextDirection.RightToLeft}},r.default.createElement(a.Text,{marginLeft:4,marginRight:4,variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?"":(0,o.formatCurrency)(`${null==e?void 0:e.y}`,s,(0,l.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[6811,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:s}=e.scales,r=t.getPixelForValue(n.x),a=s.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(r,0),e.ctx.lineTo(r,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(r,a,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[6812,{"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/transaction":5607,"../../../../shared/modules/selectors/networks":5663,"../../../contexts/metametrics":6618,"../../../helpers/utils/util":6704,"../../../hooks/useIsOriginalNativeTokenSymbol":6768,"../../../selectors":7418,"./asset-options":6806,"./asset-page":6807,"@metamask/etherscan-link":1860,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("@metamask/etherscan-link"),o=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),p=h(e("./asset-options")),f=h(e("./asset-page"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,h=(0,o.getNativeCurrencyForChain)(t),{type:g}=(0,r.useSelector)(i.getProviderConfig)??{},{address:k}=(0,r.useSelector)(o.getSelectedInternalAccount),y=(0,r.useSelector)(o.getRpcPrefsForCurrentProvider),v=(0,a.getAccountLink)(k,t,y),T=(0,s.useContext)(m.MetaMetricsContext),b=(0,u.useIsOriginalNativeTokenSymbol)(t,n,g);return s.default.createElement(f.default,{asset:{chainId:t,type:l.AssetType.native,symbol:n,image:h,decimals:e.decimals,isOriginalNativeSymbol:!0===b},optionsButton:s.default.createElement(p.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{T({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(v)}}),global.platform.openTab({url:v})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[6813,{"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/transaction":5607,"../../../../shared/modules/selectors/networks":5663,"../../../../shared/modules/string-utils":5666,"../../../contexts/metametrics":6618,"../../../helpers/utils/multichain/blockExplorer":6691,"../../../helpers/utils/util":6704,"../../../hooks/useMultichainSelector":6775,"../../../hooks/useTokenFiatAmount":6795,"../../../hooks/useTokenTracker":6798,"../../../selectors":7418,"../../../selectors/multichain":7422,"../../../store/actions":7436,"./asset-options":6806,"./asset-page":6807,"@metamask/etherscan-link":1860,"@metamask/utils":2807,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("@metamask/etherscan-link"),r=e("@metamask/utils"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("react-redux"),i=e("react-router-dom"),l=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),c=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/modules/string-utils"),m=e("../../../contexts/metametrics"),p=e("../../../helpers/utils/util"),f=e("../../../hooks/useTokenFiatAmount"),h=e("../../../hooks/useTokenTracker"),g=e("../../../selectors"),k=e("../../../store/actions"),y=e("../../../helpers/utils/multichain/blockExplorer"),v=e("../../../hooks/useMultichainSelector"),T=e("../../../selectors/multichain"),b=C(e("./asset-options")),S=C(e("./asset-page"));function C(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,C,w;const{address:E,symbol:x,isERC721:I,image:_}=e,A=(0,o.useSelector)(g.getTokenList),M=(0,o.useSelector)(c.getNetworkConfigurationsByChainId),P=null===(n=M[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,D=P===undefined?null:null===(C=M[t])||void 0===C?void 0:C.blockExplorerUrls[P],N=(0,o.useSelector)(g.getSelectedInternalAccount),{address:O}=N,B=(0,o.useSelector)(g.selectERC20TokensByChain),R=(0,v.useMultichainSelector)(T.getMultichainNetwork,N),F=(0,o.useSelector)(T.getMultichainIsEvm),j=(0,i.useHistory)(),L=(0,o.useDispatch)(),$=(0,a.useContext)(m.MetaMetricsContext),U=Object.values(A).find((e=>(0,d.isEqualCaseInsensitive)(e.symbol,x)&&(0,d.isEqualCaseInsensitive)(e.address,E))),q=null==B||null===(w=B[t])||void 0===w||null===(w=w.data)||void 0===w?void 0:w[E.toLowerCase()],W=(null==U?void 0:U.name)||(null==q?void 0:q.name)||x,H=(null==U?void 0:U.iconUrl)||(null==q?void 0:q.iconUrl)||_||"",V=null==U?void 0:U.aggregators,{tokensWithBalances:z}=(0,h.useTokenTracker)({tokens:[e],address:undefined}),G=null==z?void 0:z[0],Q=(0,f.useTokenFiatAmount)(E,null==G?void 0:G.string,x,{},!1),K=(0,s.getTokenTrackerLink)(e.address,t,"",O,{blockExplorerUrl:D??""}),J=F?K:(0,y.getMultichainAccountUrl)((0,r.parseCaipAssetType)(E).assetReference,R);return a.default.createElement(S.default,{asset:{chainId:t,type:u.AssetType.token,address:E,symbol:x,name:W,decimals:e.decimals,image:H,aggregators:V,balance:{value:null==G?void 0:G.balance,display:`${(0,p.roundToDecimalPlacesRemovingExtraZeroes)(null==G?void 0:G.string,5)}`,fiat:Q},isERC721:I},optionsButton:a.default.createElement(b.default,{isNativeAsset:!1,onRemove:()=>L((0,k.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:j})),onClickBlockExplorer:()=>{$({event:"Clicked Block Explorer Link",category:l.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(K)}}),global.platform.openTab({url:J})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[6814,{"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/transaction":5607,"../../../../shared/modules/selectors/networks":5663,"../../../components/component-library":6183,"../../../components/ui/icon-button/icon-button":6525,"../../../contexts/i18n":6614,"../../../contexts/metametrics":6618,"../../../ducks/ramps":6644,"../../../ducks/send":6647,"../../../ducks/swaps/swaps":6650,"../../../helpers/constants/design-system":6654,"../../../helpers/constants/error-keys":6655,"../../../helpers/constants/routes":6660,"../../../helpers/utils/hardware":6685,"../../../hooks/bridge/useBridging":6718,"../../../hooks/ramps/useRamps/useRamps":6739,"../../../hooks/useMultichainSelector":6775,"../../../selectors":7418,"../../../selectors/multichain":7422,"../../../store/actions":7436,lodash:4711,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("lodash"),i=e("../../../contexts/i18n"),l=e("../../../helpers/constants/routes"),u=e("../../../ducks/send"),c=e("../../../helpers/utils/hardware"),d=e("../../../ducks/swaps/swaps"),m=I(e("../../../hooks/ramps/useRamps/useRamps")),p=e("../../../selectors"),f=I(e("../../../hooks/bridge/useBridging")),h=e("../../../helpers/constants/error-keys"),g=e("../../../store/actions"),k=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),T=e("../../../helpers/constants/design-system"),b=I(e("../../../components/ui/icon-button/icon-button")),S=e("../../../components/component-library"),C=e("../../../ducks/ramps"),w=e("../../../hooks/useMultichainSelector"),E=e("../../../selectors/multichain"),x=e("../../../../shared/modules/selectors/networks");function I(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,r.useDispatch)(),n=(0,s.useContext)(i.I18nContext),I=(0,s.useContext)(k.MetaMetricsContext),_=(0,a.useHistory)(),A=(0,r.useSelector)(p.getCurrentKeyring),M=(0,c.isHardwareKeyring)(A.type),P=(0,w.useMultichainSelector)(E.getMultichainIsEvm),D=(0,r.useSelector)(p.getSelectedInternalAccount,o.isEqual),{chainId:N}=(0,w.useMultichainSelector)(E.getMultichainNetwork),O=(0,r.useSelector)(x.getCurrentChainId),B=(0,r.useSelector)(p.getNetworkConfigurationIdByChainId),R=(0,r.useSelector)((e=>(0,p.getIsSwapsChain)(e,P?O:N))),F=(0,r.useSelector)(p.getIsBridgeChain),j=(0,r.useSelector)(C.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:L}=(0,m.default)(),{openBridgeExperience:$}=(0,f.default)();(0,s.useEffect)((()=>{e.isERC721&&t((0,g.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const U=(0,s.useCallback)((async()=>{if(O!==e.chainId&&N!==e.chainId)try{const n=B[e.chainId];await t((0,g.setActiveNetworkWithError)(n)),await t((0,g.setSwitchedNetworkDetails)({networkClientId:n}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${O}.\n        ${t}`),t}}),[O,N,B,e.chainId,t]),q=(0,s.useCallback)((()=>{L(),I({event:y.MetaMetricsEventName.NavBuyButtonClicked,category:y.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:O,token_symbol:e.symbol}})}),[O,e.symbol,I,L]),W=(0,s.useCallback)((async()=>{I({event:y.MetaMetricsEventName.NavSendButtonClicked,category:y.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:y.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1});try{await U(),await t((0,u.startNewDraftTransaction)({type:v.AssetType.token,details:e})),_.push(l.SEND_ROUTE)}catch(e){if(!e.message.includes(h.INVALID_ASSET_TYPE))throw e}}),[I,t,_,e,U,D]),H=(0,s.useCallback)((async t=>{var n,s;await U(),$(y.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(n=e.balance)||void 0===n?void 0:n.value,string:null==e||null===(s=e.balance)||void 0===s?void 0:s.display,name:e.name??""},undefined,t)}),[e,U,$]),V=(0,s.useCallback)((async()=>{var n,s,r,a,o;(await U(),I({event:y.MetaMetricsEventName.NavSwapButtonClicked,category:y.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:y.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:O}}),t((0,d.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(s=e.balance)||void 0===s?void 0:s.value,string:null==e||null===(r=e.balance)||void 0===r?void 0:r.display})),M)?null===(a=(o=global.platform).openExtensionInBrowser)||void 0===a||a.call(o,l.PREPARE_SWAP_ROUTE,undefined,!1):_.push(l.PREPARE_SWAP_ROUTE)}),[O,I,t,_,e,M,U,H,N]);return s.default.createElement(S.Box,{display:T.Display.Flex,justifyContent:T.JustifyContent.spaceEvenly},s.default.createElement(b.default,{className:"token-overview__button",Icon:s.default.createElement(S.Icon,{name:S.IconName.PlusMinus,color:T.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:q,disabled:e.isERC721||!j,tooltipRender:null}),s.default.createElement(b.default,{className:"token-overview__button",onClick:W,Icon:s.default.createElement(S.Icon,{name:S.IconName.Arrow2UpRight,color:T.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),R&&s.default.createElement(b.default,{className:"token-overview__button",Icon:s.default.createElement(S.Icon,{name:S.IconName.SwapHorizontal,color:T.IconColor.primaryInverse,size:S.IconSize.Sm}),onClick:V,label:n("swap"),tooltipRender:null}),F&&s.default.createElement(b.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:s.default.createElement(S.Icon,{name:S.IconName.Bridge,color:T.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("bridge"),onClick:()=>H(!1),tooltipRender:null}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[6815,{"./asset":6804},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./asset"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[6816,{"../../../shared/constants/time":5605,"../../../shared/lib/fetch-with-cache":5621,"../../selectors":7418,"./util":6817,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},i=e("../../../shared/constants/time"),l=e("../../selectors"),u=e("./util");n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:s})=>{const c=(0,a.useSelector)(l.getShouldShowFiat)&&(0,u.chainSupportsPricing)(e),[d,m]=(0,r.useState)(c),[p,f]=(0,r.useState)({});return(0,r.useEffect)((()=>{c?(m(!0),(0,o.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${s}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]})));let s;if(n&&n.length>0){let[e,t,r,a]=[];for(const s of n)e=!e||s.x<e.x?s:e,t=!t||s.x>t.x?s:t,r=!r||s.y<r.y?s:r,a=!a||s.y>a.y?s:a;s={xMin:e,xMax:t,yMin:r,yMax:a}}f({prices:n,edges:s}),m(!1)}))):(f({}),m(!1))}),[c,e,t,n,s]),{loading:d,data:p}}}}},{package:"$root$",file:"ui/pages/asset/useHistoricalPrices.ts"}],[6817,{"@metamask/assets-controllers":1356},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.findAssetByAddress=n.chainSupportsPricing=void 0;var s=e("@metamask/assets-controllers");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>s.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const s=e[n];return s?t?s.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):s.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[6818,{"../../../components/component-library":6183,"../../../contexts/i18n":6614,"../../../helpers/constants/routes":6660,react:5121,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-router-dom"),a=e("../../../helpers/constants/routes"),o=e("../../../components/component-library"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useContext)(i.I18nContext),t=(0,r.useHistory)();return s.default.createElement(o.Button,{onClick:()=>{t.push(`${a.CROSS_CHAIN_SWAP_ROUTE}${a.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[6819,{"../../../../shared/constants/metametrics":5589,"../../../components/component-library":6183,"../../../components/ui/pulse-loader":6573,"../../../contexts/metametrics":6618,"../../../ducks/bridge/selectors":6632,"../../../helpers/constants/design-system":6654,"../../../hooks/useI18nContext":6767,"../../../selectors/selectors":7428,"lodash/isEqual":4698,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,p.useI18nContext)(),{activeQuote:n}=(0,r.useSelector)(m.getBridgeQuotes,r.shallowEqual),f=null==n||null===(e=n.sentAmount)||void 0===e?void 0:e.amount,h=(0,r.useSelector)(m.getFromToken,a.default),g=(0,r.useSelector)(m.getToToken,a.default),k=(0,r.useSelector)(m.getFromChain,a.default),y=(0,r.useSelector)(m.getToChain,a.default),v=(0,r.useSelector)(o.isHardwareWallet),T=(0,r.useSelector)(o.getHardwareWalletType),b=Boolean(null==n?void 0:n.approval),S=(0,s.useContext)(u.MetaMetricsContext);return(0,s.useEffect)((()=>{var e,t;S({event:"Awaiting Signature(s) on a HW wallet",category:c.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:b,token_from:(null==h?void 0:h.symbol)??"",token_to:(null==g?void 0:g.symbol)??"",is_hardware_wallet:v,hardware_wallet_type:T??""},sensitiveProperties:{token_from_amount:(null==n||null===(e=n.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==n||null===(t=n.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),s.default.createElement("div",{className:"awaiting-bridge-signatures"},s.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column},s.default.createElement(d.Box,{marginTop:3,marginBottom:4},s.default.createElement(i.default,null)),!b&&s.default.createElement(d.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),b&&s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Text,{variant:l.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),s.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},s.default.createElement("li",null,s.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowAmount"},f),s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowToken"},null==h?void 0:h.symbol),s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowNetwork"},null==k?void 0:k.name)])),s.default.createElement("li",null,s.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromAmount"},f),s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromToken"},null==h?void 0:h.symbol),s.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"toNetwork"},null==y?void 0:y.name)]))),s.default.createElement(d.Text,{variant:l.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=f(e("lodash/isEqual")),o=e("../../../selectors/selectors"),i=f(e("../../../components/ui/pulse-loader")),l=e("../../../helpers/constants/design-system"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),m=e("../../../ducks/bridge/selectors"),p=e("../../../hooks/useI18nContext");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[682,{"@ethereumjs/util":478,"@keystonehq/bc-ur-registry":704,buffer:3919,hdkey:4488,uuid:5522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("@keystonehq/bc-ur-registry"),a=e("uuid"),o=(s=e("hdkey"))&&"object"==typeof s&&"default"in s?s.default:s,i=e("@ethereumjs/util");const l={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:c}=r.extend;var d,m;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(m=n.DataType||(n.DataType={}))[m.transaction=1]="transaction",m[m.typedData=2]="typedData",m[m.personalMessage=3]="personalMessage",m[m.typedTransaction=4]="typedTransaction";class p extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,c.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,s,o,i,l,u,c){const d=s.replace(/[m|M]\//,"").split("/"),m=new r.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})})),t.from(o,"hex"));return new p({requestId:i?t.from(a.parse(i)):undefined,signData:e,dataType:n,derivationPath:m,chainId:l,address:u?t.from(u.replace("0x",""),"hex"):undefined,origin:c||undefined})}}p.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],s=t[d.dataType],a=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),o=t[d.chainId]?t[d.chainId]:undefined,i=t[d.address]?t[d.address]:undefined,l=t[d.requestId]?t[d.requestId].getData():undefined,u=t[d.origin]?t[d.origin]:undefined;return new p({requestId:l,signData:n,dataType:s,chainId:o,derivationPath:a,address:i,origin:u})},p.fromCBOR=e=>{const t=u(e);return p.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:h}=r.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class k extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>l.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new r.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}k.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],s=t[g.requestId]?t[g.requestId].getData():undefined;return new k(n,s,t[g.origin])},k.fromCBOR=e=>{const t=h(e);return k.fromDataItem(t)};const{decodeToDataItem:y}=r.extend;var v;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(v||(v={}));class T extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[v.chainId]=this.chainId,e[v.name]=this.name,e[v.contractAddress]=this.contractAddress,e[v.contractName]=this.contractName,e[v.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,s,r){return new T({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:s})}}T.fromDataItem=e=>{const t=e.getData(),n=t[v.chainId],s=t[v.name],r=t[v.mediaData],a=t[v.contractAddress],o=t[v.contractName];return new T({chainId:n,name:s,contractAddress:a,contractName:o,mediaData:r})},T.fromCBOR=e=>{const t=y(e);return T.fromDataItem(t)};const b=(e,n)=>{const s=o.fromExtendedKey(e).derive(n),r="0x"+t.from(i.publicToAddress(s.publicKey,!0)).toString("hex");return i.toChecksumAddress(r)};r.patchTags(Object.values(l).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})})),n.ETHNFTItem=T,n.ETHSignature=k,n.EthSignRequest=p,n.findHDPathFromAddress=(e,t,n,s)=>{for(let r=0;r<n;r++){const n=b(t,`M/0/${r}`);if(e.toLowerCase()==n.toLowerCase())return`${s}/0/${r}`}return null},n.generateAddressFromXpub=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[6820,{"../../../../shared/constants/transaction":5607,"../../../../shared/modules/selectors/networks":5663,"../../../ducks/bridge-status/selectors":6629,"../../../hooks/useTokenFiatAmount":6795,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeTokenDisplayData=function(e){var t,n;const{primaryTransaction:l}=e,u=(0,s.useSelector)(r.getCurrentChainId),c=(0,s.useSelector)(i.selectBridgeHistoryForAccount)[l.id],d=(0,s.useSelector)((e=>(0,i.selectBridgeHistoryForApprovalTxId)(e,l.id))),m=c??d,p=(0,a.useTokenFiatAmount)(l.sourceTokenAddress??(null==m?void 0:m.quote.srcAsset.address),l.sourceTokenAmount??(null==m||null===(t=m.pricingData)||void 0===t?void 0:t.amountSent),l.sourceTokenSymbol??(null==m?void 0:m.quote.srcAsset.symbol),{},!0,u);return{category:o.TransactionGroupCategory.bridge,displayCurrencyAmount:p,sourceTokenSymbol:l.sourceTokenSymbol??(null==m?void 0:m.quote.srcAsset.symbol),sourceTokenAmountSent:l.sourceTokenAmount??(null==m||null===(n=m.pricingData)||void 0===n?void 0:n.amountSent)}};var s=e("react-redux"),r=e("../../../../shared/modules/selectors/networks"),a=e("../../../hooks/useTokenFiatAmount"),o=e("../../../../shared/constants/transaction"),i=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[6821,{"../../../ducks/bridge/selectors":6632,"../../../hooks/useMultichainSelector":6775,"../../../selectors":7418,"../../../selectors/multichain":7422,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDestinationAccount=void 0;var s=e("react-redux"),r=e("react"),a=e("@metamask/bridge-controller"),o=e("../../../selectors"),i=e("../../../ducks/bridge/selectors"),l=e("../../../selectors/multichain"),u=e("../../../hooks/useMultichainSelector");n.useDestinationAccount=(e=!1)=>{const[t,n]=(0,r.useState)(null),c=(0,u.useMultichainSelector)(l.getMultichainIsEvm),d=(0,s.useSelector)(o.getSelectedEvmInternalAccount),m=(0,s.useSelector)(l.getLastSelectedSolanaAccount),p=(0,u.useMultichainSelector)(o.getSelectedInternalAccount),f=c?d:p,h=(0,s.useSelector)(i.getToChain),g=h&&(0,a.isSolanaChainId)(h.chainId);return(0,r.useEffect)((()=>{n(e?f:g?m:d)}),[g,m,d]),{selectedDestinationAccount:t,setSelectedDestinationAccount:n}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useDestinationAccount.ts"}],[6822,{"../../../../app/scripts/lib/multichain/address":142,"../../../../shared/lib/multichain/accounts":5626,"../../../ducks/domains":6636,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useExternalAccountResolution=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../app/scripts/lib/multichain/address"),o=e("../../../ducks/domains"),i=e("../../../../shared/lib/multichain/accounts");n.useExternalAccountResolution=({searchQuery:e,isDestinationSolana:t,accounts:n})=>{const l=(0,r.useDispatch)(),u=(0,r.useSelector)(o.getDomainResolutions);(0,s.useEffect)((()=>{l((0,o.initializeDomainSlice)())}),[l]);const c=(0,s.useMemo)((()=>{const n=e.trim();return!!n&&(t?(0,i.isSolanaAddress)(n):(0,a.isEthAddress)(n))}),[e,t]),d=(0,s.useMemo)((()=>{if(t)return!1;const n=e.trim();return!!n&&n.endsWith(".eth")}),[e,t]);(0,s.useEffect)((()=>{l(d?(0,o.lookupDomainName)(e.trim()):(0,o.resetDomainResolution)())}),[l,d,e]);const m=(0,s.useMemo)((()=>{const t=u||[];if(!c&&!d)return null;if(d&&t.length>0){const{resolvedAddress:s}=t[0],r=e.trim();return n.some((e=>e.address.toLowerCase()===s.toLowerCase()))?null:{address:s,metadata:{name:r},isExternal:!0}}if(c){const t=e.trim();return n.some((e=>e.address.toLowerCase()===t.toLowerCase()))?null:{address:t,metadata:{name:t},isExternal:!0}}return null}),[n,c,d,e,u]);return{isValidAddress:c,isValidEnsName:d,externalAccount:m}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useExternalAccountResolution.ts"}],[6823,{"../../../ducks/bridge/selectors":6632,"../../../selectors/multichain":7422,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsMultichainSwap=void 0;var s=e("react-redux"),r=e("react-router-dom"),a=e("react"),o=e("../../../selectors/multichain"),i=e("../../../ducks/bridge/selectors");n.useIsMultichainSwap=()=>{const{search:e,pathname:t}=(0,r.useLocation)(),n=(0,r.useHistory)(),l=(0,s.useSelector)(o.getMultichainIsSolana),u=(0,s.useSelector)(i.getIsSwap);(0,a.useEffect)((()=>{const s=new URLSearchParams(e),r="true"===s.get("swaps");u&&l&&!r&&(s.set("swaps","true"),n.replace({pathname:t,search:s.toString()}))}),[u,l,n,e,t]);return(0,a.useMemo)((()=>"true"===new URLSearchParams(e).get("swaps")&&l),[l,e])}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[6824,{"../../../../shared/lib/accounts":5612,"../../../helpers/constants/routes":6660,"../../../selectors":7418,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,s.useSelector)(o.getMemoizedUnapprovedTemplatedConfirmations),n=(0,s.useSelector)(o.getMemoizedUnapprovedConfirmations);(0,a.useEffect)((()=>{const s=t.find((e=>e.origin===i.SOLANA_WALLET_SNAP_ID)),r=n.find((e=>e.origin===i.SOLANA_WALLET_SNAP_ID));s?e.push(`${l.CONFIRMATION_V_NEXT_ROUTE}/${s.id}`):r&&e.push(`${l.CONFIRM_TRANSACTION_ROUTE}/${r.id}`)}),[e,t,n])};var s=e("react-redux"),r=e("react-router-dom"),a=e("react"),o=e("../../../selectors"),i=e("../../../../shared/lib/accounts"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSnapConfirmation.ts"}],[6825,{"../../../../shared/modules/selectors":5662,"../../../ducks/bridge-status/actions":6628,"../../../ducks/bridge/actions":6630,"../../../helpers/constants/routes":6660,"../../../store/actions":7436,"./useSnapConfirmation":6824,"@metamask/bridge-controller":1372,"@metamask/utils":2807,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useHistory)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(m.isHardwareWallet);(0,p.default)();const s=(0,r.useSelector)(m.getSmartTransactionsEnabled);return{submitBridgeTransaction:async r=>{if(n&&e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.AWAITING_SIGNATURES_ROUTE}`),(0,i.isSolanaChainId)(r.quote.srcChainId))return await t((0,u.setDefaultHomeActiveTabName)("activity")),void await t((0,c.submitBridgeTx)(r,!1));try{await t((0,c.submitBridgeTx)(r,s))}catch(s){return f("Bridge transaction failed",s),void(n&&h(s)?(t((0,d.setWasTxDeclined)(!0)),e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.PREPARE_SWAP_ROUTE}`)):(await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push(l.DEFAULT_ROUTE)))}await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},n.isApprovalTxError=n.isAllowanceResetError=void 0;var s,r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/utils"),i=e("@metamask/bridge-controller"),l=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),c=e("../../../ducks/bridge-status/actions"),d=e("../../../ducks/bridge/actions"),m=e("../../../../shared/modules/selectors"),p=(s=e("./useSnapConfirmation"))&&s.__esModule?s:{default:s};const f=(0,o.createProjectLogger)("bridge");n.isAllowanceResetError=e=>(e.message??"").includes("Eth USDT allowance reset failed");n.isApprovalTxError=e=>(e.message??"").includes("Approve transaction failed");const h=e=>{var t;const n=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return n.includes("ledger")&&(n.includes("rejected")||n.includes("denied")||n.includes("error while signing"))||n.includes("trezor")&&(n.includes("cancelled")||n.includes("rejected"))||n.includes("lattice")&&n.includes("rejected")||n.includes("user rejected")||n.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[6826,{"../../../shared/modules/selectors/networks":5663,"../../components/component-library":6183,"../../components/multichain/pages/page":6434,"../../contexts/i18n":6614,"../../ducks/bridge/actions":6630,"../../ducks/swaps/swaps":6650,"../../helpers/constants/design-system":6654,"../../helpers/constants/routes":6660,"../../helpers/higher-order-components/feature-toggled-route":6671,"../../hooks/bridge/useBridgeExchangeRates":6716,"../../hooks/bridge/useBridging":6718,"../../hooks/bridge/useQuoteFetchEvents":6723,"../../hooks/useGasFeeEstimates":6764,"../../selectors":7418,"../../store/actions":7436,"../swaps/hooks/useSwapsFeatureFlags":7362,"./awaiting-signatures/awaiting-signatures":6819,"./awaiting-signatures/awaiting-signatures-cancel-button":6818,"./hooks/useIsMultichainSwap":6823,"./prepare/bridge-transaction-settings-modal":6833,"./prepare/prepare-bridge-page":6839,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("../../contexts/i18n"),i=e("../../ducks/swaps/swaps"),l=e("../../helpers/constants/routes"),u=e("../../store/actions"),c=I(e("../../helpers/higher-order-components/feature-toggled-route")),d=e("../../components/component-library"),m=e("../../../shared/modules/selectors/networks"),p=e("../../selectors"),f=I(e("../../hooks/bridge/useBridging")),h=e("../../components/multichain/pages/page"),g=e("../swaps/hooks/useSwapsFeatureFlags"),k=e("../../ducks/bridge/actions"),y=e("../../hooks/useGasFeeEstimates"),v=e("../../hooks/bridge/useBridgeExchangeRates"),T=e("../../hooks/bridge/useQuoteFetchEvents"),b=e("../../helpers/constants/design-system"),S=I(e("./prepare/prepare-bridge-page")),C=I(e("./awaiting-signatures/awaiting-signatures-cancel-button")),w=I(e("./awaiting-signatures/awaiting-signatures")),E=e("./prepare/bridge-transaction-settings-modal"),x=e("./hooks/useIsMultichainSwap");function I(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useContext)(o.I18nContext);(0,g.useSwapsFeatureFlags)(),(0,f.default)();const t=(0,a.useHistory)(),n=(0,r.useDispatch)(),I=(0,r.useSelector)(p.getIsBridgeEnabled),_=(0,r.useSelector)(m.getSelectedNetworkClientId),A=async()=>{await n((0,k.resetBridgeState)())};(0,s.useEffect)((()=>(window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A),A()})),[]),(0,y.useGasFeeEstimates)(_),(0,v.useBridgeExchangeRates)(),(0,T.useQuoteFetchEvents)();const M=(0,x.useIsMultichainSwap)(),[P,D]=(0,s.useState)(!1);return s.default.createElement(h.Page,{className:"bridge__container"},s.default.createElement(h.Header,{textProps:{variant:b.TextVariant.headingSm},startAccessory:s.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{t.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,i.clearSwapsState)()),await n((0,u.resetBackgroundSwapsState)()),await A()}}),endAccessory:s.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{D(!0)}})},e(M?"swap":"bridge")),s.default.createElement(h.Content,{padding:0},s.default.createElement(a.Switch,null,s.default.createElement(c.default,{redirectRoute:l.SWAPS_MAINTENANCE_ROUTE,flag:I,path:l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE,render:()=>s.default.createElement(s.default.Fragment,null,s.default.createElement(E.BridgeTransactionSettingsModal,{isOpen:P,onClose:()=>{D(!1)}}),s.default.createElement(S.default,null))}),s.default.createElement(a.Route,{path:l.CROSS_CHAIN_SWAP_ROUTE+l.AWAITING_SIGNATURES_ROUTE},s.default.createElement(h.Content,null,s.default.createElement(w.default,null)),s.default.createElement(h.Footer,null,s.default.createElement(C.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[6827,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(null,arguments)}n.default=e=>r.default.createElement(a.Container,i({display:o.Display.Flex,flexDirection:o.FlexDirection.Column,width:o.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[6828,{"./column":6827,"./row":6829,"./tooltip":6830},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Column",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"Row",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Tooltip",{enumerable:!0,get:function(){return a.default}});var s=o(e("./column")),r=o(e("./row")),a=o(e("./tooltip"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[6829,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(null,arguments)}n.default=e=>r.default.createElement(a.Container,i({display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,flexWrap:o.FlexWrap.NoWrap,alignItems:o.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[683,{"@ethereumjs/util":478,"@keystonehq/bc-ur-registry":704,buffer:3919,hdkey:4488,uuid:5522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("@keystonehq/bc-ur-registry"),a=e("uuid"),o=(s=e("hdkey"))&&"object"==typeof s&&"default"in s?s.default:s,i=e("@ethereumjs/util");const l={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:c}=r.extend;var d,m;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(m=n.DataType||(n.DataType={}))[m.transaction=1]="transaction",m[m.typedData=2]="typedData",m[m.personalMessage=3]="personalMessage",m[m.typedTransaction=4]="typedTransaction";class p extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,c.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,s,o,i,l,u,c){const d=s.replace(/[m|M]\//,"").split("/"),m=new r.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})})),t.from(o,"hex"));return new p({requestId:i?t.from(a.parse(i)):void 0,signData:e,dataType:n,derivationPath:m,chainId:l,address:u?t.from(u.replace("0x",""),"hex"):void 0,origin:c||void 0})}}p.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],s=t[d.dataType],a=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),o=t[d.chainId]?t[d.chainId]:void 0,i=t[d.address]?t[d.address]:void 0,l=t[d.requestId]?t[d.requestId].getData():void 0;return new p({requestId:l,signData:n,dataType:s,chainId:o,derivationPath:a,address:i,origin:t[d.origin]?t[d.origin]:void 0})},p.fromCBOR=e=>{const t=u(e);return p.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:h}=r.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class k extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>l.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new r.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}k.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],s=t[g.requestId]?t[g.requestId].getData():void 0;return new k(n,s,t[g.origin])},k.fromCBOR=e=>{const t=h(e);return k.fromDataItem(t)};const{decodeToDataItem:y}=r.extend;var v;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(v||(v={}));class T extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[v.chainId]=this.chainId,e[v.name]=this.name,e[v.contractAddress]=this.contractAddress,e[v.contractName]=this.contractName,e[v.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,s,r){return new T({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:s})}}T.fromDataItem=e=>{const t=e.getData();return new T({chainId:t[v.chainId],name:t[v.name],contractAddress:t[v.contractAddress],contractName:t[v.contractName],mediaData:t[v.mediaData]})},T.fromCBOR=e=>{const t=y(e);return T.fromDataItem(t)};const b=(e,n)=>{const s=o.fromExtendedKey(e).derive(n),r="0x"+t.from(i.publicToAddress(s.publicKey,!0)).toString("hex");return i.toChecksumAddress(r)};r.patchTags(Object.values(l).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})})),n.ETHNFTItem=T,n.ETHSignature=k,n.EthSignRequest=p,n.findHDPathFromAddress=(e,t,n,s)=>{for(let r=0;r<n;r++){const n=b(t,"M/0/"+r);if(e.toLowerCase()==n.toLowerCase())return`${s}/0/${r}`}return null},n.generateAddressFromXpub=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[6830,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"./column":6827,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=(s=e("./column"))&&s.__esModule?s:{default:s};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u.apply(null,arguments)}const c=r.default.forwardRef((({children:e,title:t,triggerElement:n,disabled:s=!1,onClose:l,iconName:c,style:d,...m},p)=>{const[f,h]=(0,r.useState)(!1),[g,k]=(0,r.useState)(null),y=()=>h(!1);return r.default.createElement(a.Box,{ref:p},r.default.createElement(a.Box,{ref:e=>k(e),onMouseEnter:()=>h(!0),onMouseLeave:y,display:o.Display.Flex},n??(c&&r.default.createElement(a.Icon,{color:o.IconColor.iconAlternativeSoft,name:c,size:a.IconSize.Sm}))??r.default.createElement(a.Icon,{name:a.IconName.Question,color:o.IconColor.iconAlternativeSoft,size:a.IconSize.Sm})),!s&&r.default.createElement(a.Popover,u({position:a.PopoverPosition.Auto,referenceElement:g,isOpen:f,onClickOutside:y,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},m),r.default.createElement(i.default,{gap:4},t&&r.default.createElement(a.PopoverHeader,{color:o.TextColor.infoInverse,textAlign:o.TextAlign.Center,justifyContent:l?o.JustifyContent.spaceBetween:o.JustifyContent.center,onClose:l,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),r.default.createElement(a.Text,{justifyContent:o.JustifyContent.center,color:o.TextColor.infoInverse},e))))}));n.default=c}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[6831,{"../../../../shared/constants/metametrics":5589,"../../../components/component-library":6183,"../../../ducks/bridge/selectors":6632,"../../../helpers/constants/design-system":6654,"../../../hooks/bridge/events/useRequestMetadataProperties":6712,"../../../hooks/bridge/events/useRequestProperties":6713,"../../../hooks/bridge/events/useTradeProperties":6714,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/bridge/useIsTxSubmittable":6721,"../../../hooks/bridge/useLatestBalance":6722,"../../../hooks/useI18nContext":6767,"../hooks/useSubmitBridgeTransaction":6825,"../layout":6828,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeCTAButton=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=v(e("../hooks/useSubmitBridgeTransaction")),c=e("../../../helpers/constants/design-system"),d=v(e("../../../hooks/bridge/useLatestBalance")),m=e("../../../hooks/bridge/useIsTxSubmittable"),p=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),f=e("../../../hooks/bridge/events/useRequestProperties"),h=e("../../../hooks/bridge/events/useRequestMetadataProperties"),g=e("../../../hooks/bridge/events/useTradeProperties"),k=e("../../../../shared/constants/metametrics"),y=e("../layout");function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.BridgeCTAButton=({onFetchNewQuotes:e,needsDestinationAddress:t=!1})=>{const n=(0,l.useI18nContext)(),v=(0,r.useSelector)(i.getFromToken),T=(0,r.useSelector)(i.getToToken),b=(0,r.useSelector)(i.getFromChain),S=(0,r.useSelector)(i.getFromAmount),{isLoading:C,activeQuote:w}=(0,r.useSelector)(i.getBridgeQuotes),E=(0,r.useSelector)((e=>(0,i.getIsQuoteExpired)(e,Date.now()))),{submitBridgeTransaction:x}=(0,u.default)(),[I,_]=(0,s.useState)(!1),{isNoQuotesAvailable:A,isInsufficientBalance:M,isInsufficientGasBalance:P,isInsufficientGasForQuote:D}=(0,r.useSelector)(i.getValidationErrors),N=(0,r.useSelector)(i.getWasTxDeclined),O=(0,d.default)(v),B=(0,s.useMemo)((()=>null!=b&&b.chainId?(0,a.getNativeAssetForChainId)(b.chainId):null),[null==b?void 0:b.chainId]),R=(0,d.default)(B),F=(0,m.useIsTxSubmittable)(),j=(0,p.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:L}=(0,f.useRequestProperties)(),$=(0,h.useRequestMetadataProperties)(),U=(0,g.useTradeProperties)(),q=M(O),W=P(R),H=D(R),V=(0,s.useMemo)((()=>N?"youDeclinedTheTransaction":E?"bridgeQuoteExpired":!C||F||w?W||A?undefined:q||H?"alertReasonInsufficientBalance":S?t?"bridgeSelectDestinationAccount":F?"submit":"swapSelectToken":T?t?"bridgeEnterAmountAndSelectAccount":"bridgeEnterAmount":t?"bridgeSelectTokenAmountAndAccount":"bridgeSelectTokenAndAmount":undefined),[C,S,T,F,q,W,H,N,E,t,w,A]),z=(0,s.useMemo)((()=>N||E?"bridgeFetchNewQuotes":undefined),[N,E]);return w&&!z?s.default.createElement(o.ButtonPrimary,{width:c.BlockSize.Full,size:w?o.ButtonPrimarySize.Md:o.ButtonPrimarySize.Lg,variant:c.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(w&&F&&!I)try{_(!0),L&&$&&U&&j({event:k.MetaMetricsEventName.ActionSubmitted,properties:{...L,...$,...U}}),await x(w)}finally{_(!1)}},loading:I,disabled:!F||E||I||t},V?n(V):""):s.default.createElement(y.Row,{alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,gap:1},s.default.createElement(o.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,color:c.TextColor.textAlternativeSoft},V?n(V):""),z&&s.default.createElement(o.ButtonLink,{as:"a",variant:c.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},n(z)))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[6832,{"../../../../shared/constants/multichain/networks":5591,"../../../../shared/constants/time":5605,"../../../../shared/lib/multichain/networks":5630,"../../../components/component-library":6183,"../../../components/multichain/asset-picker-amount/asset-picker":6297,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6292,"../../../ducks/bridge/selectors":6632,"../../../ducks/locale/locale":6641,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../helpers/utils/util":6704,"../../../hooks/bridge/useLatestBalance":6722,"../../../hooks/useCopyToClipboard":6755,"../../../hooks/useI18nContext":6767,"../hooks/useIsMultichainSwap":6823,"../layout":6828,"../utils/quote":6853,"./components/bridge-asset-picker-button":6834,"@metamask/bridge-controller":1372,"@metamask/etherscan-link":1860,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeInputGroup=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("@metamask/etherscan-link"),l=e("../../../components/component-library"),u=e("../../../components/multichain/asset-picker-amount/asset-picker"),c=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../../hooks/useI18nContext"),m=e("../../../ducks/metamask/metamask"),p=e("../utils/quote"),f=e("../layout"),h=e("../../../helpers/constants/design-system"),g=(s=e("../../../hooks/bridge/useLatestBalance"))&&s.__esModule?s:{default:s},k=e("../../../ducks/bridge/selectors"),y=e("../../../helpers/utils/util"),v=e("../../../hooks/useCopyToClipboard"),T=e("../../../../shared/constants/time"),b=e("../../../ducks/locale/locale"),S=e("../hooks/useIsMultichainSwap"),C=e("../../../../shared/constants/multichain/networks"),w=e("../../../../shared/lib/multichain/networks"),E=e("./components/bridge-asset-picker-button");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I.apply(null,arguments)}const _=e=>e.replace(/[^\d.]+/gu,"").split(".",2).join(".");n.BridgeInputGroup=({header:e,token:t,onAssetChange:n,onAmountChange:s,networkProps:x,isTokenListLoading:A,customTokenListGenerator:M,amountFieldProps:P,amountInFiat:D,onMaxButtonClick:N,isMultiselectEnabled:O,onBlockExplorerClick:B,buttonProps:R})=>{var F;const j=(0,d.useI18nContext)(),{isLoading:L}=(0,a.useSelector)(k.getBridgeQuotes),{isInsufficientBalance:$,isEstimatedReturnLow:U}=(0,a.useSelector)(k.getValidationErrors),q=(0,a.useSelector)(m.getCurrentCurrency),W=(0,a.useSelector)(b.getIntlLocale),H=null==x||null===(F=x.network)||void 0===F?void 0:F.chainId,V=(0,g.default)(t),[,z]=(0,v.useCopyToClipboard)(T.MINUTE),G=(0,r.useRef)(null),Q=(null==P?void 0:P.readOnly)||(null==P?void 0:P.disabled);(0,r.useEffect)((()=>{var e;!Q&&G.current&&(G.current.value=(null==P||null===(e=P.value)||void 0===e?void 0:e.toString())??"",G.current.focus())}),[null==P?void 0:P.value,Q,t]);const K=(0,S.useIsMultichainSwap)();return r.default.createElement(f.Column,{paddingInline:6,gap:1},r.default.createElement(f.Row,{gap:4},r.default.createElement(l.TextField,I({inputProps:{disableStateStyles:!0,textAlign:h.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==P?void 0:P.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:Q&&null!=P&&P.value?1:undefined},display:h.Display.Flex,inputRef:G,type:l.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{var t;e&&("."===e.key&&null!==(t=P.value)&&void 0!==t&&t.toString().includes(".")?e.preventDefault():/^[\d.]{1}$/u.test(e.key)||e.preventDefault())},onPaste:e=>{e.preventDefault();const t=_(e.clipboardData.getData("text"));null==s||s(t??"")},onChange:e=>{e.preventDefault(),e.stopPropagation();const t=_(e.target.value);null==s||s(t??"")}},P)),r.default.createElement(u.AssetPicker,{header:e,visibleTabs:[c.TabName.TOKENS],asset:t??undefined,onAssetChange:n,networkProps:x,customTokenListGenerator:M,isTokenListLoading:A,isMultiselectEnabled:O},((e,n)=>Q&&!t?r.default.createElement(l.Button,{"data-testid":R.testId,onClick:e,size:l.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:h.FontWeight.Normal,style:{whiteSpace:"nowrap"}},j(K?"swapSwapTo":"bridgeTo")):r.default.createElement(E.BridgeAssetPickerButton,{onClick:e,networkImageSrc:n,asset:t??undefined,networkProps:x,"data-testid":R.testId})))),r.default.createElement(f.Row,{justifyContent:h.JustifyContent.spaceBetween},r.default.createElement(f.Row,null,r.default.createElement(l.Text,{variant:h.TextVariant.bodyMd,fontWeight:h.FontWeight.Normal,color:Q&&U?h.TextColor.warningDefault:h.TextColor.textAlternativeSoft,textAlign:h.TextAlign.End,ellipsis:!0},Q&&L&&"0"===P.value?j("bridgeCalculatingAmount"):undefined,D&&(0,p.formatCurrencyAmount)(D,q,2))),r.default.createElement(l.Text,{display:h.Display.Flex,gap:1,variant:h.TextVariant.bodyMd,color:!Q&&$(V)?h.TextColor.errorDefault:h.TextColor.textAlternativeSoft,onClick:()=>{Q&&t&&H?(()=>{if(t&&H){const s=(0,o.formatChainIdToCaip)(H);let r="";if(s===C.MultichainNetworks.SOLANA){const e=C.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[s];e&&(r=(0,w.formatBlockExplorerAddressUrl)(e,t.address))}else{var e,n;const s=null==x||null===(e=x.network)||void 0===e||null===(e=e.blockExplorerUrls)||void 0===e?void 0:e[(null==x||null===(n=x.network)||void 0===n?void 0:n.defaultBlockExplorerUrlIndex)??0];s&&(r=(0,i.getAccountLink)(t.address,H,{blockExplorerUrl:s},undefined))}r&&(z(r),null==B||B(t))}})():t&&H&&z(t.address)},as:Q?"a":"p",style:{cursor:Q?"pointer":"default",textDecoration:Q?"underline":"none"}},Q&&t&&H&&((0,o.isNativeAddress)(t.address)?undefined:(0,y.shortenString)(t.address,{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1})),!Q&&V?(0,p.formatTokenAmount)(W,V.toString(),null==t?void 0:t.symbol):undefined,N&&t&&!(0,o.isNativeAddress)(t.address)&&V&&r.default.createElement(l.ButtonLink,{variant:h.TextVariant.bodyMd,onClick:()=>N(null==V?void 0:V.toFixed())},j("max")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[6833,{"../../../../shared/constants/metametrics":5589,"../../../components/component-library":6183,"../../../ducks/bridge/actions":6630,"../../../ducks/bridge/selectors":6632,"../../../helpers/constants/design-system":6654,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/useI18nContext":6767,"../layout":6828,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeTransactionSettingsModal=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),u=e("../../../ducks/bridge/selectors"),c=e("../../../ducks/bridge/actions"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../../shared/constants/metametrics"),p=e("../layout");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h=[a.BRIDGE_DEFAULT_SLIPPAGE,3];n.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const n=(0,i.useI18nContext)(),a=(0,d.useCrossChainSwapsEventTracker)(),f=(0,r.useDispatch)(),g=(0,r.useSelector)(u.getSlippage),[k,y]=(0,s.useState)(g),[v,T]=(0,s.useState)(g&&!h.includes(g)?g.toString():undefined),[b,S]=(0,s.useState)(!0),C=(()=>{if(!v)return null;const e=Number(v.replace(",","."));return e<.5?{severity:l.SEVERITIES.WARNING,text:n("swapSlippageLowDescription",[e]),title:n("swapSlippageLowTitle")}:null})();return s.default.createElement(o.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},s.default.createElement(o.ModalOverlay,null),s.default.createElement(o.ModalContent,null,s.default.createElement(o.ModalHeader,{onClose:e},n("transactionSettings")),s.default.createElement(p.Column,{gap:3,padding:4},s.default.createElement(p.Row,{gap:1,justifyContent:l.JustifyContent.flexStart},s.default.createElement(o.Text,null,n("swapsMaxSlippage")),s.default.createElement(p.Tooltip,{position:o.PopoverPosition.Top,iconName:o.IconName.Info,style:{zIndex:1051}},n("swapSlippageTooltip"))),s.default.createElement(p.Row,{gap:2,justifyContent:l.JustifyContent.flexStart},h.map((e=>s.default.createElement(o.Button,{key:e,size:o.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),y(e),T(undefined)},variant:o.ButtonVariant.Secondary,borderColor:k===e&&b?l.BorderColor.primaryDefault:l.BorderColor.borderDefault,borderWidth:k===e&&b?2:1,backgroundColor:k===e&&b?l.BackgroundColor.primaryMuted:l.BackgroundColor.backgroundDefault},s.default.createElement(o.Text,{color:k===e&&b?l.TextColor.primaryDefault:l.TextColor.textDefault},e,"%")))),b&&s.default.createElement(o.Button,{size:o.ButtonSize.Sm,variant:o.ButtonVariant.Secondary,borderColor:v===undefined?l.BorderColor.borderDefault:l.BorderColor.primaryDefault,borderWidth:v===undefined?1:2,backgroundColor:v===undefined?l.BackgroundColor.backgroundDefault:l.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),S(!1)}},s.default.createElement(o.Text,{color:v===undefined?l.TextColor.textDefault:l.TextColor.primaryDefault},v===undefined?n("customSlippage"):`${v}%`)),!b&&s.default.createElement(o.TextField,{borderColor:l.BorderColor.primaryDefault,borderWidth:2,borderRadius:l.BorderRadius.pill,type:o.TextFieldType.Text,value:v,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(y(undefined),T(t))},autoFocus:!0,onBlur:()=>{S(!0)},onFocus:()=>{S(!1)},endAccessory:s.default.createElement(o.Text,{variant:l.TextVariant.bodyMd},"%")})),C&&s.default.createElement(o.Box,{marginTop:5},s.default.createElement(o.BannerAlert,{severity:C.severity,title:C.title,titleProps:{"data-testid":"swaps-banner-title"}},s.default.createElement(o.Text,null,C.text)))),s.default.createElement(o.ModalFooter,null,s.default.createElement(o.ButtonPrimary,{width:l.BlockSize.Full,size:o.ButtonPrimarySize.Md,variant:l.TextVariant.bodyMd,disabled:v!==undefined&&Number(v.replace(",","."))===g||k!==undefined&&k===g,onClick:()=>{const t=k??Number(null==v?void 0:v.replace(",","."));t&&(a({event:m.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:t.toString()}}),f((0,c.setSlippage)(t)),e())}},n("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[6834,{"../../../../components/component-library":6183,"../../../../components/component-library/select-button/select-button.types":6220,"../../../../helpers/constants/design-system":6654,"../../../../helpers/utils/nfts":6692,"../../../../hooks/useI18nContext":6767,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeAssetPickerButton=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../../components/component-library/select-button/select-button.types"),o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/utils/nfts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(null,arguments)}n.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:n,...s})=>{var d;const m=(0,l.useI18nContext)();return r.default.createElement(o.SelectButton,c({borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.backgroundDefault,borderColor:i.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:a.SelectButtonSize.Lg,alignItems:i.AlignItems.center,descriptionProps:{variant:i.TextVariant.bodyMd,overflowWrap:i.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:o.IconName.Arrow2Down,style:{display:i.Display.None}},label:r.default.createElement(o.Text,{variant:i.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??m("bridgeTo")),startAccessory:e?r.default.createElement(o.BadgeWrapper,{marginRight:2,badge:e?r.default.createElement(o.AvatarNetwork,{name:(null==t||null===(d=t.network)||void 0===d?void 0:d.name)??"",src:n,size:o.AvatarNetworkSize.Xs}):undefined},e?r.default.createElement(o.AvatarToken,{src:(0,u.getNftImage)(e.image)||undefined,backgroundColor:i.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},s))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}],[6835,{"../../../../../app/scripts/lib/multichain/address":142,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6100,"../../../../components/component-library":6183,"../../../../helpers/constants/common":6652,"../../../../helpers/constants/design-system":6654,"../../../../helpers/utils/util":6704,"../../../../hooks/useAccountTotalCrossChainFiatBalance":6747,"../../../../hooks/useGetFormattedTokensPerChain":6766,"../../../../hooks/useMultichainAccountTotalFiatBalance":6773,"../../../../hooks/useMultichainSelector":6775,"../../../../selectors":7418,"../../../../selectors/multichain":7422,classnames:3952,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=y(e("react")),r=y(e("classnames")),a=e("react-redux"),o=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),m=e("../../../../hooks/useGetFormattedTokensPerChain"),p=e("../../../../hooks/useAccountTotalCrossChainFiatBalance"),f=y(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../../helpers/constants/common"),g=e("../../../../hooks/useMultichainSelector"),k=e("../../../../selectors/multichain");function y(e){return e&&e.__esModule?e:{default:e}}const v=({account:e,selected:t,onClick:n})=>{const y=(0,a.useSelector)(u.getUseBlockie),v=(0,a.useSelector)(u.getShouldHideZeroBalanceTokens),T=(0,a.useSelector)(u.getIsTokenNetworkFilterEqualCurrentNetwork),b=(0,a.useSelector)(u.getChainIdsToPoll),{isEvmNetwork:S}=(0,g.useMultichainSelector)(k.getMultichainNetwork,e),C=(0,g.useMultichainSelector)(k.getMultichainIsTestnet,e),w=!C,E=(0,g.useMultichainSelector)(k.getMultichainShouldShowFiat,e),x=(0,a.useSelector)(u.getShowFiatInTestnets),I=E&&(w||C&&x),_=(0,g.useMultichainSelector)(k.getMultichainNativeCurrencyImage,e),A=(0,g.useMultichainSelector)(k.getMultichainNativeCurrency,e),M=(0,d.useMultichainAccountTotalFiatBalance)(e),{formattedTokensWithBalancesPerChain:P}=(0,m.useGetFormattedTokensPerChain)(e,v,T,b),{totalFiatBalance:D}=(0,p.useAccountTotalCrossChainFiatBalance)(e,P);let N;return N=S?!E||C?e.balance:D:M.totalBalance,s.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center},s.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:y?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{flex:1}},s.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},e.metadata.name),s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,gap:1},s.default.createElement(i.Text,{as:"div",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,ellipsis:!0,textAlign:l.TextAlign.End},s.default.createElement(f.default,{ethNumberOfDecimals:3,value:N,type:h.PRIMARY,showFiat:I,isAggregatedFiatOverviewBalance:I,hideLabel:!0,"data-testid":"first-currency-display"})))),s.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center},s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address"},(0,o.shortenAddress)((0,c.normalizeSafeAddress)(e.address))),s.default.createElement(i.Box,{display:l.Display.Flex,gap:2},s.default.createElement(i.AvatarToken,{src:_,name:A,size:i.AvatarTokenSize.Xs,borderColor:l.BorderColor.borderDefault})))))};n.default=s.default.memo(v)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-list-item.tsx"}],[6836,{"../../../../../app/scripts/translate":387,"../../../../components/component-library":6183,"../../../../helpers/constants/design-system":6654,"../../../../selectors":7418,"../../hooks/useExternalAccountResolution":6822,"./destination-account-list-item":6835,"./destination-selected-account-list-item":6837,"./external-account-list-item":6838,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DestinationAccountPicker=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("../../../../components/component-library"),o=e("../../../../selectors"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../app/scripts/translate"),u=e("../../hooks/useExternalAccountResolution"),c=p(e("./destination-selected-account-list-item")),d=p(e("./destination-account-list-item")),m=e("./external-account-list-item");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.DestinationAccountPicker=({onAccountSelect:e,selectedSwapToAccount:t,isDestinationSolana:n})=>{const[p,f]=(0,s.useState)(""),h=(0,r.useSelector)(o.getSelectedInternalAccount),g=(0,r.useSelector)(o.getInternalAccounts),{externalAccount:k}=(0,u.useExternalAccountResolution)({searchQuery:p,isDestinationSolana:n,accounts:g}),y=(0,s.useMemo)((()=>g.filter((e=>{const t=e.metadata.name.toLowerCase().includes(p.toLowerCase()),s=e.address.toLowerCase().includes(p.toLowerCase()),r=t||s,a=n?(0,o.isSolanaAccount)(e):!(0,o.isSolanaAccount)(e);return r&&a}))),[g,n,p]);return t?s.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,className:"swap-to-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"70px",borderRadius:"8px",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},s.default.createElement(a.Box,{className:"destination-account-picker__selected",width:i.BlockSize.Full},s.default.createElement(c.default,{account:t,isSelected:t.id===(null==h?void 0:h.id),showOptions:!1,disableHover:!0})),s.default.createElement(a.Box,{className:"deselect-button-container",paddingRight:5},s.default.createElement(a.Button,{onClick:()=>e(null),"aria-label":"Deselect account",variant:a.ButtonVariant.Link,size:a.ButtonSize.Sm,className:"deselect-button",style:{padding:"5px",color:"var(--color-icon-alternative)",textDecoration:"none"}},""))):s.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,className:"destination-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{borderRadius:"8px",position:"relative"}},s.default.createElement(a.Box,{className:"search-container",width:i.BlockSize.Full,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"50px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"#B7BBC866",borderRadius:"8px 8px 0 0",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},s.default.createElement(a.TextField,{placeholder:n?(0,l.t)("destinationAccountPickerSearchPlaceholderToSolana"):(0,l.t)("destinationAccountPickerSearchPlaceholderToMainnet"),value:p,onChange:e=>f(e.target.value),clearButtonOnClick:()=>f(""),className:"text-field-search",style:{width:"98%",borderRadius:0,borderWidth:0,color:"var(--color-text-alternative)"}})),s.default.createElement(a.Box,{style:{height:"20px"}}),s.default.createElement(a.Box,{className:"destination-account-picker__list",backgroundColor:i.BackgroundColor.backgroundDefault,style:{position:"absolute",top:"50px",left:0,right:0,maxHeight:"240px",overflowY:"auto",borderRadius:"0 0 8px 8px",zIndex:1e3,boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},y.map((n=>s.default.createElement(d.default,{key:n.id,account:n,onClick:()=>e(n),isSelected:n.id===(null==t?void 0:t.id),showOptions:!1}))),k&&s.default.createElement(m.ExternalAccountListItem,{key:"external-account",account:k,selected:Boolean(t&&t.address===k.address),onClick:()=>e(k)}),0===y.length&&!k&&s.default.createElement(a.Box,{display:i.Display.Flex,style:{minHeight:"79px"},width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},s.default.createElement(a.Text,{textAlign:i.TextAlign.Center},p?(0,l.t)("destinationAccountPickerNoMatching"):(0,l.t)("destinationAccountPickerNoEligible")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-picker.tsx"}],[6837,{"../../../../components/component-library":6183,"../../../../helpers/constants/design-system":6654,"../../../../hooks/useI18nContext":6767,"../../../../selectors":7418,classnames:3952,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=c(e("react")),r=c(e("classnames")),a=e("react-redux"),o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const d=({account:e,selected:t,onClick:n})=>{const c=(0,a.useSelector)(l.getUseBlockie),d=(0,u.useI18nContext)(),m="isExternal"in e&&e.isExternal;return s.default.createElement(o.Box,{display:i.Display.Flex,padding:4,backgroundColor:t?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:i.AlignItems.center,style:{pointerEvents:"none"}},s.default.createElement(o.AvatarAccount,{borderColor:i.BorderColor.transparent,size:o.AvatarAccountSize.Md,address:e.address,variant:c?o.AvatarAccountVariant.Blockies:o.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),s.default.createElement(o.Box,{display:i.Display.Flex,style:{flexDirection:"column"}},s.default.createElement(o.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,"data-testid":"account-list-address",marginBottom:1},d("destinationAccountPickerReceiveAt")),s.default.createElement(o.Text,{variant:i.TextVariant.bodyMdMedium,marginBottom:1},m?e.metadata.name.endsWith(".eth")?e.metadata.name:d("externalAccount"):e.metadata.name)))};n.default=s.default.memo(d)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-selected-account-list-item.tsx"}],[6838,{"../../../../../app/scripts/lib/multichain/address":142,"../../../../components/component-library":6183,"../../../../helpers/constants/design-system":6654,"../../../../helpers/utils/util":6704,"../../../../hooks/useI18nContext":6767,"../../../../selectors":7418,classnames:3952,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalAccountListItem=void 0;var s=m(e("react")),r=m(e("classnames")),a=e("react-redux"),o=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useI18nContext");function m(e){return e&&e.__esModule?e:{default:e}}n.ExternalAccountListItem=({account:e,selected:t,onClick:n})=>{const m=(0,a.useSelector)(u.getUseBlockie),p=(0,d.useI18nContext)(),f=e.metadata.name.endsWith(".eth");return s.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:l.BackgroundColor.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween},s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},s.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:m?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{maxWidth:"140px",overflow:"hidden"}},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium,marginBottom:1,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},f?e.metadata.name:p("externalAccount")),s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},(0,o.shortenAddress)((0,c.normalizeSafeAddress)(e.address))))),f&&s.default.createElement(i.Tag,{label:p("externalAccount"),paddingLeft:2,paddingRight:2,labelProps:{variant:l.TextVariant.bodyXs}}))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/external-account-list-item.tsx"}],[6839,{"../../../../shared/constants/bridge":5579,"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/multichain/networks":5591,"../../../../shared/constants/time":5605,"../../../../shared/lib/asset-utils":5616,"../../../../shared/lib/swaps-utils":5633,"../../../../shared/types/security-alerts-api":5671,"../../../components/component-library":6183,"../../../components/multichain":6356,"../../../components/multichain/pages/page":6434,"../../../ducks/bridge/actions":6630,"../../../ducks/bridge/selectors":6632,"../../../ducks/bridge/utils":6633,"../../../ducks/locale/locale":6641,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../helpers/utils/hardware":6685,"../../../hooks/bridge/events/useRequestProperties":6713,"../../../hooks/bridge/useCountdownTimer":6719,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/bridge/useIsTxSubmittable":6721,"../../../hooks/bridge/useLatestBalance":6722,"../../../hooks/bridge/useTokenAlerts":6724,"../../../hooks/bridge/useTokensWithFiltering":6725,"../../../hooks/ramps/useRamps/useRamps":6739,"../../../hooks/useI18nContext":6767,"../../../hooks/useMultichainSelector":6775,"../../../selectors":7418,"../../../selectors/multichain":7422,"../../../store/actions":7436,"../../swaps/mascot-background-animation/mascot-background-animation":7371,"../hooks/useDestinationAccount":6821,"../hooks/useIsMultichainSwap":6823,"../layout":6828,"../quotes/bridge-quote-card":6840,"../quotes/multichain-bridge-quote-card":6842,"../utils/quote":6853,"./bridge-cta-button":6831,"./bridge-input-group":6832,"./components/destination-account-picker":6836,"@metamask/bridge-controller":1372,classnames:3952,"ethereumjs-util":4183,lodash:4711,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=J(e("classnames")),o=e("lodash"),i=e("react-router-dom"),l=e("ethereumjs-util"),u=e("@metamask/bridge-controller"),c=e("../../../ducks/bridge/actions"),d=e("../../../ducks/bridge/selectors"),m=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),h=e("../../../hooks/bridge/useTokensWithFiltering"),g=e("../../../store/actions"),k=e("../../../../shared/lib/swaps-utils"),y=e("../utils/quote"),v=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),T=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../../shared/constants/metametrics"),S=e("../../../ducks/bridge/utils"),C=e("../../../components/multichain/pages/page"),w=J(e("../../swaps/mascot-background-animation/mascot-background-animation")),E=e("../layout"),x=J(e("../../../hooks/ramps/useRamps/useRamps")),I=e("../../../ducks/metamask/metamask"),_=J(e("../../../hooks/bridge/useLatestBalance")),A=e("../../../hooks/bridge/useCountdownTimer"),M=e("../../../selectors"),P=e("../../../helpers/utils/hardware"),D=e("../../../../shared/constants/time"),N=e("../../../../shared/constants/bridge"),O=e("../../../ducks/locale/locale"),B=e("../hooks/useIsMultichainSwap"),R=e("../../../hooks/useMultichainSelector"),F=e("../../../selectors/multichain"),j=e("../quotes/multichain-bridge-quote-card"),L=e("../quotes/bridge-quote-card"),$=e("../../../../shared/types/security-alerts-api"),U=e("../../../hooks/bridge/useTokenAlerts"),q=e("../hooks/useDestinationAccount"),W=e("../../../components/multichain"),H=e("../../../../shared/constants/multichain/networks"),V=e("../../../hooks/bridge/useIsTxSubmittable"),z=e("../../../../shared/lib/asset-utils"),G=e("./bridge-input-group"),Q=e("./bridge-cta-button"),K=e("./components/destination-account-picker");function J(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}n.default=()=>{var e,t,n;const J=(0,r.useDispatch)(),Y=(0,f.useI18nContext)(),X=(0,B.useIsMultichainSwap)(),Z=(0,r.useSelector)(d.getFromToken),ee=(0,r.useSelector)(M.getTokenList),te=(0,r.useSelector)(d.getToToken),ne=(0,r.useSelector)(d.getFromChains),se=(0,r.useSelector)(d.getToChains),re=(0,r.useSelector)(d.getFromChain),ae=(0,r.useSelector)(d.getToChain),oe=(0,s.useMemo)((()=>(!re||!(0,u.isSolanaChainId)(re.chainId))&&0===Object.keys(ee).length),[ee,re]),ie=(0,r.useSelector)(d.getFromAmount),le=(0,r.useSelector)(d.getFromAmountInCurrency),ue=(0,R.useMultichainSelector)(F.getMultichainProviderConfig),ce=(0,r.useSelector)(d.getSlippage),de=(0,r.useSelector)(d.getQuoteRequest),{isLoading:me,activeQuote:pe,isQuoteGoingToRefresh:fe}=(0,r.useSelector)(d.getBridgeQuotes),he=(0,r.useSelector)(d.getQuoteRefreshRate),ge=(0,r.useSelector)((e=>(0,d.getIsQuoteExpired)(e,Date.now()))),ke=(0,r.useSelector)(d.getWasTxDeclined),ye=ge&&(!de.insufficientBal||re&&(0,u.isSolanaChainId)(re.chainId))?undefined:pe,ve=(0,R.useMultichainSelector)(F.getMultichainIsEvm),Te=(0,r.useSelector)(M.getSelectedEvmInternalAccount),be=(0,r.useSelector)(F.getLastSelectedNonEvmAccount),Se=(0,R.useMultichainSelector)(M.getSelectedInternalAccount),Ce=ve?Te:Se,we=(0,r.useSelector)(M.getCurrentKeyring),Ee=(0,P.isHardwareKeyring)(we.type),xe=(0,r.useSelector)(d.getHardwareWalletName),Ie=(0,V.useIsTxSubmittable)(),_e=(0,r.useSelector)(O.getIntlLocale),Ae=(0,r.useSelector)(I.getNativeCurrency),{isEstimatedReturnLow:Me,isNoQuotesAvailable:Pe,isInsufficientGasForQuote:De,isInsufficientBalance:Ne}=(0,r.useSelector)(d.getValidationErrors),{quotesRefreshCount:Oe}=(0,r.useSelector)(d.getBridgeQuotes),{openBuyCryptoInPdapp:Be}=(0,x.default)(),Re=(0,s.useMemo)((()=>null!=re&&re.chainId?(0,u.getNativeAssetForChainId)(re.chainId):null),[null==re?void 0:re.chainId]),Fe=(0,_.default)(Re),{tokenAlert:je}=(0,U.useTokenAlerts)(),Le=(0,_.default)(Z),{selectedDestinationAccount:$e,setSelectedDestinationAccount:Ue}=(0,q.useDestinationAccount)(X),{filteredTokenListGenerator:qe,isLoading:We}=(0,h.useTokensWithFiltering)((null==ae?void 0:ae.chainId)??(null==re?void 0:re.chainId),Z,null!==$e&&"id"in $e?$e.id:undefined),{flippedRequestProperties:He}=(0,T.useRequestProperties)(),Ve=(0,v.useCrossChainSwapsEventTracker)(),ze=(0,A.useCountdownTimer)(),[Ge,Qe]=(0,s.useState)(!1),[Ke,Je]=(0,s.useState)(!0);(0,s.useEffect)((()=>Je(!0)),[Oe]);const[Ye,Xe]=(0,s.useState)(!0);(0,s.useEffect)((()=>Xe(!0)),[je]);const[Ze,et]=(0,s.useState)(!0);(0,s.useEffect)((()=>et(!0)),[null==te?void 0:te.address]);const[tt,nt]=(0,s.useState)(!1);(0,s.useEffect)((()=>{nt(!0);const e=setTimeout((()=>{nt(!1)}),D.SECOND);return()=>{clearTimeout(e)}}),[Ge]),(0,s.useEffect)((()=>{if(ye){const{srcAsset:e,destAsset:t,destChainId:n,srcChainId:s}=ye.quote;e&&t&&n&&(J((0,c.setToChainId)(n)),J((0,c.setToToken)({...t,chainId:n,image:e.icon??t.iconUrl??"",address:t.address})),J((0,c.setFromToken)({...e,chainId:s,image:e.icon||e.iconUrl||"",address:e.address})))}else J((0,c.resetBridgeState)())}),[]);const st=(0,s.useRef)(null),rt=(0,s.useRef)(null),at=(0,s.useRef)(null);(0,s.useEffect)((()=>{var e,t;De(Fe)&&(null===(e=st.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}));Me&&(null===(t=rt.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}))}),[Me,De(Fe),Ke]);const ot=(0,r.useSelector)(d.getIsToOrFromSolana),it=(0,s.useMemo)((()=>!(null==ae||!ae.chainId)&&(0,u.isSolanaChainId)(ae.chainId)),[null==ae?void 0:ae.chainId]),lt=(0,s.useMemo)((()=>{var e;return{srcTokenAddress:null==Z?void 0:Z.address,destTokenAddress:null==te?void 0:te.address,srcTokenAmount:ie&&null!=Z&&Z.decimals?(0,k.calcTokenValue)(["","."].includes(ie)?"0":ie,Z.decimals).toFixed().split(".")[0]:undefined,srcChainId:null==re?void 0:re.chainId,destChainId:null==ae?void 0:ae.chainId,insufficientBal:!(null==ue||null===(e=ue.rpcUrl)||void 0===e||!e.includes("localhost"))||undefined,slippage:ce,walletAddress:(null==Ce?void 0:Ce.address)??"",destWalletAddress:null==$e?void 0:$e.address}}),[null==Z?void 0:Z.address,null==Z?void 0:Z.decimals,null==te?void 0:te.address,ie,null==re?void 0:re.chainId,null==ae?void 0:ae.chainId,ce,null==Ce?void 0:Ce.address,null==$e?void 0:$e.address,null==ue?void 0:ue.rpcUrl]),ut=(0,s.useCallback)((0,o.debounce)((e=>{J((0,c.updateQuoteRequestParams)(e))}),300),[]);(0,s.useEffect)((()=>{J((0,c.setSelectedQuote)(null)),ut(lt)}),[lt,ut]);const ct=(0,s.useCallback)((e=>{Ve({event:b.MetaMetricsEventName.InputChanged,properties:e})}),[]),{search:dt}=(0,i.useLocation)(),mt=(0,i.useHistory)();(0,s.useEffect)((()=>{if(null==re||!re.chainId||oe)return;const e=new URLSearchParams(dt),t=e.get("token");if(!t)return;const n=()=>{const t=new URLSearchParams(e);t.delete("token"),mt.replace({search:t.toString()})};(async()=>{if((0,u.isSolanaChainId)(re.chainId)){const e=t;if(!(0,z.toAssetId)(e,(0,u.formatChainIdToCaip)(re.chainId)))return void n();const s=await(0,z.fetchAssetMetadata)(e,re.chainId);return s?(J((0,c.setFromToken)({...s,chainId:re.chainId,image:s.image||""})),void n()):void n()}const e=ee[t.toLowerCase()];switch(t){case null==Z?void 0:Z.address:n();break;case null==e?void 0:e.address:case null!=e&&e.address?(0,l.toChecksumAddress)(e.address):undefined:J((0,c.setFromToken)({...e,image:e.iconUrl,chainId:re.chainId})),n();break;default:n()}})()}),[re,Z,ee,dt,oe]),(0,s.useEffect)((()=>{X&&(J((0,c.setSlippage)(undefined)),re&&!te&&(J((0,c.setToChainId)(re.chainId)),J((0,c.setToToken)(N.SOLANA_USDC_ASSET))))}),[]);const pt=Number((null==te?void 0:te.occurrences)??0),ft=(null==te?void 0:te.address)&&!(0,u.isNativeAddress)(null==te?void 0:te.address),ht=(0,r.useSelector)(d.isBridgeSolanaEnabled),[gt,kt]=(0,s.useState)(!1),[yt,vt]=(0,s.useState)(null),[Tt,bt]=(0,s.useState)(0);return s.default.createElement(s.default.Fragment,null,s.default.createElement(E.Column,{className:"prepare-bridge-page",gap:8},s.default.createElement(G.BridgeInputGroup,{header:Y(X?"swapSwapFrom":"bridgeFrom"),token:Z,onAmountChange:e=>{J((0,c.setFromTokenInputValue)(e))},onAssetChange:e=>{const t={...e,address:e.address??(0,l.zeroAddress)()};J((0,c.setFromToken)(t)),J((0,c.setFromTokenInputValue)(null)),e.address===(null==te?void 0:te.address)&&J((0,c.setToToken)(null)),t.address&&ct({input:"token_source",value:t.address})},networkProps:{network:re,networks:X?undefined:ne,onNetworkChange:e=>{(null==e?void 0:e.chainId)&&e.chainId!==(null==re?void 0:re.chainId)&&ct({input:"chain_source",value:e.chainId}),null!=e&&e.chainId&&e.chainId===(null==ae?void 0:ae.chainId)&&(J((0,c.setToChainId)(null)),J((0,c.setToToken)(null))),(0,u.isSolanaChainId)(e.chainId)&&be?J((0,g.setSelectedAccount)(be.address)):(0,S.isNetworkAdded)(e)&&(J((0,g.setSelectedAccount)(Te.address)),J((0,g.setActiveNetworkWithError)(e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId||e.chainId))),J((0,c.setFromToken)(null)),J((0,c.setFromTokenInputValue)(null))},header:Y("yourNetworks")},isMultiselectEnabled:!X,onMaxButtonClick:e=>{J((0,c.setFromTokenInputValue)(e))},amountInFiat:le.valueInCurrency.toString(),amountFieldProps:{testId:"from-amount",autoFocus:!0,value:ie||undefined},isTokenListLoading:oe,buttonProps:{testId:"bridge-source-button"},onBlockExplorerClick:e=>{vt(e),kt(!0),bt((e=>e+1))}}),s.default.createElement(E.Column,{height:p.BlockSize.Full,paddingTop:8,backgroundColor:p.BackgroundColor.backgroundAlternativeSoft,style:{position:"relative"}},s.default.createElement(m.Box,{className:"prepare-bridge-page__switch-tokens",display:p.Display.Flex,backgroundColor:p.BackgroundColor.backgroundAlternativeSoft,style:{position:"absolute",top:"calc(-20px + 1px)",right:"calc(50% - 20px)",border:"2px solid var(--color-background-default)",borderRadius:"100%",opacity:1,width:40,height:40,justifyContent:p.JustifyContent.center}},s.default.createElement(m.ButtonIcon,{iconProps:{className:(0,a.default)({rotate:Ge})},style:{alignSelf:"center",borderRadius:"100%",width:"100%",height:"100%"},"data-testid":"switch-tokens",ariaLabel:"switch-tokens",iconName:m.IconName.Arrow2Down,color:p.IconColor.iconAlternativeSoft,disabled:tt||!(0,u.isValidQuoteRequest)(de,!1)||!X&&!(0,S.isNetworkAdded)(ae),onClick:()=>{if(X||(0,S.isNetworkAdded)(ae)){if(Qe(!Ge),He&&Ve({event:b.MetaMetricsEventName.InputSourceDestinationFlipped,properties:He}),!X){const e=(null==ae?void 0:ae.defaultRpcEndpointIndex)!==undefined&&null!=ae&&ae.rpcEndpoints&&(0,S.isNetworkAdded)(ae)?ae.rpcEndpoints[ae.defaultRpcEndpointIndex].networkClientId:undefined;null!=ae&&ae.chainId&&(0,u.formatChainIdToCaip)(ae.chainId)===H.MultichainNetworks.SOLANA&&be?J((0,g.setSelectedAccount)(be.address)):J((0,g.setSelectedAccount)(Te.address)),e&&J((0,g.setActiveNetwork)(e)),(null==re?void 0:re.chainId)&&J((0,c.setToChainId)(re.chainId))}J((0,c.setFromToken)(te)),J((0,c.setToToken)(Z))}}})),s.default.createElement(G.BridgeInputGroup,{header:Y("swapSelectToken"),token:te,onAssetChange:e=>{const t={...e,address:e.address??(0,l.zeroAddress)()};t.address&&ct({input:"token_destination",value:t.address}),J((0,c.setToToken)(t))},networkProps:X?undefined:{network:ae,networks:se,onNetworkChange:e=>{e.chainId!==(null==ae?void 0:ae.chainId)&&ct({input:"chain_destination",value:e.chainId}),J((0,c.setToChainId)(e.chainId));const t=(0,u.getNativeAssetForChainId)(e.chainId);J((0,c.setToToken)({...t,image:(0,F.getImageForChainId)((0,u.isSolanaChainId)(e.chainId)?(0,u.formatChainIdToCaip)(e.chainId):(0,u.formatChainIdToHex)(e.chainId))??(0,z.getAssetImageUrl)(t.assetId,e.chainId)??""}))},header:Y(X?"swapSwapTo":"bridgeTo"),shouldDisableNetwork:({chainId:e})=>e===(null==re?void 0:re.chainId)},customTokenListGenerator:ae||X?qe:undefined,amountInFiat:(null==ye||null===(e=ye.toTokenAmount)||void 0===e?void 0:e.valueInCurrency)||undefined,amountFieldProps:{testId:"to-amount",readOnly:!0,disabled:!0,value:null!=ye&&null!==(t=ye.toTokenAmount)&&void 0!==t&&t.amount?(0,y.formatTokenAmount)(_e,ye.toTokenAmount.amount):"0",autoFocus:!1,className:null!=ye&&null!==(n=ye.toTokenAmount)&&void 0!==n&&n.amount?"amount-input defined":"amount-input"},isTokenListLoading:We,buttonProps:{testId:"bridge-destination-button"},onBlockExplorerClick:e=>{vt(e),kt(!0),bt((e=>e+1))}}),ht&&ot&&s.default.createElement(m.Box,{padding:6,paddingBottom:3,paddingTop:3},s.default.createElement(K.DestinationAccountPicker,{onAccountSelect:Ue,selectedSwapToAccount:$e,isDestinationSolana:it})),s.default.createElement(E.Column,{height:p.BlockSize.Full,justifyContent:p.JustifyContent.center},me&&!ye?s.default.createElement(s.default.Fragment,null,s.default.createElement(m.Text,{textAlign:p.TextAlign.Center,color:p.TextColor.textAlternativeSoft},Y("swapFetchingQuotes")),s.default.createElement(w.default,{height:"64",width:"64"})):null),s.default.createElement(E.Row,{padding:6,paddingTop:ye?0:6},s.default.createElement(E.Column,{gap:3,className:ye?"highlight":"",style:{paddingBottom:null!=ye&&ye.approval?16:"revert-layer",paddingTop:null!=ye&&ye.approval?16:undefined,paddingInline:16,position:"relative",overflow:"hidden",...ye&&!ke&&ht?{boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",backgroundColor:"var(--color-background-default)",borderRadius:8}:{}}},ye&&fe&&s.default.createElement(E.Row,{style:{position:"absolute",left:0,top:0,width:`calc(100% * (${he} - ${ze}) / ${he})`,height:4,maxWidth:"100%",transition:"width 1s linear"},backgroundColor:p.BackgroundColor.primaryMuted}),!ke&&ye&&(ht?s.default.createElement(j.MultichainBridgeQuoteCard,null):s.default.createElement(L.BridgeQuoteCard,null)),s.default.createElement(C.Footer,{padding:0,flexDirection:p.FlexDirection.Column,gap:2},s.default.createElement(Q.BridgeCTAButton,{onFetchNewQuotes:()=>{ut(lt)},needsDestinationAddress:ht&&ot&&!$e}),null!=ye&&ye.approval&&ie&&Z?s.default.createElement(E.Row,{justifyContent:p.JustifyContent.center,gap:1},s.default.createElement(m.Text,{color:p.TextColor.textAlternativeSoft,variant:p.TextVariant.bodyXs,textAlign:p.TextAlign.Center},Ee?Y("willApproveAmountForBridgingHardware"):Y("willApproveAmountForBridging",[(0,y.formatTokenAmount)(_e,ie,Z.symbol)])),ie&&s.default.createElement(E.Tooltip,{display:p.Display.InlineBlock,position:m.PopoverPosition.Top,offset:[-48,8],title:Y("grantExactAccess")},Y(Ee?"bridgeApprovalWarningForHardware":"bridgeApprovalWarning",[ie,Z.symbol]))):null))),Ee&&Ie&&xe&&ye&&s.default.createElement(m.BannerAlert,{marginInline:4,marginBottom:3,title:Y("hardwareWalletSubmissionWarningTitle"),textAlign:p.TextAlign.Left},s.default.createElement("ul",{style:{listStyle:"disc"}},s.default.createElement("li",null,s.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},Y("hardwareWalletSubmissionWarningStep1",[xe]))),s.default.createElement("li",null,s.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},Y("hardwareWalletSubmissionWarningStep2",[xe]))))),Pe&&!ge&&s.default.createElement(m.BannerAlert,{marginInline:4,marginBottom:10,severity:m.BannerAlertSeverity.Danger,description:Y("noOptionsAvailableMessage"),textAlign:p.TextAlign.Left}),Ze&&ve&&te&&ft&&pt<2&&s.default.createElement(m.BannerAlert,{severity:m.BannerAlertSeverity.Warning,title:Y("bridgeTokenCannotVerifyTitle"),description:Y("bridgeTokenCannotVerifyDescription"),marginInline:4,marginBottom:3,textAlign:p.TextAlign.Left,onClose:()=>et(!1)}),je&&Ye&&s.default.createElement(m.BannerAlert,{ref:at,marginInline:4,marginBottom:3,title:je.titleId?Y(je.titleId):"",severity:je.type===$.TokenFeatureType.MALICIOUS?m.BannerAlertSeverity.Danger:m.BannerAlertSeverity.Warning,description:je.descriptionId?Y(je.descriptionId):je.description,textAlign:p.TextAlign.Left,onClose:()=>Xe(!1)}),!me&&ye&&!Ne(Le)&&De(Fe)&&s.default.createElement(m.BannerAlert,{ref:rt,marginInline:4,marginBottom:3,title:Y("bridgeValidationInsufficientGasTitle",[Ae]),severity:m.BannerAlertSeverity.Danger,description:Y("bridgeValidationInsufficientGasMessage",[Ae]),textAlign:p.TextAlign.Left,actionButtonLabel:Y("buyMoreAsset",[Ae]),actionButtonOnClick:()=>Be()}),Me&&Ke&&ye&&s.default.createElement(m.BannerAlert,{ref:st,marginInline:4,marginBottom:3,title:Y("lowEstimatedReturnTooltipTitle"),severity:m.BannerAlertSeverity.Warning,description:Y("lowEstimatedReturnTooltipMessage",[100*u.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE]),textAlign:p.TextAlign.Left,onClose:()=>Je(!1)}))),gt&&yt&&s.default.createElement("div",{style:{position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"100%",display:"flex",justifyContent:"center"}},s.default.createElement(W.ToastContainer,null,s.default.createElement(W.Toast,{key:Tt,text:Y("bridgeBlockExplorerLinkCopied"),onClose:()=>kt(!1),autoHideTime:2500,startAdornment:s.default.createElement(m.AvatarFavicon,{name:yt.symbol,size:m.AvatarFaviconSize.Sm,src:yt.image})}))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[684,{"./bc-ur-registry-eth.cjs.development.js":682,"./bc-ur-registry-eth.cjs.production.min.js":683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[6840,{"../../../../shared/constants/bridge":5579,"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/terms":5604,"../../../components/component-library":6183,"../../../ducks/bridge/selectors":6632,"../../../ducks/locale/locale":6641,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../hooks/bridge/events/useQuoteProperties":6711,"../../../hooks/bridge/events/useRequestMetadataProperties":6712,"../../../hooks/bridge/events/useRequestProperties":6713,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/useI18nContext":6767,"../../../selectors/multichain":7422,"../layout":6828,"../utils/quote":6853,"./bridge-quotes-modal":6841,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuoteCard=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),h=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),k=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/terms"),T=e("../../../ducks/locale/locale"),b=e("../../../selectors/multichain"),S=e("./bridge-quotes-modal");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.BridgeQuoteCard=()=>{var e,t,n,C;const w=(0,l.useI18nContext)(),{activeQuote:E}=(0,r.useSelector)(i.getBridgeQuotes),x=(0,r.useSelector)(c.getCurrentCurrency),I=(0,r.useSelector)(c.getNativeCurrency),{isEstimatedReturnLow:_}=(0,r.useSelector)(i.getValidationErrors),A=(0,d.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:M}=(0,m.useRequestProperties)(),P=(0,p.useRequestMetadataProperties)(),D=(0,f.useQuoteProperties)(),N=(0,r.useSelector)(i.getFromChain),O=(0,r.useSelector)(i.getToChain),B=(0,r.useSelector)(T.getIntlLocale),[R,F]=(0,s.useState)(!1),[j,L]=(0,s.useState)(!1);return s.default.createElement(s.default.Fragment,null,s.default.createElement(S.BridgeQuotesModal,{isOpen:R,onClose:()=>F(!1)}),E?s.default.createElement(k.Column,{gap:3},s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},s.default.createElement(k.Row,{gap:1,justifyContent:g.JustifyContent.flexStart,style:{whiteSpace:"nowrap"}},s.default.createElement(o.Text,{variant:g.TextVariant.bodyLgMedium},w("bestPrice")),s.default.createElement(k.Tooltip,{title:w("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},w("howQuotesWorkExplanation",[a.BRIDGE_MM_FEE_RATE]))),s.default.createElement(k.Column,{height:g.BlockSize.Full,alignItems:g.AlignItems.flexEnd},s.default.createElement(o.Text,{as:"a",variant:g.TextVariant.bodyMd,color:g.TextColor.primaryDefault,onClick:()=>{M&&P&&D&&A({event:h.MetaMetricsEventName.AllQuotesOpened,properties:{...M,...P,...D}}),F(!0)}},w("moreQuotes")))),s.default.createElement(k.Column,{gap:1},s.default.createElement(k.Row,null,s.default.createElement(o.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},w("bridging")),s.default.createElement(k.Row,{gap:1},s.default.createElement(o.AvatarNetwork,{name:(null==N?void 0:N.name)??"",src:null!=N&&N.chainId?(0,b.getImageForChainId)(N.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),s.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=N&&N.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[N.chainId]:null==N?void 0:N.name),s.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),s.default.createElement(o.AvatarNetwork,{name:(null==O?void 0:O.name)??"",src:null!=O&&O.chainId?(0,b.getImageForChainId)(O.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),s.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=O&&O.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[O.chainId]:null==O?void 0:O.name))),s.default.createElement(k.Row,{className:"row-with-warning",backgroundColor:_?g.BackgroundColor.warningMuted:undefined},s.default.createElement(o.Text,{style:{whiteSpace:"nowrap"},variant:g.TextVariant.bodyMdMedium,color:_?g.TextColor.warningDefault:g.TextColor.textAlternativeSoft},w("networkFee")),s.default.createElement(k.Row,{gap:1},s.default.createElement(k.Tooltip,{position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question,triggerElement:s.default.createElement(o.Text,{style:{whiteSpace:"nowrap",overflow:"visible",textDecoration:"underline",cursor:"pointer"},color:_?g.TextColor.warningDefault:undefined},j?`${null!=E&&null!==(e=E.totalNetworkFee)&&void 0!==e&&e.valueInCurrency?(0,u.formatTokenAmount)(B,null==E||null===(t=E.totalNetworkFee)||void 0===t?void 0:t.amount,I):undefined}`:`${(0,u.formatCurrencyAmount)(null==E||null===(n=E.totalNetworkFee)||void 0===n?void 0:n.valueInCurrency,x,2)??(0,u.formatTokenAmount)(B,null==E||null===(C=E.totalNetworkFee)||void 0===C?void 0:C.amount,I)}`)},w("howNetworkFeesWorkExplanation",[j?(0,u.formatTokenAmount)(B,null==E?void 0:E.totalMaxNetworkFee.amount,I):(0,u.formatCurrencyAmount)(null==E?void 0:E.totalMaxNetworkFee.valueInCurrency,x,2)])),s.default.createElement(o.Icon,{style:{cursor:"pointer"},color:_?g.IconColor.warningDefault:g.IconColor.iconAlternativeSoft,name:o.IconName.SwapVertical,size:o.IconSize.Md,onClick:()=>L(!j)}))),s.default.createElement(k.Row,null,s.default.createElement(o.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},w("time")),s.default.createElement(o.Text,null,w("bridgeTimingMinutes",[(0,a.formatEtaInMinutes)(E.estimatedProcessingTimeInSeconds)]))),s.default.createElement(k.Row,{justifyContent:g.JustifyContent.flexStart,gap:2},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft},w("rateIncludesMMFee",[a.BRIDGE_MM_FEE_RATE])),s.default.createElement(o.Text,{color:g.TextColor.textAlternativeSoft},w("bulletpoint")),s.default.createElement(o.ButtonLink,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft,href:v.TERMS_OF_USE_LINK,externalLink:!0,style:{textDecoration:"underline"}},w("bridgeTerms"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quote-card.tsx"}],[6841,{"../../../../shared/constants/metametrics":5589,"../../../components/component-library":6183,"../../../ducks/bridge/actions":6630,"../../../ducks/bridge/selectors":6632,"../../../ducks/locale/locale":6641,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../hooks/bridge/events/useQuoteProperties":6711,"../../../hooks/bridge/events/useRequestMetadataProperties":6712,"../../../hooks/bridge/events/useRequestProperties":6713,"../../../hooks/bridge/events/useTradeProperties":6714,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/useI18nContext":6767,"../../../hooks/useMultichainSelector":6775,"../../../selectors/multichain":7422,"../layout":6828,"../utils/quote":6853,"@metamask/bridge-controller":1372,"@metamask/snaps-sdk/jsx":2679,"bignumber.js":3810,lodash:4711,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuotesModal=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("@metamask/snaps-sdk/jsx"),o=e("react-redux"),i=e("lodash"),l=e("@metamask/bridge-controller"),u=e("bignumber.js"),c=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),m=e("../utils/quote"),p=e("../../../hooks/useI18nContext"),f=e("../../../ducks/bridge/actions"),h=e("../../../ducks/bridge/selectors"),g=e("../layout"),k=e("../../../ducks/metamask/metamask"),y=e("../../../hooks/bridge/events/useQuoteProperties"),v=e("../../../hooks/bridge/events/useRequestMetadataProperties"),T=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),S=e("../../../../shared/constants/metametrics"),C=e("../../../hooks/bridge/events/useTradeProperties"),w=e("../../../ducks/locale/locale"),E=e("../../../selectors/multichain"),x=e("../../../hooks/useMultichainSelector");function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I.apply(null,arguments)}n.BridgeQuotesModal=({onClose:e,...t})=>{const n=(0,p.useI18nContext)(),s=(0,o.useDispatch)(),{sortedQuotes:_,activeQuote:A,recommendedQuote:M}=(0,o.useSelector)(h.getBridgeQuotes),P=(0,o.useSelector)(h.getBridgeSortOrder),D=(0,o.useSelector)(k.getCurrentCurrency),N=(0,x.useMultichainSelector)(E.getMultichainNativeCurrency),O=(0,o.useSelector)(w.getIntlLocale),B=(0,b.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:R}=(0,T.useRequestProperties)(),F=(0,v.useRequestMetadataProperties)(),j=(0,y.useQuoteProperties)(),L=(0,C.useTradeProperties)();return r.default.createElement(c.Modal,I({className:"quotes-modal",onClose:e},t),r.default.createElement(c.ModalOverlay,null),r.default.createElement(c.ModalContent,{modalDialogProps:{padding:0}},r.default.createElement(c.ModalHeader,{onBack:e},r.default.createElement(c.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},n("swapSelectAQuote"))),r.default.createElement(g.Row,{paddingTop:3,paddingBottom:1,paddingInline:4},[[l.SortOrder.COST_ASC,n("bridgeNetCost"),a.IconName.Arrow2Up],[l.SortOrder.ETA_ASC,n("time"),a.IconName.Arrow2Down]].map((([e,t,n])=>r.default.createElement(c.ButtonLink,{key:t,onClick:()=>{R&&F&&j&&B({event:S.MetaMetricsEventName.AllQuotesSorted,properties:{...R,...F,...j,sort_order:P}}),s((0,f.setSortOrder)(e))},startIconName:P===e&&P===l.SortOrder.ETA_ASC?n:undefined,startIconProps:{size:c.IconSize.Xs},endIconName:P===e&&P===l.SortOrder.COST_ASC?n:undefined,endIconProps:{size:c.IconSize.Xs},color:P===e?d.TextColor.primaryDefault:d.TextColor.textAlternativeSoft},r.default.createElement(c.Text,{variant:P===e?d.TextVariant.bodySmMedium:d.TextVariant.bodySm,color:P===e?d.TextColor.primaryDefault:d.TextColor.textAlternativeSoft},t))))),r.default.createElement(g.Column,{style:{overflow:"scroll"}},_.map(((t,a)=>{const{totalNetworkFee:o,estimatedProcessingTimeInSeconds:p,toTokenAmount:h,cost:k,sentAmount:y,quote:{destAsset:v,bridges:T,requestId:b}}=t,C=b===(null==A?void 0:A.quote.requestId),w=b===(null==M?void 0:M.quote.requestId);return r.default.createElement(g.Row,{alignItems:d.AlignItems.flexStart,key:a,backgroundColor:C?d.BackgroundColor.primaryMuted:undefined,onClick:()=>{s((0,f.setSelectedQuote)(t)),R&&F&&j&&L&&B({event:S.MetaMetricsEventName.QuoteSelected,properties:{...R,...F,...j,...L,is_best_quote:w}}),e()},paddingInline:4,paddingTop:3,paddingBottom:3,style:{position:"relative"}},C&&r.default.createElement(g.Column,{style:{position:"absolute",left:4,top:4,height:"calc(100% - 8px)",width:4,borderRadius:8},backgroundColor:d.BackgroundColor.primaryDefault}),r.default.createElement(g.Column,null,r.default.createElement(c.Text,{variant:d.TextVariant.bodyMd},k.valueInCurrency&&(0,m.formatCurrencyAmount)(k.valueInCurrency,D,2)),[null!=o&&o.valueInCurrency&&null!=y&&y.valueInCurrency?n("quotedTotalCost",[(0,m.formatCurrencyAmount)(new u.BigNumber(o.valueInCurrency).plus(y.valueInCurrency).toString(),D,2)]):n("quotedTotalCost",[(0,m.formatTokenAmount)(O,o.amount,N)]),n("quotedReceiveAmount",[(0,m.formatCurrencyAmount)(h.valueInCurrency,D,2)??(0,m.formatTokenAmount)(O,h.amount,v.symbol)])].map((e=>r.default.createElement(c.Text,{key:e,variant:d.TextVariant.bodyXsMedium,color:d.TextColor.textAlternative},e)))),r.default.createElement(g.Column,{alignItems:d.AlignItems.flexEnd},r.default.createElement(c.Text,{variant:d.TextVariant.bodyMd},n("bridgeTimingMinutes",[(0,l.formatEtaInMinutes)(p)])),r.default.createElement(c.Text,{variant:d.TextVariant.bodyXsMedium,color:d.TextColor.textAlternative},(0,i.startCase)(T[0]))))})))))}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quotes-modal.tsx"}],[6842,{"../../../../shared/constants/bridge":5579,"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/multichain/networks":5591,"../../../../shared/constants/network":5592,"../../../components/component-library":6183,"../../../ducks/bridge/selectors":6632,"../../../ducks/locale/locale":6641,"../../../ducks/metamask/metamask":6642,"../../../helpers/constants/design-system":6654,"../../../hooks/bridge/events/useQuoteProperties":6711,"../../../hooks/bridge/events/useRequestMetadataProperties":6712,"../../../hooks/bridge/events/useRequestProperties":6713,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6720,"../../../hooks/useI18nContext":6767,"../layout":6828,"../utils/quote":6853,"./bridge-quotes-modal":6841,"@metamask/bridge-controller":1372,react:5121,"react-redux":5079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainBridgeQuoteCard=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),h=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),k=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/network"),T=e("../../../../shared/constants/multichain/networks"),b=e("../../../ducks/locale/locale"),S=e("./bridge-quotes-modal");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.MultichainBridgeQuoteCard=()=>{var e;const t=(0,l.useI18nContext)(),{activeQuote:n}=(0,r.useSelector)(i.getBridgeQuotes),C=(0,r.useSelector)(c.getCurrentCurrency),w=(0,d.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:E}=(0,m.useRequestProperties)(),x=(0,p.useRequestMetadataProperties)(),I=(0,f.useQuoteProperties)(),_=(0,r.useSelector)(i.getFromChain),A=(0,r.useSelector)(i.getToChain),M=(0,r.useSelector)(b.getIntlLocale),P=(0,r.useSelector)(i.getIsBridgeTx),[D,N]=(0,s.useState)(!1),O=e=>(0,a.isSolanaChainId)(e)?T.MULTICHAIN_TOKEN_IMAGE_MAP[T.MultichainNetworks.SOLANA]:v.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[(0,a.formatChainIdToHex)(e)],B=e=>(0,a.isSolanaChainId)(e)?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[T.MultichainNetworks.SOLANA]:y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[(0,a.formatChainIdToHex)(e)];return s.default.createElement(s.default.Fragment,null,s.default.createElement(S.BridgeQuotesModal,{isOpen:D,onClose:()=>N(!1)}),n?s.default.createElement(k.Column,{gap:3},s.default.createElement(k.Column,{gap:2},s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},s.default.createElement(k.Row,{gap:1},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardQuoteLabel")),s.default.createElement(k.Tooltip,{title:t("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},t("howQuotesWorkExplanation",[a.BRIDGE_MM_FEE_RATE]))),s.default.createElement(o.Text,null,`1 ${n.quote.srcAsset.symbol} = ${(0,u.formatTokenAmount)(M,n.swapRate)} ${n.quote.destAsset.symbol}`)),P&&s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardBridgingLabel")),s.default.createElement(k.Row,{gap:1},s.default.createElement(o.AvatarNetwork,{name:(null==_?void 0:_.name)??"",src:O(n.quote.srcChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),s.default.createElement(o.Text,null,B(n.quote.srcChainId)),s.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),s.default.createElement(o.AvatarNetwork,{name:(null==A?void 0:A.name)??"",src:O(n.quote.destChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),s.default.createElement(o.Text,null,B(n.quote.destChainId)))),s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("networkFee")),s.default.createElement(o.Text,null,(0,u.formatCurrencyAmount)(null===(e=n.totalNetworkFee)||void 0===e?void 0:e.valueInCurrency,C,2))),s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative},t("multichainQuoteCardTimeLabel")),s.default.createElement(o.Text,null,t("bridgeTimingMinutes",[(0,a.formatEtaInMinutes)(n.estimatedProcessingTimeInSeconds)]))),s.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween,color:g.TextColor.textAlternative},s.default.createElement(o.Text,{variant:g.TextVariant.bodyMd},t("rateIncludesMMFee",[a.BRIDGE_MM_FEE_RATE])),s.default.createElement(o.ButtonLink,{variant:g.TextVariant.bodyMd,onClick:()=>{E&&x&&I&&w({event:h.MetaMetricsEventName.AllQuotesOpened,properties:{...E,...x,...I}}),N(!0)}},t("moreQuotes"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/multichain-bridge-quote-card.tsx"}],[6843,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"../../../hooks/useI18nContext":6767,"./segment":6849,"@metamask/bridge-controller":1372,"@metamask/transaction-controller":2763,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeTxHistoryItem:e,transactionGroup:t}){const n=(0,l.useI18nContext)(),{initialTransaction:r}=t,a=m(r),c=p({bridgeTxHistoryItem:e,srcTxStatus:a}),f=d(a);return s.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:2},s.default.createElement(o.Text,{color:i.TextColor.textAlternative},n("bridgeTransactionProgress",[f])),s.default.createElement(o.Box,{display:i.Display.Flex,gap:2,width:i.BlockSize.Full},s.default.createElement(u.default,{type:a}),s.default.createElement(u.default,{type:c})))};var s=c(e("react")),r=e("@metamask/transaction-controller"),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=c(e("./segment"));function c(e){return e&&e.__esModule?e:{default:e}}const d=e=>{if(e===a.StatusTypes.PENDING)return 1;if(e===a.StatusTypes.COMPLETE)return 2;throw new Error("No more possible states for srcTxStatus")},m=e=>e.status===r.TransactionStatus.confirmed?a.StatusTypes.COMPLETE:a.StatusTypes.PENDING,p=({bridgeTxHistoryItem:e,srcTxStatus:t})=>{var n;return t!==a.StatusTypes.COMPLETE?null:null!=e&&null!==(n=e.status.destChain)&&void 0!==n&&n.txHash&&e.status.status===a.StatusTypes.COMPLETE?a.StatusTypes.COMPLETE:a.StatusTypes.PENDING}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-activity-item-tx-segments.tsx"}],[6844,{"../../../../shared/constants/common":5580,"../../../components/component-library":6183,"../../../components/multichain/menu-items/view-explorer-menu-item":6359,"../../../contexts/metametrics":6618,"../../../helpers/constants/design-system":6654,"../../../hooks/useI18nContext":6767,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({srcChainId:e,destChainId:t,srcBlockExplorerUrl:n,destBlockExplorerUrl:u}){const c=(0,s.useContext)(o.MetaMetricsContext),p=(0,l.useI18nContext)(),f=p("bridgeExplorerLinkViewOn",[d(e,n)]),h=u?p("bridgeExplorerLinkViewOn",[d(t,u)]):undefined;return s.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},n&&s.default.createElement(r.ButtonSecondary,{endIconName:r.IconName.Export,onClick:()=>{n&&(0,a.openBlockExplorer)(n,m,c)}},f),u&&s.default.createElement(r.ButtonSecondary,{endIconName:r.IconName.Export,onClick:()=>{u&&(0,a.openBlockExplorer)(u,m,c)}},h))},n.getBlockExplorerUrl=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("../../../components/component-library"),a=e("../../../components/multichain/menu-items/view-explorer-menu-item"),o=e("../../../contexts/metametrics"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/common");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=(e,t)=>{const n=e?u.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[e]:undefined;return n||(t?t.split("/")[2]:undefined)};n.getBlockExplorerUrl=(e,t)=>{var n;if(!e||!t)return undefined;const s=e.defaultBlockExplorerUrlIndex;if(s===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[s])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`};const m="Activity Tab"}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-explorer-links.tsx"}],[6845,{"../../../../shared/constants/bridge":5579,"../../../../shared/modules/Numeric":5641,"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"../../../hooks/useI18nContext":6767,"@metamask/bridge-controller":1372,"@metamask/bridge-status-controller":1387,"@metamask/transaction-controller":2763,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({step:e,time:t,stepStatus:n}){const r=(0,c.useI18nContext)();return s.createElement(i.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,className:"bridge-transaction-details__step-grid--desc"},t&&s.createElement(i.Text,{color:u.TextColor.textDefault},t),s.createElement(i.Text,{color:n===o.StatusTypes.PENDING||n===o.StatusTypes.COMPLETE?u.TextColor.textDefault:u.TextColor.textAlternative,fontWeight:n===o.StatusTypes.PENDING?u.FontWeight.Medium:u.FontWeight.Normal},e.action===a.ActionTypes.BRIDGE&&p(r,n,e),e.action===a.ActionTypes.SWAP&&f(r,n,e)))},n.getStepStatus=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("@metamask/transaction-controller"),a=e("@metamask/bridge-status-controller"),o=e("@metamask/bridge-controller"),i=e("../../../components/component-library"),l=e("../../../../shared/modules/Numeric"),u=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/bridge");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const p=(e,t,n)=>{var s;const r=n.destChainId?new l.Numeric(n.destChainId,10).toPrefixedHexString():undefined,a=r?d.NETWORK_TO_SHORT_NETWORK_NAME_MAP[r]:"",i=null===(s=n.destAsset)||void 0===s?void 0:s.symbol;return i?t===o.StatusTypes.COMPLETE?e("bridgeStepActionBridgeComplete",[i,a]):e("bridgeStepActionBridgePending",[i,a]):null},f=(e,t,n)=>{var s,r;const a=null===(s=n.srcAsset)||void 0===s?void 0:s.symbol,i=null===(r=n.destAsset)||void 0===r?void 0:r.symbol;return a&&i?t===o.StatusTypes.COMPLETE?e("bridgeStepActionSwapComplete",[a,i]):e("bridgeStepActionSwapPending",[a,i]):null};n.getStepStatus=({bridgeHistoryItem:e,step:t,srcChainTxMeta:n})=>e?t.action===a.ActionTypes.SWAP?((e,t,n)=>{const s=t.srcChainId===t.destChainId,a=t.srcChainId===e.quote.srcChainId;if(s&&a)return(null==n?void 0:n.status)===r.TransactionStatus.confirmed?o.StatusTypes.COMPLETE:o.StatusTypes.PENDING;return(null==n?void 0:n.status)===r.TransactionStatus.confirmed&&e.status?e.status.status:null})(e,t,n):t.action===a.ActionTypes.BRIDGE?(e=>e.status?e.status.status:null)(e):o.StatusTypes.UNKNOWN:o.StatusTypes.UNKNOWN}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-description.tsx"}],[6846,{"../../../components/component-library":6183,"../../../helpers/utils/util":6704,"./bridge-step-description":6845,"./step-progress-bar-item":6850,"@metamask/bridge-controller":1372,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcChainTxMeta:t}){const n=(null==e?void 0:e.quote.steps)||[],u=n.map((n=>(0,i.getStepStatus)({bridgeHistoryItem:e,step:n,srcChainTxMeta:t})));return s.default.createElement(a.Box,{className:"bridge-transaction-details__step-grid"},n.map(((a,c)=>{const m=c>0?u[c-1]:null,p=u[c],f=c<u.length-1?u[c+1]:null,h=p===r.StatusTypes.COMPLETE&&(f===r.StatusTypes.PENDING||f===r.StatusTypes.COMPLETE),g=m===r.StatusTypes.PENDING&&p===r.StatusTypes.PENDING?null:p,k=(0,o.formatDate)(d(c,c===n.length-1,(null==e?void 0:e.startTime)||(null==t?void 0:t.time),(null==e?void 0:e.estimatedProcessingTimeInSeconds)||0),"hh:mm a");return s.default.createElement(l.default,{key:`progress-${a.action}-${a.srcChainId}-${a.destChainId}`,stepStatus:g,isLastItem:c===n.length-1,isEdgeComplete:h},s.default.createElement(i.default,{step:a,stepStatus:g,time:k}))})))};var s=c(e("react")),r=e("@metamask/bridge-controller"),a=e("../../../components/component-library"),o=e("../../../helpers/utils/util"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("./bridge-step-description")),l=c(e("./step-progress-bar-item"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=(e,t,n,s)=>0===e?n:t&&n&&s?n+1e3*s:undefined}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-list.tsx"}],[6847,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,classnames:3952,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("classnames"))&&s.__esModule?s:{default:s},o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=r.forwardRef((({size:e=o.IconSize.Md,color:t,className:n="",style:s},l)=>r.createElement(o.Box,{className:(0,a.default)(n,"mm-icon",`mm-icon--size-${e}`),ref:l,as:"span",display:i.Display.InlineBlock,style:{height:"12px",width:"12px",border:`1px solid var(--color-${t})`,borderRadius:"50%",backgroundColor:`var(--color-${i.BackgroundColor.backgroundDefault})`,zIndex:1,...s}})));n.default=u}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/hollow-circle.tsx"}],[6848,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"./hollow-circle":6847,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({iconSize:e,color:t}){return s.default.createElement(r.Box,{style:{position:"relative"}},s.default.createElement(r.Box,{className:"bridge-transaction-details__icon-loading",backgroundColor:a.BackgroundColor.primaryMuted,display:a.Display.Flex,justifyContent:a.JustifyContent.center,alignItems:a.AlignItems.center,borderRadius:a.BorderRadius.full,style:{width:"2rem",height:"2rem"}}),s.default.createElement(o.default,{size:e,color:t,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderWidth:"2px"}}))};var s=i(e("react")),r=e("../../../components/component-library"),a=e("../../../helpers/constants/design-system"),o=i(e("./hollow-circle"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/pulsing-circle.tsx"}],[6849,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"@metamask/bridge-controller":1372,classnames:3952,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({type:e}){return s.default.createElement(o.Box,{width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.pill},s.default.createElement(o.Box,{width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.primaryDefault,borderRadius:i.BorderRadius.pill,className:(0,r.default)({"bridge-transaction-details__segment":!0,"bridge-transaction-details__segment--pending":e===a.StatusTypes.PENDING,"bridge-transaction-details__segment--complete":e===a.StatusTypes.COMPLETE})}))};var s=l(e("react")),r=l(e("classnames")),a=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/segment.tsx"}],[685,{"./RegistryItem":696,"./RegistryType":697,"./lib":707},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bytes=void 0;const s=e("./lib"),r=e("./RegistryItem"),a=e("./RegistryType");class o extends r.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>a.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new s.DataItem(this.bytes)}}n.Bytes=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[6850,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,"./hollow-circle":6847,"./pulsing-circle":6848,"@metamask/bridge-controller":1372,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({stepStatus:e,isLastItem:t,isEdgeComplete:n,children:u}){return s.default.createElement(s.default.Fragment,null,(null===e||e===r.StatusTypes.UNKNOWN)&&s.default.createElement(i.default,{size:c,color:o.IconColor.iconMuted}),e===r.StatusTypes.PENDING&&s.default.createElement(l.default,{iconSize:c,color:o.IconColor.primaryDefault}),e===r.StatusTypes.COMPLETE&&s.default.createElement(a.Icon,{name:a.IconName.FullCircle,color:o.IconColor.primaryDefault,size:c}),u,!t&&s.default.createElement(d,{color:n?o.IconColor.primaryDefault:o.IconColor.iconMuted}),!t&&s.default.createElement("div",null))};var s=u(e("react")),r=e("@metamask/bridge-controller"),a=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=u(e("./hollow-circle")),l=u(e("./pulsing-circle"));function u(e){return e&&e.__esModule?e:{default:e}}const c=a.IconSize.Xs,d=({color:e})=>s.default.createElement("div",{style:{height:"60px",marginTop:"-1rem",marginBottom:"-1rem",width:"1px",backgroundColor:`var(--color-${e})`,zIndex:.1}})}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/step-progress-bar-item.tsx"}],[6851,{"../../../components/component-library":6183,"../../../helpers/constants/design-system":6654,react:5121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({title:e,value:t}){return r.default.createElement(a.Box,{display:o.Display.Flex,justifyContent:o.JustifyContent.spaceBetween},r.default.createElement(a.Text,{width:o.BlockSize.OneFourth,paddingRight:1,variant:o.TextVariant.bodyMd},e),r.default.createElement(a.Text,{display:o.Display.Flex,width:o.BlockSize.ThreeFourths,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.flexEnd,textAlign:o.TextAlign.Right,paddingLeft:1,variant:o.TextVariant.bodyMd},t))};var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-detail-row.tsx"}],[6852,{"../../../../shared/constants/bridge":5579,"../../../../shared/constants/common":5580,"../../../../shared/constants/metametrics":5589,"../../../../shared/constants/time":5605,"../../../../shared/modules/conversion.utils":5646,"../../../components/app/confirm/info/row":5773,"../../../components/app/transaction-activity-log":6075,"../../../components/app/transaction-breakdown/transaction-breakdown-utils":6085,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6100,"../../../components/component-library":6183,"../../../components/multichain/pages/page":6434,"../../../contexts/metametrics":6618,"../../../ducks/bridge-status/selectors":6629,"../../../ducks/locale/locale":6641,"../../../helpers/constants/common":6652,"../../../helpers/constants/design-system":6654,"../../../helpers/utils/util":6704,"../../../hooks/bridge/useBridgeChainInfo":6715,"../../../hooks/useI18nContext":6767,"../../../selectors":7418,"../../../selectors/multichain":7422,"../../confirmations/components/simulation-details/formatAmount":7024,"./bridge-explorer-links":6844,"./bridge-step-list":6846,"./transaction-detail-row":6851,"@metamask/bridge-controller":1372,"bignumber.js":3810,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsDelayed=n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("bignumber.js"),i=e("@metamask/bridge-controller"),l=e("../../../components/component-library"),u=e("../../../components/multichain/pages/page"),c=e("../../../ducks/bridge-status/selectors"),d=N(e("../../../hooks/bridge/useBridgeChainInfo")),m=e("../../../components/app/transaction-breakdown/transaction-breakdown-utils"),p=e("../../../../shared/modules/conversion.utils"),f=N(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../../shared/constants/common"),g=e("../../../helpers/constants/common"),k=e("../../../helpers/constants/design-system"),y=e("../../../helpers/utils/util"),v=e("../../../components/app/confirm/info/row"),T=e("../../../hooks/useI18nContext"),b=e("../../../selectors"),S=e("../../../../shared/constants/metametrics"),C=e("../../../contexts/metametrics"),w=e("../../confirmations/components/simulation-details/formatAmount"),E=e("../../../ducks/locale/locale"),x=N(e("../../../components/app/transaction-activity-log")),I=e("../../../../shared/constants/bridge"),_=e("../../../selectors/multichain"),A=e("../../../../shared/constants/time"),M=N(e("./transaction-detail-row")),P=N(e("./bridge-explorer-links")),D=N(e("./bridge-step-list"));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const B=(e,t)=>{var n;if(!e||!t)return undefined;const s=e.defaultBlockExplorerUrlIndex;if(s===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[s])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`},R=(e,t)=>{const n=10*A.MINUTE;return Boolean(e===i.StatusTypes.PENDING&&(null==t?void 0:t.startTime)&&Date.now()>t.startTime+n+1e3*t.estimatedProcessingTimeInSeconds)};n.getIsDelayed=R;const F={[i.StatusTypes.PENDING]:k.TextColor.warningDefault,[i.StatusTypes.COMPLETE]:k.TextColor.successDefault,[i.StatusTypes.FAILED]:k.TextColor.errorDefault,[i.StatusTypes.UNKNOWN]:k.TextColor.errorDefault};n.default=()=>{var e,t,n;const A=(0,T.useI18nContext)(),N=(0,r.useSelector)(E.getIntlLocale),O=(0,s.useContext)(C.MetaMetricsContext),j=(0,r.useSelector)((e=>e)),L=(0,a.useHistory)(),$=(0,a.useLocation)(),{srcTxMetaId:U}=(0,a.useParams)(),q=(0,r.useSelector)(c.selectBridgeHistoryForAccount),W=(0,r.useSelector)(b.selectedAddressTxListSelectorAllChain),H=(null===(e=$.state)||void 0===e?void 0:e.transactionGroup)||null,V=(null===(t=$.state)||void 0===t?void 0:t.isEarliestNonce)||null,z=W.find((e=>e.id===U)),G=U?q[U]:undefined,{srcNetwork:Q,destNetwork:K}=(0,d.default)({bridgeHistoryItem:G,srcTxMeta:z}),J=null==z?void 0:z.hash,Y=null!=Q&&Q.isEvm?B(Q,J):undefined,X=null==G||null===(n=G.status.destChain)||void 0===n?void 0:n.txHash,Z=null!=K&&K.isEvm?B(K,X):undefined,ee=G?null==G?void 0:G.status.status:i.StatusTypes.PENDING,te=Q?(0,_.getImageForChainId)(Q.isEvm?(0,i.formatChainIdToHex)(Q.chainId):Q.chainId):undefined,ne=K?(0,_.getImageForChainId)(K.isEvm?(0,i.formatChainIdToHex)(K.chainId):K.chainId):undefined,se=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==Q?void 0:Q.chainId],re=I.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==K?void 0:K.chainId],ae=z?(0,m.getTransactionBreakdownData)({state:j,transaction:z,isTokenApprove:!1}):undefined,oe=(({locale:e,bridgeHistoryItem:t})=>{var n;return null!=t&&null!==(n=t.pricingData)&&void 0!==n&&n.amountSent?(0,w.formatAmount)(e,new o.BigNumber(t.pricingData.amountSent)):undefined})({locale:N,bridgeHistoryItem:G}),ie=(({locale:e,bridgeHistoryItem:t})=>{var n;if(!t)return undefined;const s=null===(n=t.status.destChain)||void 0===n?void 0:n.amount;if(!s)return undefined;const r=t.quote.destAsset.decimals;return(0,w.formatAmount)(e,new o.BigNumber(s).dividedBy(10**r))})({locale:N,bridgeHistoryItem:G}),le=R(ee,G),ue=s.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center},Q&&s.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:te,name:null==Q?void 0:Q.name}),se),ce=s.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center},K&&s.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:ne,name:null==K?void 0:K.name}),re);return s.default.createElement("div",{className:"bridge__container"},s.default.createElement(u.Header,{className:"bridge__header",startAccessory:s.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,ariaLabel:A("back"),onClick:()=>L.goBack()})},A("bridge")," details"),s.default.createElement(u.Content,{className:"bridge-transaction-details__content"},s.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:4},le&&s.default.createElement(l.BannerAlert,{title:A("bridgeTxDetailsDelayedTitle"),severity:l.BannerAlertSeverity.Warning},s.default.createElement(l.Text,{display:k.Display.Flex,alignItems:k.AlignItems.center},A("bridgeTxDetailsDelayedDescription"),"",s.default.createElement(l.ButtonLink,{externalLink:!0,href:g.SUPPORT_REQUEST_LINK,onClick:()=>{O({category:S.MetaMetricsEventCategory.Home,event:S.MetaMetricsEventName.SupportLinkClicked,properties:{url:g.SUPPORT_REQUEST_LINK,location:"Bridge Tx Details"}},{contextPropsIntoEventProperties:[S.MetaMetricsContextProp.PageTitle]})}},A("bridgeTxDetailsDelayedDescriptionSupport")),".")),ee!==i.StatusTypes.COMPLETE&&(G||z)&&s.default.createElement(D.default,{bridgeHistoryItem:G,srcChainTxMeta:z}),s.default.createElement(P.default,{srcChainId:null!=Q&&Q.isEvm?(0,i.formatChainIdToHex)(null==Q?void 0:Q.chainId):undefined,destChainId:null!=K&&K.isEvm?(0,i.formatChainIdToHex)(null==K?void 0:K.chainId):undefined,srcBlockExplorerUrl:Y,destBlockExplorerUrl:Z}),s.default.createElement(v.ConfirmInfoRowDivider,null),s.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},s.default.createElement(M.default,{title:A("bridgeTxDetailsStatus"),value:s.default.createElement(l.Text,{textTransform:k.TextTransform.Capitalize,color:ee?F[ee]:undefined},null==ee?void 0:ee.toLowerCase())}),s.default.createElement(M.default,{title:A("bridgeTxDetailsBridging"),value:s.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},ue,s.default.createElement(l.Icon,{name:l.IconName.Arrow2Right,size:l.IconSize.Sm}),ce)}),s.default.createElement(M.default,{title:A("bridgeTxDetailsTimestamp"),value:A("bridgeTxDetailsTimestampValue",[(0,y.formatDate)(null==z?void 0:z.time,"MMM d, yyyy"),(0,y.formatDate)(null==z?void 0:z.time,"hh:mm a")])})),s.default.createElement(v.ConfirmInfoRowDivider,null),s.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},s.default.createElement(M.default,{title:A("bridgeTxDetailsYouSent"),value:s.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},A("bridgeTxDetailsTokenAmountOnChain",[oe,null==G?void 0:G.quote.srcAsset.symbol]),ue)}),ie&&(null==G?void 0:G.quote.destAsset.symbol)&&s.default.createElement(M.default,{title:A("bridgeTxDetailsYouReceived"),value:s.default.createElement(l.Box,{display:k.Display.Flex,gap:1,alignItems:k.AlignItems.center,flexWrap:k.FlexWrap.Wrap,justifyContent:k.JustifyContent.flexEnd},A("bridgeTxDetailsTokenAmountOnChain",[ie,null==G?void 0:G.quote.destAsset.symbol]),ce)}),s.default.createElement(M.default,{title:A("bridgeTxDetailsTotalGasFee"),value:s.default.createElement(f.default,{currency:null==ae?void 0:ae.nativeCurrency,denomination:h.EtherDenomination.ETH,numberOfDecimals:6,value:null==ae?void 0:ae.hexGasTotal,type:g.PRIMARY})})),s.default.createElement(v.ConfirmInfoRowDivider,null),s.default.createElement(l.Box,{display:k.Display.Flex,flexDirection:k.FlexDirection.Column,gap:2},s.default.createElement(M.default,{title:A("bridgeTxDetailsNonce"),value:null!=z&&z.txParams.nonce?(0,p.hexToDecimal)(null==z?void 0:z.txParams.nonce):undefined}),H&&void 0!==V&&s.default.createElement(x.default,{transactionGroup:H,className:"transaction-list-item-details__transaction-activity-log",isEarliestNonce:V})))))}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-details.tsx"}],[6854,{"../../../shared/constants/metametrics":5589,"../../../shared/constants/network":5592,"../../../shared/constants/transaction":5607,"../../../shared/modules/selectors/networks":5663,"../../../shared/modules/string-utils":5666,"../../components/app/assets/nfts/nft-default-image/nft-default-image":5724,"../../components/app/network-account-balance-header/network-account-balance-header":5898,"../../components/component-library":6183,"../../components/ui/page-container":6565,"../../components/ui/site-origin/site-origin":6583,"../../contexts/i18n":6614,"../../contexts/metametrics":6618,"../../ducks/history/history":6639,"../../helpers/constants/common":6652,"../../helpers/constants/design-system":6654,"../../helpers/utils/util":6704,"../../hooks/useCurrencyDisplay":6756,"../../hooks/useOriginMetadata":6781,"../../hooks/useUserPreferencedCurrency":6801,"../../selectors":7418,"../../store/actions":7436,"../confirmations/components/confirm/nav":6975,"@metamask/etherscan-link":1860,"@metamask/rpc-errors":2394,classnames:3952,react:5121,"react-redux":5079,"react-router-dom":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/rpc-errors"),i=e("@metamask/etherscan-link"),l=P(e("classnames")),u=e("../../components/ui/page-container"),c=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),m=e("../../ducks/history/history"),p=e("../../store/actions"),f=e("../../../shared/constants/metametrics"),h=e("../../../shared/constants/transaction"),g=e("../../components/component-library"),k=e("../../../shared/modules/selectors/networks"),y=e("../../selectors"),v=P(e("../../components/app/assets/nfts/nft-default-image/nft-default-image")),T=e("../../helpers/utils/util"),b=e("../../helpers/constants/design-system"),S=P(e("../../components/app/network-account-balance-header/network-account-balance-header")),C=e("../../../shared/constants/network"),w=P(e("../../components/ui/site-origin/site-origin")),E=e("../../helpers/constants/common"),x=e("../../hooks/useUserPreferencedCurrency"),I=e("../../hooks/useCurrencyDisplay"),_=e("../../hooks/useOriginMetadata"),A=e("../../../shared/modules/string-utils"),M=e("../confirmations/components/confirm/nav");function P(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}n.default=()=>{var e,t;const n=(0,s.useContext)(c.I18nContext),P=(0,r.useDispatch)(),D=(0,a.useHistory)(),N=(0,r.useSelector)(m.getMostRecentOverviewPage),O=(0,r.useSelector)(y.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),B=(0,r.useSelector)(y.getRpcPrefsForCurrentProvider),R=(0,r.useSelector)(k.getCurrentChainId),F=(0,r.useSelector)(y.getIpfsGateway),j=(0,s.useContext)(d.MetaMetricsContext),L=(0,r.useSelector)(y.getNetworkIdentifier),{address:$}=(0,r.useSelector)(y.getSelectedInternalAccount),U=(0,r.useSelector)(y.getSelectedAccountCachedBalance),q=(0,r.useSelector)((e=>(0,y.getAddressBookEntryOrAccountName)(e,$))),[W,H]=(0,s.useState)([]),V=C.NETWORK_TO_NAME_MAP[R]||L,{currency:z,numberOfDecimals:G}=(0,x.useUserPreferencedCurrency)(E.PRIMARY,{ethNumberOfDecimals:4}),[Q]=(0,I.useCurrencyDisplay)(U,{numberOfDecimals:G,currency:z}),K=(0,_.useOriginMetadata)(null===(e=O[0])||void 0===e?void 0:e.origin)||{},J=null===(t=O[0])||void 0===t?void 0:t.id,Y=(0,s.useCallback)((async()=>{await Promise.all(O.map((async({requestData:{asset:e},id:t})=>{await P((0,p.resolvePendingApproval)(t,null)),j({event:f.MetaMetricsEventName.NftAdded,category:f.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:h.AssetType.NFT,source:f.MetaMetricsTokenEventSource.Dapp}})}))),D.push(N)}),[P,D,j,N,O]),X=(0,s.useCallback)((async()=>{await Promise.all(O.map((async({id:e})=>P((0,p.rejectPendingApproval)(e,(0,o.serializeError)(o.providerErrors.userRejectedRequest())))))),D.push(N)}),[P,D,N,O]);let Z,ee;if((0,s.useEffect)((()=>{O.length||D.push(N)}),[D,N,O]),O.length)try{const e=new URL(O[0].origin);Z=e.host,ee=e.href}catch{Z="dapp"}return(0,s.useEffect)((()=>{(async()=>{const e=await Promise.all(O.map((async e=>{const t=await(0,T.getAssetImageURL)(e.requestData.asset.image,F);return{...e,requestData:{...e.requestData,asset:{...e.requestData.asset,assetImageUrl:t}}}})));H(e)})()}),[O]),s.default.createElement(g.Box,{height:b.BlockSize.Full,width:b.BlockSize.Full,display:b.Display.Flex,flexDirection:b.FlexDirection.Column},s.default.createElement(M.Nav,{confirmationId:J}),s.default.createElement(g.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},s.default.createElement(S.default,{accountName:q,accountBalance:Q,accountAddress:$,networkName:V,chainId:R}),s.default.createElement(g.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:b.Display.Flex,justifyContent:b.JustifyContent.center},s.default.createElement(w.default,{chip:!0,siteOrigin:K.origin,title:K.origin,iconSrc:K.iconUrl,iconName:K.hostname})),s.default.createElement(g.Text,{variant:b.TextVariant.headingLg,textAlign:b.TextAlign.Center,margin:2},n("addSuggestedNFTs")),s.default.createElement(g.Text,{variant:b.TextVariant.bodyMd,textAlign:b.TextAlign.Center},n("wantsToAddThisAsset",["dapp"===Z?s.default.createElement(g.Text,{key:Z,variant:b.TextVariant.bodyMd,fontWeight:"bold"},Z):s.default.createElement(g.ButtonLink,{key:Z,size:g.BUTTON_SIZES.INHERIT,href:ee,target:"_blank"},Z)]))),s.default.createElement(g.Box,{className:"confirm-add-suggested-nft__content"},s.default.createElement(g.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:b.BorderRadius.MD},s.default.createElement(g.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":O.length>1})},O.map((({id:e,requestData:{asset:{address:t,tokenId:n,symbol:r,name:a}}})=>{const l=W.find((e=>e.requestData.asset.tokenId===n&&(0,A.isEqualCaseInsensitive)(e.requestData.asset.address,t))),u=l?l.requestData.asset.assetImageUrl:"",c=(0,i.getTokenTrackerLink)(t,R,null,null,{blockExplorerUrl:(null==B?void 0:B.blockExplorerUrl)??null});return 1===O.length?s.default.createElement(g.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:b.BorderRadius.MD,margin:0,padding:0},u?s.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:a||n}):s.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:n,name:a||r||(0,T.shortenAddress)(t)}),s.default.createElement(g.Box,{padding:1,display:b.Display.Flex,flexDirection:b.FlexDirection.Row,justifyContent:b.JustifyContent.spaceBetween,alignItems:b.AlignItems.Center},s.default.createElement(g.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,justifyContent:b.JustifyContent.spaceEvenly,flexWrap:b.FlexWrap.NoWrap,width:b.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},B.blockExplorerUrl?s.default.createElement(g.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:g.BUTTON_SIZES.INHERIT},a||r||(0,T.shortenAddress)(t)):s.default.createElement(g.Text,{variant:b.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},a||r||(0,T.shortenAddress)(t)),s.default.createElement(g.Text,{variant:b.TextVariant.bodyMd,color:b.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n)))):s.default.createElement(g.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Row,flexWrap:b.FlexWrap.NoWrap,alignItems:b.AlignItems.Center,justifyContent:b.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${n}`},s.default.createElement(g.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Row,flexWrap:b.FlexWrap.NoWrap,alignItems:b.AlignItems.Center,justifyContent:b.JustifyContent.spaceBetween},u?s.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:a||n}):s.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),s.default.createElement(g.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,justifyContent:b.JustifyContent.spaceEvenly,flexWrap:b.FlexWrap.NoWrap,width:b.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},B.blockExplorerUrl?s.default.createElement(g.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:g.BUTTON_SIZES.INHERIT},a||r||(0,T.shortenAddress)(t)):s.default.createElement(g.Text,{variant:b.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},a||r||(0,T.shortenAddress)(t)),s.default.createElement(g.Text,{variant:b.TextVariant.bodySm,color:b.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n))),s.default.createElement(g.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:g.IconName.Close,size:g.ButtonIconSize.Sm,color:b.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),P((0,p.rejectPendingApproval)(e,(0,o.serializeError)(o.providerErrors.userRejectedRequest())))}}))}))))),s.default.createElement(u.PageContainerFooter,{cancelText:n("cancel"),submitText:1===O.length?n("addNft"):n("addNfts"),onCancel:X,onSubmit:Y}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[6855,{"./confirm-add-suggested-nft":6854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./confirm-add-suggested-nft"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}]],[],{});